/** 
 * xnb.js 1.3.0
 * made by Lybell( https://github.com/lybell-art/ )
 * This library is based on the XnbCli made by Leonblade.
 * 
 * xnb.js is licensed under the LGPL 3.0 License.
 * 
 * Libsquish license : MIT
 * -----------------------------------------------------------------------------
 *		Copyright (c) 2006 Simon Brown               si@sjbrown.co.uk
 *		Permission is hereby granted, free of charge, to any person obtaining
 *		a copy of this software and associated documentation files (the 
 *		"Software"), to	deal in the Software without restriction, including
 *		without limitation the rights to use, copy, modify, merge, publish,
 *		distribute, sublicense, and/or sell copies of the Software, and to 
 *		permit persons to whom the Software is furnished to do so, subject to 
 *		the following conditions:
 *		The above copyright notice and this permission notice shall be included
 *		in all copies or substantial portions of the Software.
 *		THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 *		OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF 
 *		MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 *		IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY 
 *		CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, 
 *		TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE 
 *		SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *		
 *	--------------------------------------------------------------------------
*/

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).XNB={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,n=function(t){try{return!!t()}catch(t){return!0}},o=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),u=function(t){return t&&t.Math==Math&&t},i=u("object"==typeof globalThis&&globalThis)||u("object"==typeof window&&window)||u("object"==typeof self&&self)||u("object"==typeof e&&e)||function(){return this}()||Function("return this")(),a=function(t){return"function"==typeof t},c=a,s=function(t){return"object"==typeof t?null!==t:c(t)},f=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),l=f,y=Function.prototype,h=y.bind,v=y.call,p=l&&h.bind(v,v),d=l?function(t){return t&&p(t)}:function(t){return t&&function(){return v.apply(t,arguments)}},w=i.TypeError,m=function(t){if(null==t)throw w("Can't call method on "+t);return t},g=i.Object,k=function(t){return g(m(t))},b=k,R=d({}.hasOwnProperty),x=Object.hasOwn||function(t,e){return R(b(t),e)},_={exports:{}},O=i,T=Object.defineProperty,S=function(t,e){try{T(O,t,{value:e,configurable:!0,writable:!0})}catch(r){O[t]=e}return e},A=S,M="__core-js_shared__",B=i[M]||A(M,{}),P=B;(_.exports=function(t,e){return P[t]||(P[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.22.4",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.4/LICENSE",source:"https://github.com/zloirock/core-js"});var z,V,I=d,j=0,E=Math.random(),C=I(1..toString),F=function(t){return"Symbol("+(void 0===t?"":t)+")_"+C(++j+E,36)},U=i,D=a,X=function(t){return D(t)?t:void 0},L=function(t,e){return arguments.length<2?X(U[t]):U[t]&&U[t][e]},W=i,N=L("navigator","userAgent")||"",G=W.process,Y=W.Deno,q=G&&G.versions||Y&&Y.version,K=q&&q.v8;K&&(V=(z=K.split("."))[0]>0&&z[0]<4?1:+(z[0]+z[1])),!V&&N&&(!(z=N.match(/Edge\/(\d+)/))||z[1]>=74)&&(z=N.match(/Chrome\/(\d+)/))&&(V=+z[1]);var J=V,H=n,Z=!!Object.getOwnPropertySymbols&&!H((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&J&&J<41})),$=Z&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Q=i,tt=_.exports,et=x,rt=F,nt=Z,ot=$,ut=tt("wks"),it=Q.Symbol,at=it&&it.for,ct=ot?it:it&&it.withoutSetter||rt,st=function(t){if(!et(ut,t)||!nt&&"string"!=typeof ut[t]){var e="Symbol."+t;nt&&et(it,t)?ut[t]=it[t]:ut[t]=ot&&at?at(e):ct(e)}return ut[t]},ft={};ft[st("toStringTag")]="z";var lt="[object z]"===String(ft),yt=d,ht=yt({}.toString),vt=yt("".slice),pt=function(t){return vt(ht(t),8,-1)},dt=i,wt=lt,mt=a,gt=pt,kt=st("toStringTag"),bt=dt.Object,Rt="Arguments"==gt(function(){return arguments}()),xt=wt?gt:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=bt(t),kt))?r:Rt?gt(e):"Object"==(n=gt(e))&&mt(e.callee)?"Arguments":n},_t=i.String,Ot=function(t){try{return _t(t)}catch(t){return"Object"}},Tt={},St=s,At=i.document,Mt=St(At)&&St(At.createElement),Bt=function(t){return Mt?At.createElement(t):{}},Pt=!o&&!n((function(){return 7!=Object.defineProperty(Bt("div"),"a",{get:function(){return 7}}).a})),zt=o&&n((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Vt=i,It=s,jt=Vt.String,Et=Vt.TypeError,Ct=function(t){if(It(t))return t;throw Et(jt(t)+" is not an object")},Ft=f,Ut=Function.prototype.call,Dt=Ft?Ut.bind(Ut):function(){return Ut.apply(Ut,arguments)},Xt=d({}.isPrototypeOf),Lt=L,Wt=a,Nt=Xt,Gt=$,Yt=i.Object,qt=Gt?function(t){return"symbol"==typeof t}:function(t){var e=Lt("Symbol");return Wt(e)&&Nt(e.prototype,Yt(t))},Kt=a,Jt=Ot,Ht=i.TypeError,Zt=function(t){if(Kt(t))return t;throw Ht(Jt(t)+" is not a function")},$t=Zt,Qt=Dt,te=a,ee=s,re=i.TypeError,ne=Dt,oe=s,ue=qt,ie=function(t,e){var r=t[e];return null==r?void 0:$t(r)},ae=function(t,e){var r,n;if("string"===e&&te(r=t.toString)&&!ee(n=Qt(r,t)))return n;if(te(r=t.valueOf)&&!ee(n=Qt(r,t)))return n;if("string"!==e&&te(r=t.toString)&&!ee(n=Qt(r,t)))return n;throw re("Can't convert object to primitive value")},ce=st,se=i.TypeError,fe=ce("toPrimitive"),le=function(t,e){if(!oe(t)||ue(t))return t;var r,n=ie(t,fe);if(n){if(void 0===e&&(e="default"),r=ne(n,t,e),!oe(r)||ue(r))return r;throw se("Can't convert object to primitive value")}return void 0===e&&(e="number"),ae(t,e)},ye=qt,he=o,ve=Pt,pe=zt,de=Ct,we=function(t){var e=le(t,"string");return ye(e)?e:e+""},me=i.TypeError,ge=Object.defineProperty,ke=Object.getOwnPropertyDescriptor,be="enumerable",Re="configurable",xe="writable";Tt.f=he?pe?function(t,e,r){if(de(t),e=we(e),de(r),"function"==typeof t&&"prototype"===e&&"value"in r&&xe in r&&!r.writable){var n=ke(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:Re in r?r.configurable:n.configurable,enumerable:be in r?r.enumerable:n.enumerable,writable:!1})}return ge(t,e,r)}:ge:function(t,e,r){if(de(t),e=we(e),de(r),ve)try{return ge(t,e,r)}catch(t){}if("get"in r||"set"in r)throw me("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var _e=Tt,Oe=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Te=o?function(t,e,r){return _e.f(t,e,Oe(1,r))}:function(t,e,r){return t[e]=r,t},Se={exports:{}},Ae=o,Me=x,Be=Function.prototype,Pe=Ae&&Object.getOwnPropertyDescriptor,ze=Me(Be,"name"),Ve={EXISTS:ze,PROPER:ze&&"something"===function(){}.name,CONFIGURABLE:ze&&(!Ae||Ae&&Pe(Be,"name").configurable)},Ie=a,je=B,Ee=d(Function.toString);Ie(je.inspectSource)||(je.inspectSource=function(t){return Ee(t)});var Ce,Fe,Ue,De=je.inspectSource,Xe=a,Le=De,We=i.WeakMap,Ne=Xe(We)&&/native code/.test(Le(We)),Ge=_.exports,Ye=F,qe=Ge("keys"),Ke=function(t){return qe[t]||(qe[t]=Ye(t))},Je=Ne,He=i,Ze=d,$e=s,Qe=Te,tr=x,er=B,rr=Ke,nr={},or="Object already initialized",ur=He.TypeError,ir=He.WeakMap;if(Je||er.state){var ar=er.state||(er.state=new ir),cr=Ze(ar.get),sr=Ze(ar.has),fr=Ze(ar.set);Ce=function(t,e){if(sr(ar,t))throw new ur(or);return e.facade=t,fr(ar,t,e),e},Fe=function(t){return cr(ar,t)||{}},Ue=function(t){return sr(ar,t)}}else{var lr=rr("state");nr[lr]=!0,Ce=function(t,e){if(tr(t,lr))throw new ur(or);return e.facade=t,Qe(t,lr,e),e},Fe=function(t){return tr(t,lr)?t[lr]:{}},Ue=function(t){return tr(t,lr)}}var yr={set:Ce,get:Fe,has:Ue,enforce:function(t){return Ue(t)?Fe(t):Ce(t,{})},getterFor:function(t){return function(e){var r;if(!$e(e)||(r=Fe(e)).type!==t)throw ur("Incompatible receiver, "+t+" required");return r}}},hr=n,vr=a,pr=x,dr=Tt.f,wr=Ve.CONFIGURABLE,mr=De,gr=yr.enforce,kr=yr.get,br=!hr((function(){return 8!==dr((function(){}),"length",{value:8}).length})),Rr=String(String).split("String"),xr=Se.exports=function(t,e,r){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!pr(t,"name")||wr&&t.name!==e)&&dr(t,"name",{value:e,configurable:!0}),br&&r&&pr(r,"arity")&&t.length!==r.arity&&dr(t,"length",{value:r.arity});var n=gr(t);return pr(n,"source")||(n.source=Rr.join("string"==typeof e?e:"")),t};Function.prototype.toString=xr((function(){return vr(this)&&kr(this).source||mr(this)}),"toString");var _r,Or,Tr,Sr=i,Ar=a,Mr=Te,Br=Se.exports,Pr=S,zr=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Vr=i,Ir=x,jr=a,Er=k,Cr=zr,Fr=Ke("IE_PROTO"),Ur=Vr.Object,Dr=Ur.prototype,Xr=Cr?Ur.getPrototypeOf:function(t){var e=Er(t);if(Ir(e,Fr))return e[Fr];var r=e.constructor;return jr(r)&&e instanceof r?r.prototype:e instanceof Ur?Dr:null},Lr=i,Wr=a,Nr=Lr.String,Gr=Lr.TypeError,Yr=d,qr=Ct,Kr=function(t){if("object"==typeof t||Wr(t))return t;throw Gr("Can't set "+Nr(t)+" as a prototype")},Jr=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Yr(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return qr(r),Kr(n),e?t(r,n):r.__proto__=n,r}}():void 0),Hr=r,Zr=o,$r=i,Qr=a,tn=s,en=x,rn=xt,nn=Ot,on=Te,un=function(t,e,r,n){var o=!!n&&!!n.unsafe,u=!!n&&!!n.enumerable,i=!!n&&!!n.noTargetGet,a=n&&void 0!==n.name?n.name:e;return Ar(r)&&Br(r,a,n),t===Sr?(u?t[e]=r:Pr(e,r),t):(o?!i&&t[e]&&(u=!0):delete t[e],u?t[e]=r:Mr(t,e,r),t)},an=Tt.f,cn=Xt,sn=Xr,fn=Jr,ln=st,yn=F,hn=$r.Int8Array,vn=hn&&hn.prototype,pn=$r.Uint8ClampedArray,dn=pn&&pn.prototype,wn=hn&&sn(hn),mn=vn&&sn(vn),gn=Object.prototype,kn=$r.TypeError,bn=ln("toStringTag"),Rn=yn("TYPED_ARRAY_TAG"),xn=yn("TYPED_ARRAY_CONSTRUCTOR"),_n=Hr&&!!fn&&"Opera"!==rn($r.opera),On=!1,Tn={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Sn={BigInt64Array:8,BigUint64Array:8},An=function(t){if(!tn(t))return!1;var e=rn(t);return en(Tn,e)||en(Sn,e)};for(_r in Tn)(Tr=(Or=$r[_r])&&Or.prototype)?on(Tr,xn,Or):_n=!1;for(_r in Sn)(Tr=(Or=$r[_r])&&Or.prototype)&&on(Tr,xn,Or);if((!_n||!Qr(wn)||wn===Function.prototype)&&(wn=function(){throw kn("Incorrect invocation")},_n))for(_r in Tn)$r[_r]&&fn($r[_r],wn);if((!_n||!mn||mn===gn)&&(mn=wn.prototype,_n))for(_r in Tn)$r[_r]&&fn($r[_r].prototype,mn);if(_n&&sn(dn)!==mn&&fn(dn,mn),Zr&&!en(mn,bn))for(_r in On=!0,an(mn,bn,{get:function(){return tn(this)?this[Rn]:void 0}}),Tn)$r[_r]&&on($r[_r],Rn,_r);var Mn={NATIVE_ARRAY_BUFFER_VIEWS:_n,TYPED_ARRAY_CONSTRUCTOR:xn,TYPED_ARRAY_TAG:On&&Rn,aTypedArray:function(t){if(An(t))return t;throw kn("Target is not a typed array")},aTypedArrayConstructor:function(t){if(Qr(t)&&(!fn||cn(wn,t)))return t;throw kn(nn(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r,n){if(Zr){if(r)for(var o in Tn){var u=$r[o];if(u&&en(u.prototype,t))try{delete u.prototype[t]}catch(r){try{u.prototype[t]=e}catch(t){}}}mn[t]&&!r||un(mn,t,r?e:_n&&vn[t]||e,n)}},exportTypedArrayStaticMethod:function(t,e,r){var n,o;if(Zr){if(fn){if(r)for(n in Tn)if((o=$r[n])&&en(o,t))try{delete o[t]}catch(t){}if(wn[t]&&!r)return;try{return un(wn,t,r?e:_n&&wn[t]||e)}catch(t){}}for(n in Tn)!(o=$r[n])||o[t]&&!r||un(o,t,e)}},isView:function(t){if(!tn(t))return!1;var e=rn(t);return"DataView"===e||en(Tn,e)||en(Sn,e)},isTypedArray:An,TypedArray:wn,TypedArrayPrototype:mn},Bn=Zt,Pn=f,zn=d(d.bind),Vn=d,In=n,jn=pt,En=i.Object,Cn=Vn("".split),Fn=In((function(){return!En("z").propertyIsEnumerable(0)}))?function(t){return"String"==jn(t)?Cn(t,""):En(t)}:En,Un=Math.ceil,Dn=Math.floor,Xn=function(t){var e=+t;return e!=e||0===e?0:(e>0?Dn:Un)(e)},Ln=Math.min,Wn=function(t){return t>0?Ln(Xn(t),9007199254740991):0},Nn=pt,Gn=Array.isArray||function(t){return"Array"==Nn(t)},Yn=d,qn=n,Kn=a,Jn=xt,Hn=De,Zn=function(){},$n=[],Qn=L("Reflect","construct"),to=/^\s*(?:class|function)\b/,eo=Yn(to.exec),ro=!to.exec(Zn),no=function(t){if(!Kn(t))return!1;try{return Qn(Zn,$n,t),!0}catch(t){return!1}},oo=function(t){if(!Kn(t))return!1;switch(Jn(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ro||!!eo(to,Hn(t))}catch(t){return!0}};oo.sham=!0;var uo=!Qn||qn((function(){var t;return no(no.call)||!no(Object)||!no((function(){t=!0}))||t}))?oo:no,io=i,ao=Gn,co=uo,so=s,fo=st("species"),lo=io.Array,yo=function(t){var e;return ao(t)&&(e=t.constructor,(co(e)&&(e===lo||ao(e.prototype))||so(e)&&null===(e=e[fo]))&&(e=void 0)),void 0===e?lo:e},ho=function(t,e){return Bn(t),void 0===e?t:Pn?zn(t,e):function(){return t.apply(e,arguments)}},vo=Fn,po=k,wo=function(t){return Wn(t.length)},mo=function(t,e){return new(yo(t))(0===e?0:e)},go=d([].push),ko=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,u=6==t,i=7==t,a=5==t||u;return function(c,s,f,l){for(var y,h,v=po(c),p=vo(v),d=ho(s,f),w=wo(p),m=0,g=l||mo,k=e?g(c,w):r||i?g(c,0):void 0;w>m;m++)if((a||m in p)&&(h=d(y=p[m],m,v),t))if(e)k[m]=h;else if(h)switch(t){case 3:return!0;case 5:return y;case 6:return m;case 2:go(k,y)}else switch(t){case 4:return!1;case 7:go(k,y)}return u?-1:n||o?o:k}},bo={forEach:ko(0),map:ko(1),filter:ko(2),some:ko(3),every:ko(4),find:ko(5),findIndex:ko(6),filterReject:ko(7)},Ro=uo,xo=Ot,_o=i.TypeError,Oo=Ct,To=function(t){if(Ro(t))return t;throw _o(xo(t)+" is not a constructor")},So=st("species"),Ao=function(t,e){var r,n=Oo(t).constructor;return void 0===n||null==(r=Oo(n)[So])?e:To(r)},Mo=Mn.TYPED_ARRAY_CONSTRUCTOR,Bo=Mn.aTypedArrayConstructor,Po=bo.map,zo=function(t){return Bo(Ao(t,t[Mo]))},Vo=Mn.aTypedArray;(0,Mn.exportTypedArrayMethod)("map",(function(t){return Po(Vo(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(zo(t))(e)}))}));var Io=o,jo=Ve.EXISTS,Eo=d,Co=Tt.f,Fo=Function.prototype,Uo=Eo(Fo.toString),Do=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Xo=Eo(Do.exec);function Lo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Wo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Lo(Object(r),!0).forEach((function(e){Ko(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lo(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function No(t){return No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},No(t)}function Go(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function qo(t,e,r){return e&&Yo(t.prototype,e),r&&Yo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ko(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zo(t,e)}function Ho(t){return Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ho(t)}function Zo(t,e){return Zo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Zo(t,e)}function $o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Qo(t,e,r){return Qo=$o()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&Zo(o,r.prototype),o},Qo.apply(null,arguments)}function tu(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}Io&&!jo&&Co(Fo,"name",{configurable:!0,get:function(){try{return Xo(Do,Uo(this))[1]}catch(t){return""}}});var eu=qo((function t(){Go(this,t)}),[{key:"isValueType",value:function(){return!0}},{key:"type",get:function(){return this.constructor.type()}},{key:"read",value:function(t,e){throw new Error("Cannot invoke methods on abstract class.")}},{key:"write",value:function(t,e,r){throw new Error("Cannot invoke methods on abstract class.")}},{key:"writeIndex",value:function(t,e){null!=e&&t.write7BitNumber(parseInt(e.getIndex(this))+1)}},{key:"toString",value:function(){return this.type}},{key:"parseTypeList",value:function(){return this.constructor.parseTypeList()}}],[{key:"isTypeOf",value:function(t){return!1}},{key:"hasSubType",value:function(){return!1}},{key:"parseTypeList",value:function(){return[this.type()]}},{key:"type",value:function(){return this.name.slice(0,-6)}}]);function ru(t,e,r){return e=Ho(e),tu(t,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(e,r||[],Ho(t).constructor):e.apply(t,r))}var nu=function(t){function e(){return Go(this,e),ru(this,e,arguments)}return Jo(e,t),qo(e,[{key:"read",value:function(t){return t.readUInt32()}},{key:"write",value:function(t,e,r){this.writeIndex(t,r),t.writeUInt32(e)}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.UInt32Reader":case"System.UInt32":return!0;default:return!1}}}])}(eu);var ou=function(t){function e(t){var r,n,o,u;return Go(this,e),n=this,o=Ho(o=e),(r=tu(n,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(o,u||[],Ho(n).constructor):o.apply(n,u))).reader=t,r}return Jo(e,t),qo(e,[{key:"read",value:function(t,e){for(var r=(new nu).read(t),n=[],o=0;o<r;o++){var u=this.reader.isValueType()?this.reader.read(t):e.read(t);n.push(u)}return n}},{key:"write",value:function(t,e,r){this.writeIndex(t,r),(new nu).write(t,e.length,null);for(var n=0;n<e.length;n++)this.reader.write(t,e[n],this.reader.isValueType()?null:r)}},{key:"isValueType",value:function(){return!1}},{key:"type",get:function(){return"Array<".concat(this.reader.type,">")}},{key:"parseTypeList",value:function(){var t=this.reader.parseTypeList();return["".concat(this.type,":").concat(t.length)].concat(t)}}],[{key:"isTypeOf",value:function(t){return"Microsoft.Xna.Framework.Content.ArrayReader"===t}},{key:"hasSubType",value:function(){return!0}}])}(eu);function uu(t,e){if(!t||"object"!==No(t))throw new Error("Invalid Data!");for(var r=[],n=t.length,o=0;o<n;o++)r[o]=e(t[o],o);return r}function iu(t){return t<0?Math.ceil(t):Math.floor(t)}void 0!==Promise.allSettled&&Promise.allSettled.bind(Promise);var au=[55296,56320];function cu(t){var e;if("number"==typeof t&&(t=[t]),null===(e=t)||void 0===e||!e.length)throw new Error("Invalid codeset!");return 1===t.length?t[0]:((1023&t[0])<<10)+(1023&t[1])+65536}function su(t){var e=function(t){for(var e=uu({length:t.length},(function(e,r){return t.charCodeAt(r)})),r=[],n=0;n<t.length;){var o=e[n];(au[0]&o)!==au[0]?(r.push(o),n++):(r.push(cu(e.slice(n,n+2))),n+=2)}return r}(t);return e.reduce((function(t,e){return e<128?t+1:e<2048?t+2:e<65536?t+3:t+4}),0)}function fu(t,e,r){return e=Ho(e),tu(t,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(e,r||[],Ho(t).constructor):e.apply(t,r))}var lu=function(t){function e(){return Go(this,e),fu(this,e,arguments)}return Jo(e,t),qo(e,[{key:"read",value:function(t){var e=t.read7BitNumber();return t.readString(e)}},{key:"write",value:function(t,e,r){this.writeIndex(t,r);var n=su(e);t.write7BitNumber(n),t.writeString(e)}},{key:"isValueType",value:function(){return!1}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.StringReader":case"System.String":return!0;default:return!1}}}])}(eu);function yu(t,e,r){return e=Ho(e),tu(t,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(e,r||[],Ho(t).constructor):e.apply(t,r))}var hu=function(t){function e(){return Go(this,e),yu(this,e,arguments)}return Jo(e,t),qo(e,[{key:"read",value:function(t){var e=(new lu).read(t);return{export:{type:this.type,data:e}}}},{key:"write",value:function(t,e,r){this.writeIndex(t,r),(new lu).write(t,e.export.data,null)}},{key:"isValueType",value:function(){return!1}}],[{key:"isTypeOf",value:function(t){return"BmFont.XmlSourceReader"===t}}])}(eu);function vu(t,e,r){return e=Ho(e),tu(t,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(e,r||[],Ho(t).constructor):e.apply(t,r))}var pu=function(t){function e(){return Go(this,e),vu(this,e,arguments)}return Jo(e,t),qo(e,[{key:"read",value:function(t){return Boolean(t.readInt())}},{key:"write",value:function(t,e,r){this.writeIndex(t,r),t.writeByte(e)}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.BooleanReader":case"System.Boolean":return!0;default:return!1}}}])}(eu);function du(t,e,r){return e=Ho(e),tu(t,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(e,r||[],Ho(t).constructor):e.apply(t,r))}var wu=function(t){function e(){return Go(this,e),du(this,e,arguments)}return Jo(e,t),qo(e,[{key:"read",value:function(t){var e=this._getCharSize(t.peekInt());return t.readString(e)}},{key:"write",value:function(t,e,r){this.writeIndex(t,r),t.writeString(e)}},{key:"_getCharSize",value:function(t){return 1+(3841982464>>(t>>3&30)&3)}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.CharReader":case"System.Char":return!0;default:return!1}}}])}(eu);var mu=function(t){function e(t,r){var n,o,u,i;if(Go(this,e),null==t||null==r)throw new Error("Cannot create instance of DictionaryReader without Key and Value.");return o=this,u=Ho(u=e),(n=tu(o,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(u,i||[],Ho(o).constructor):u.apply(o,i))).key=t,n.value=r,n}return Jo(e,t),qo(e,[{key:"read",value:function(t,e){for(var r={},n=(new nu).read(t),o=0;o<n;o++){var u=this.key.isValueType()?this.key.read(t):e.read(t),i=this.value.isValueType()?this.value.read(t):e.read(t);r[u]=i}return r}},{key:"write",value:function(t,e,r){this.writeIndex(t,r),t.writeUInt32(Object.keys(e).length);for(var n=0,o=Object.keys(e);n<o.length;n++){var u=o[n];this.key.write(t,u,this.key.isValueType()?null:r),this.value.write(t,e[u],this.value.isValueType()?null:r)}}},{key:"isValueType",value:function(){return!1}},{key:"type",get:function(){return"Dictionary<".concat(this.key.type,",").concat(this.value.type,">")}},{key:"parseTypeList",value:function(){return[this.type].concat(this.key.parseTypeList(),this.value.parseTypeList())}}],[{key:"isTypeOf",value:function(t){return"Microsoft.Xna.Framework.Content.DictionaryReader"===t}},{key:"hasSubType",value:function(){return!0}}])}(eu);function gu(t,e,r){return e=Ho(e),tu(t,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(e,r||[],Ho(t).constructor):e.apply(t,r))}var ku=function(t){function e(){return Go(this,e),gu(this,e,arguments)}return Jo(e,t),qo(e,[{key:"read",value:function(t){return t.readDouble()}},{key:"write",value:function(t,e,r){this.writeIndex(t,r),t.writeDouble(e)}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.DoubleReader":case"System.Double":return!0;default:return!1}}}])}(eu);function bu(t,e,r){return e=Ho(e),tu(t,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(e,r||[],Ho(t).constructor):e.apply(t,r))}var Ru=function(t){function e(){return Go(this,e),bu(this,e,arguments)}return Jo(e,t),qo(e,[{key:"read",value:function(t){var e=(new nu).read(t),r=t.read(e);return{export:{type:this.type,data:r}}}},{key:"write",value:function(t,e,r){this.writeIndex(t,r);var n=e.export.data;(new nu).write(t,n.byteLength,null),t.concat(n)}},{key:"isValueType",value:function(){return!1}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.EffectReader":case"Microsoft.Xna.Framework.Graphics.Effect":return!0;default:return!1}}}])}(eu);function xu(t,e,r){return e=Ho(e),tu(t,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(e,r||[],Ho(t).constructor):e.apply(t,r))}var _u=function(t){function e(){return Go(this,e),xu(this,e,arguments)}return Jo(e,t),qo(e,[{key:"read",value:function(t){return t.readInt32()}},{key:"write",value:function(t,e,r){this.writeIndex(t,r),t.writeInt32(e)}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.Int32Reader":case"Microsoft.Xna.Framework.Content.EnumReader":case"System.Int32":return!0;default:return!1}}}])}(eu);var Ou=function(t){function e(t){var r,n,o,u;return Go(this,e),n=this,o=Ho(o=e),(r=tu(n,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(o,u||[],Ho(n).constructor):o.apply(n,u))).reader=t,r}return Jo(e,t),qo(e,[{key:"read",value:function(t,e){for(var r=(new nu).read(t),n=[],o=0;o<r;o++){var u=this.reader.isValueType()?this.reader.read(t):e.read(t);n.push(u)}return n}},{key:"write",value:function(t,e,r){this.writeIndex(t,r),(new nu).write(t,e.length,null);for(var n=0;n<e.length;n++){var o=e[n];this.reader.write(t,o,this.reader.isValueType()?null:r)}}},{key:"isValueType",value:function(){return!1}},{key:"type",get:function(){return"List<".concat(this.reader.type,">")}},{key:"parseTypeList",value:function(){var t=this.reader.parseTypeList();return["".concat(this.type,":").concat(t.length)].concat(t)}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.ListReader":case"System.Collections.Generic.List":return!0;default:return!1}}},{key:"hasSubType",value:function(){return!0}}])}(eu);var Tu=function(t){function e(t){var r,n,o,u;return Go(this,e),n=this,o=Ho(o=e),(r=tu(n,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(o,u||[],Ho(n).constructor):o.apply(n,u))).reader=t,r}return Jo(e,t),qo(e,[{key:"read",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=new pu,n=t.peekByte(1);return n?null===e||this.reader.isValueType()?(r.read(t),this.reader.read(t)):e.read(t):(r.read(t),null)}},{key:"write",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;new pu,null!==e?((null===r||this.reader.isValueType())&&t.writeByte(1),this.reader.write(t,e,this.reader.isValueType()?null:r)):t.writeByte(0)}},{key:"isValueType",value:function(){return!1}},{key:"type",get:function(){return"Nullable<".concat(this.reader.type,">")}},{key:"parseTypeList",value:function(){var t=this.reader.parseTypeList();return["".concat(this.type,":").concat(t.length)].concat(t)}}],[{key:"isTypeOf",value:function(t){return"Microsoft.Xna.Framework.Content.NullableReader"===t}},{key:"hasSubType",value:function(){return!0}}])}(eu);function Su(t,e,r){return e=Ho(e),tu(t,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(e,r||[],Ho(t).constructor):e.apply(t,r))}var Au=function(t){function e(){return Go(this,e),Su(this,e,arguments)}return Jo(e,t),qo(e,[{key:"read",value:function(t){var e=new _u;return{x:e.read(t),y:e.read(t)}}},{key:"write",value:function(t,e,r){this.writeIndex(t,r);var n=new _u;n.write(t,e.x,null),n.write(t,e.y,null)}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.PointReader":case"Microsoft.Xna.Framework.Point":return!0;default:return!1}}}])}(eu);var Mu=function(t){function e(t){var r,n,o,u;return Go(this,e),n=this,o=Ho(o=e),(r=tu(n,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(o,u||[],Ho(n).constructor):o.apply(n,u))).reader=t,r}return Jo(e,t),qo(e,[{key:"read",value:function(t,e){return this.reader.read(t,e)}},{key:"write",value:function(t,e,r){this.reader.write(t,e,this.reader.isValueType()?null:r)}},{key:"isValueType",value:function(){return!1}},{key:"type",get:function(){return"".concat(this.reader.type)}},{key:"parseTypeList",value:function(){return[].concat(this.reader.parseTypeList())}}],[{key:"isTypeOf",value:function(t){return"Microsoft.Xna.Framework.Content.ReflectiveReader"===t}},{key:"hasSubType",value:function(){return!0}}])}(eu);function Bu(t,e,r){return e=Ho(e),tu(t,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(e,r||[],Ho(t).constructor):e.apply(t,r))}var Pu=function(t){function e(){return Go(this,e),Bu(this,e,arguments)}return Jo(e,t),qo(e,[{key:"read",value:function(t){var e=new _u;return{x:e.read(t),y:e.read(t),width:e.read(t),height:e.read(t)}}},{key:"write",value:function(t,e,r){this.writeIndex(t,r);var n=new _u;n.write(t,e.x,null),n.write(t,e.y,null),n.write(t,e.width,null),n.write(t,e.height,null)}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.RectangleReader":case"Microsoft.Xna.Framework.Rectangle":return!0;default:return!1}}}])}(eu);function zu(t,e,r){return e=Ho(e),tu(t,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(e,r||[],Ho(t).constructor):e.apply(t,r))}var Vu=function(t){function e(){return Go(this,e),zu(this,e,arguments)}return Jo(e,t),qo(e,[{key:"read",value:function(t){return t.readSingle()}},{key:"write",value:function(t,e,r){this.writeIndex(t,r),t.writeSingle(e)}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.SingleReader":case"System.Single":return!0;default:return!1}}}])}(eu),Iu=256;function ju(t,e,r,n){for(var o=Array(n),u=0;u<n;u++)o[u]=Array(n);for(var i=0;i<n;i++)for(var a=0;a<n;a++)o[i][a]=1*(i===a);var c=function(t){return[[Math.cos(t),Math.sin(t)],[-Math.sin(t),Math.cos(t)]]}(r);return o[t][t]=c[0][0],o[e][e]=c[1][1],o[t][e]=c[0][1],o[e][t]=c[1][0],o}function Eu(t,e,r){var n=e-t;return Math.abs(n)<=1e-12?Math.PI/4:.5*Math.atan(2*r/(e-t))}function Cu(t){for(var e=t.length,r=0,n=[0,1],o=0;o<e;o++)for(var u=o+1;u<e;u++)Math.abs(r)<=Math.abs(t[o][u])&&(r=Math.abs(t[o][u]),n=[o,u]);return[n,r]}function Fu(t,e){for(var r=t.length,n=Array(r),o=0;o<r;o++)n[o]=Array(r);for(var u=0;u<r;u++)for(var i=0;i<r;i++){n[u][i]=0;for(var a=0;a<r;a++)for(var c=0;c<r;c++)n[u][i]=n[u][i]+t[a][u]*e[a][c]*t[c][i]}return n}function Uu(t,e){for(var r=t.length,n=Array(r),o=0;o<r;o++)n[o]=Array(r);for(var u=0;u<r;u++)for(var i=0;i<r;i++){n[u][i]=0;for(var a=0;a<r;a++)n[u][i]=n[u][i]+t[u][a]*e[a][i]}return n}function Du(t,e){var r=t.length;e.length;var n=uu({length:r},(function(r,n){var o=e.map((function(t){return t[n]}));return{value:t[n],vec:o}}));return n.sort((function(t,e){return e.value-t.value})),[n.map((function(t){return t.value})),n.map((function(t){return t.vec}))]}function Xu(t){var e=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-7,r=t.length,n=Array(r),o=Math.abs(e/r),u=Array(r),i=0;i<r;i++)u[i]=Array(r);for(var a=0;a<r;a++)for(var c=0;c<r;c++)u[a][c]=1*(a===c);for(var s=Cu(t);Math.abs(s[1])>=Math.abs(o);){var f=s[0][0],l=s[0][1],y=ju(f,l,Eu(t[f][f],t[l][l],t[f][l]),r);t=Fu(y,t),u=Uu(u,y),s=Cu(t)}for(var h=0;h<r;h++)n[h]=t[h][h];return Du(n,u)}(t);return e[1][0]}var Lu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;Go(this,t),this._values=[e,r,n]}return qo(t,[{key:"x",get:function(){return this._values[0]},set:function(t){this._values[0]=t}},{key:"y",get:function(){return this._values[1]},set:function(t){this._values[1]=t}},{key:"z",get:function(){return this._values[2]},set:function(t){this._values[2]=t}},{key:"length",get:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"lengthSq",get:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"normalized",get:function(){return 0===this.length?null:t.multScalar(this,1/this.length)}},{key:"colorInt",get:function(){return this._values.map((function(t){var e=parseInt(255*t+.5);return Math.max(Math.min(e,255),0)}))}},{key:"clone",value:function(){return new t(this.x,this.y,this.z)}},{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return this._values[0]=t,this._values[1]=e,this._values[2]=r,this}},{key:"toVec4",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Wu(this.x,this.y,this.z,t)}},{key:"addVector",value:function(t){return this._values[0]+=t.x,this._values[1]+=t.y,this._values[2]+=t.z,this}},{key:"addScaledVector",value:function(t,e){return this._values[0]+=t.x*e,this._values[1]+=t.y*e,this._values[2]+=t.z*e,this}},{key:"mult",value:function(t){return this._values[0]*=t,this._values[1]*=t,this._values[2]*=t,this}},{key:"multVector",value:function(t){return this._values[0]*=t.x,this._values[1]*=t.y,this._values[2]*=t.z,this}},{key:"clamp",value:function(t,e){var r=function(r){return t>r?t:e<r?e:r};return this._values[0]=r(this._values[0]),this._values[1]=r(this._values[1]),this._values[2]=r(this._values[2]),this}},{key:"clampGrid",value:function(){var t=function(t,e){return iu((0>(r=t)?0:1<r?1:r)*e+.5)/e;var r};return this._values[0]=t(this._values[0],31),this._values[1]=t(this._values[1],63),this._values[2]=t(this._values[2],31),this}},{key:"normalize",value:function(){return this._values[0]/=this.length,this._values[1]/=this.length,this._values[2]/=this.length,this}},{key:"toString",value:function(){return"Vec3( ".concat(this._values.join(", ")," )")}}],[{key:"add",value:function(e,r){return new t(e.x+r.x,e.y+r.y,e.z+r.z)}},{key:"sub",value:function(e,r){return new t(e.x-r.x,e.y-r.y,e.z-r.z)}},{key:"dot",value:function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z}},{key:"multScalar",value:function(e,r){return new t(e.x*r,e.y*r,e.z*r)}},{key:"multVector",value:function(e,r){return new t(e.x*r.x,e.y*r.y,e.z*r.z)}},{key:"interpolate",value:function(e,r,n){var o=t.multScalar(e,1-n),u=t.multScalar(r,n);return t.add(o,u)}}])}(),Wu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;Go(this,t),this._values=[e,r,n,o]}return qo(t,[{key:"x",get:function(){return this._values[0]},set:function(t){this._values[0]=t}},{key:"y",get:function(){return this._values[1]},set:function(t){this._values[1]=t}},{key:"z",get:function(){return this._values[2]},set:function(t){this._values[2]=t}},{key:"w",get:function(){return this._values[3]},set:function(t){this._values[3]=t}},{key:"length",get:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"lengthSq",get:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"normalized",get:function(){return 0===this.length?null:t.multScalar(this,1/this.length)}},{key:"xyz",get:function(){return new Lu(this.x,this.y,this.z)}},{key:"splatX",get:function(){return new t(this.x)}},{key:"splatY",get:function(){return new t(this.y)}},{key:"splatZ",get:function(){return new t(this.z)}},{key:"splatW",get:function(){return new t(this.w)}},{key:"clone",value:function(){return new t(this.x,this.y,this.z,this.w)}},{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;return this._values[0]=t,this._values[1]=e,this._values[2]=r,this._values[3]=n,this}},{key:"toVec3",value:function(){return this.xyz}},{key:"addVector",value:function(t){return this._values[0]+=t.x,this._values[1]+=t.y,this._values[2]+=t.z,this._values[3]+=t.w,this}},{key:"addScaledVector",value:function(t,e){return this._values[0]+=t.x*e,this._values[1]+=t.y*e,this._values[2]+=t.z*e,this._values[3]+=t.w*e,this}},{key:"subVector",value:function(t){return this._values[0]-=t.x,this._values[1]-=t.y,this._values[2]-=t.z,this._values[3]-=t.w,this}},{key:"mult",value:function(t){return this._values[0]*=t,this._values[1]*=t,this._values[2]*=t,this._values[3]*=t,this}},{key:"multVector",value:function(t){return this._values[0]*=t.x,this._values[1]*=t.y,this._values[2]*=t.z,this._values[3]*=t.w,this}},{key:"reciprocal",value:function(){return this._values[0]=1/this._values[0],this._values[1]=1/this._values[1],this._values[2]=1/this._values[2],this._values[3]=1/this._values[3],this}},{key:"clamp",value:function(t,e){var r=function(r){return t>r?t:e<r?e:r};return this._values[0]=r(this._values[0]),this._values[1]=r(this._values[1]),this._values[2]=r(this._values[2]),this._values[3]=r(this._values[3]),this}},{key:"clampGrid",value:function(){var t=function(t){return 0>t?0:1<t?1:t},e=function(e,r){return iu(t(e)*r+.5)/r};return this._values[0]=e(this._values[0],31),this._values[1]=e(this._values[1],63),this._values[2]=e(this._values[2],31),this._values[3]=t(this._values[3]),this}},{key:"truncate",value:function(){return this._values[0]=iu(this._values[0]),this._values[1]=iu(this._values[1]),this._values[2]=iu(this._values[2]),this._values[3]=iu(this._values[3]),this}},{key:"normalize",value:function(){return this._values[0]/=this.length,this._values[1]/=this.length,this._values[2]/=this.length,this._values[3]/=this.length,this}},{key:"toString",value:function(){return"Vec4( ".concat(this._values.join(", ")," )")}}],[{key:"add",value:function(e,r){return new t(e.x+r.x,e.y+r.y,e.z+r.z,e.w+r.w)}},{key:"sub",value:function(e,r){return new t(e.x-r.x,e.y-r.y,e.z-r.z,e.w-r.w)}},{key:"dot",value:function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w}},{key:"multScalar",value:function(e,r){return new t(e.x*r,e.y*r,e.z*r,e.w*r)}},{key:"multVector",value:function(e,r){return new t(e.x*r.x,e.y*r.y,e.z*r.z,e.w*r.w)}},{key:"interpolate",value:function(e,r,n){var o=t.multScalar(e,1-n),u=t.multScalar(r,n);return t.add(o,u)}},{key:"multiplyAdd",value:function(e,r,n){return new t(e.x*r.x+n.x,e.y*r.y+n.y,e.z*r.z+n.z,e.w*r.w+n.w)}},{key:"negativeMultiplySubtract",value:function(e,r,n){return new t(n.x-e.x*r.x,n.y-e.y*r.y,n.z-e.z*r.z,n.w-e.w*r.w)}},{key:"compareAnyLessThan",value:function(t,e){return t.x<e.x||t.y<e.y||t.z<e.z||t.w<e.w}}])}();function Nu(t,e){var r=function(t,e){var r=0,n=t.reduce((function(t,n,o){return r+=e[o],t.addScaledVector(n,e[o]),t}),new Lu(0));n.mult(1/r);var o=t.reduce((function(t,r,o){var u=e[o],i=Lu.sub(r,n);return t[0][0]+=i.x*i.x*u,t[0][1]+=i.x*i.y*u,t[0][2]+=i.x*i.z*u,t[1][1]+=i.y*i.y*u,t[1][2]+=i.y*i.z*u,t[2][2]+=i.z*i.z*u,t}),[[0,0,0],[0,0,0],[0,0,0]]);return o[1][0]=o[0][1],o[2][0]=o[0][2],o[2][1]=o[1][2],o}(t,e);return Qo(Lu,Xu(r))}var Gu=[[[0,0,0],[0,0,0]],[[0,0,1],[0,0,1]],[[0,0,2],[0,0,2]],[[0,0,3],[0,1,1]],[[0,0,4],[0,1,0]],[[1,0,3],[0,1,1]],[[1,0,2],[0,1,2]],[[1,0,1],[0,2,1]],[[1,0,0],[0,2,0]],[[1,0,1],[0,2,1]],[[1,0,2],[0,2,2]],[[1,0,3],[0,3,1]],[[1,0,4],[0,3,0]],[[2,0,3],[0,3,1]],[[2,0,2],[0,3,2]],[[2,0,1],[0,4,1]],[[2,0,0],[0,4,0]],[[2,0,1],[0,4,1]],[[2,0,2],[0,4,2]],[[2,0,3],[0,5,1]],[[2,0,4],[0,5,0]],[[3,0,3],[0,5,1]],[[3,0,2],[0,5,2]],[[3,0,1],[0,6,1]],[[3,0,0],[0,6,0]],[[3,0,1],[0,6,1]],[[3,0,2],[0,6,2]],[[3,0,3],[0,7,1]],[[3,0,4],[0,7,0]],[[4,0,4],[0,7,1]],[[4,0,3],[0,7,2]],[[4,0,2],[1,7,1]],[[4,0,1],[1,7,0]],[[4,0,0],[0,8,0]],[[4,0,1],[0,8,1]],[[4,0,2],[2,7,1]],[[4,0,3],[2,7,0]],[[4,0,4],[0,9,0]],[[5,0,3],[0,9,1]],[[5,0,2],[3,7,1]],[[5,0,1],[3,7,0]],[[5,0,0],[0,10,0]],[[5,0,1],[0,10,1]],[[5,0,2],[0,10,2]],[[5,0,3],[0,11,1]],[[5,0,4],[0,11,0]],[[6,0,3],[0,11,1]],[[6,0,2],[0,11,2]],[[6,0,1],[0,12,1]],[[6,0,0],[0,12,0]],[[6,0,1],[0,12,1]],[[6,0,2],[0,12,2]],[[6,0,3],[0,13,1]],[[6,0,4],[0,13,0]],[[7,0,3],[0,13,1]],[[7,0,2],[0,13,2]],[[7,0,1],[0,14,1]],[[7,0,0],[0,14,0]],[[7,0,1],[0,14,1]],[[7,0,2],[0,14,2]],[[7,0,3],[0,15,1]],[[7,0,4],[0,15,0]],[[8,0,4],[0,15,1]],[[8,0,3],[0,15,2]],[[8,0,2],[1,15,1]],[[8,0,1],[1,15,0]],[[8,0,0],[0,16,0]],[[8,0,1],[0,16,1]],[[8,0,2],[2,15,1]],[[8,0,3],[2,15,0]],[[8,0,4],[0,17,0]],[[9,0,3],[0,17,1]],[[9,0,2],[3,15,1]],[[9,0,1],[3,15,0]],[[9,0,0],[0,18,0]],[[9,0,1],[0,18,1]],[[9,0,2],[0,18,2]],[[9,0,3],[0,19,1]],[[9,0,4],[0,19,0]],[[10,0,3],[0,19,1]],[[10,0,2],[0,19,2]],[[10,0,1],[0,20,1]],[[10,0,0],[0,20,0]],[[10,0,1],[0,20,1]],[[10,0,2],[0,20,2]],[[10,0,3],[0,21,1]],[[10,0,4],[0,21,0]],[[11,0,3],[0,21,1]],[[11,0,2],[0,21,2]],[[11,0,1],[0,22,1]],[[11,0,0],[0,22,0]],[[11,0,1],[0,22,1]],[[11,0,2],[0,22,2]],[[11,0,3],[0,23,1]],[[11,0,4],[0,23,0]],[[12,0,4],[0,23,1]],[[12,0,3],[0,23,2]],[[12,0,2],[1,23,1]],[[12,0,1],[1,23,0]],[[12,0,0],[0,24,0]],[[12,0,1],[0,24,1]],[[12,0,2],[2,23,1]],[[12,0,3],[2,23,0]],[[12,0,4],[0,25,0]],[[13,0,3],[0,25,1]],[[13,0,2],[3,23,1]],[[13,0,1],[3,23,0]],[[13,0,0],[0,26,0]],[[13,0,1],[0,26,1]],[[13,0,2],[0,26,2]],[[13,0,3],[0,27,1]],[[13,0,4],[0,27,0]],[[14,0,3],[0,27,1]],[[14,0,2],[0,27,2]],[[14,0,1],[0,28,1]],[[14,0,0],[0,28,0]],[[14,0,1],[0,28,1]],[[14,0,2],[0,28,2]],[[14,0,3],[0,29,1]],[[14,0,4],[0,29,0]],[[15,0,3],[0,29,1]],[[15,0,2],[0,29,2]],[[15,0,1],[0,30,1]],[[15,0,0],[0,30,0]],[[15,0,1],[0,30,1]],[[15,0,2],[0,30,2]],[[15,0,3],[0,31,1]],[[15,0,4],[0,31,0]],[[16,0,4],[0,31,1]],[[16,0,3],[0,31,2]],[[16,0,2],[1,31,1]],[[16,0,1],[1,31,0]],[[16,0,0],[4,28,0]],[[16,0,1],[4,28,1]],[[16,0,2],[2,31,1]],[[16,0,3],[2,31,0]],[[16,0,4],[4,29,0]],[[17,0,3],[4,29,1]],[[17,0,2],[3,31,1]],[[17,0,1],[3,31,0]],[[17,0,0],[4,30,0]],[[17,0,1],[4,30,1]],[[17,0,2],[4,30,2]],[[17,0,3],[4,31,1]],[[17,0,4],[4,31,0]],[[18,0,3],[4,31,1]],[[18,0,2],[4,31,2]],[[18,0,1],[5,31,1]],[[18,0,0],[5,31,0]],[[18,0,1],[5,31,1]],[[18,0,2],[5,31,2]],[[18,0,3],[6,31,1]],[[18,0,4],[6,31,0]],[[19,0,3],[6,31,1]],[[19,0,2],[6,31,2]],[[19,0,1],[7,31,1]],[[19,0,0],[7,31,0]],[[19,0,1],[7,31,1]],[[19,0,2],[7,31,2]],[[19,0,3],[8,31,1]],[[19,0,4],[8,31,0]],[[20,0,4],[8,31,1]],[[20,0,3],[8,31,2]],[[20,0,2],[9,31,1]],[[20,0,1],[9,31,0]],[[20,0,0],[12,28,0]],[[20,0,1],[12,28,1]],[[20,0,2],[10,31,1]],[[20,0,3],[10,31,0]],[[20,0,4],[12,29,0]],[[21,0,3],[12,29,1]],[[21,0,2],[11,31,1]],[[21,0,1],[11,31,0]],[[21,0,0],[12,30,0]],[[21,0,1],[12,30,1]],[[21,0,2],[12,30,2]],[[21,0,3],[12,31,1]],[[21,0,4],[12,31,0]],[[22,0,3],[12,31,1]],[[22,0,2],[12,31,2]],[[22,0,1],[13,31,1]],[[22,0,0],[13,31,0]],[[22,0,1],[13,31,1]],[[22,0,2],[13,31,2]],[[22,0,3],[14,31,1]],[[22,0,4],[14,31,0]],[[23,0,3],[14,31,1]],[[23,0,2],[14,31,2]],[[23,0,1],[15,31,1]],[[23,0,0],[15,31,0]],[[23,0,1],[15,31,1]],[[23,0,2],[15,31,2]],[[23,0,3],[16,31,1]],[[23,0,4],[16,31,0]],[[24,0,4],[16,31,1]],[[24,0,3],[16,31,2]],[[24,0,2],[17,31,1]],[[24,0,1],[17,31,0]],[[24,0,0],[20,28,0]],[[24,0,1],[20,28,1]],[[24,0,2],[18,31,1]],[[24,0,3],[18,31,0]],[[24,0,4],[20,29,0]],[[25,0,3],[20,29,1]],[[25,0,2],[19,31,1]],[[25,0,1],[19,31,0]],[[25,0,0],[20,30,0]],[[25,0,1],[20,30,1]],[[25,0,2],[20,30,2]],[[25,0,3],[20,31,1]],[[25,0,4],[20,31,0]],[[26,0,3],[20,31,1]],[[26,0,2],[20,31,2]],[[26,0,1],[21,31,1]],[[26,0,0],[21,31,0]],[[26,0,1],[21,31,1]],[[26,0,2],[21,31,2]],[[26,0,3],[22,31,1]],[[26,0,4],[22,31,0]],[[27,0,3],[22,31,1]],[[27,0,2],[22,31,2]],[[27,0,1],[23,31,1]],[[27,0,0],[23,31,0]],[[27,0,1],[23,31,1]],[[27,0,2],[23,31,2]],[[27,0,3],[24,31,1]],[[27,0,4],[24,31,0]],[[28,0,4],[24,31,1]],[[28,0,3],[24,31,2]],[[28,0,2],[25,31,1]],[[28,0,1],[25,31,0]],[[28,0,0],[28,28,0]],[[28,0,1],[28,28,1]],[[28,0,2],[26,31,1]],[[28,0,3],[26,31,0]],[[28,0,4],[28,29,0]],[[29,0,3],[28,29,1]],[[29,0,2],[27,31,1]],[[29,0,1],[27,31,0]],[[29,0,0],[28,30,0]],[[29,0,1],[28,30,1]],[[29,0,2],[28,30,2]],[[29,0,3],[28,31,1]],[[29,0,4],[28,31,0]],[[30,0,3],[28,31,1]],[[30,0,2],[28,31,2]],[[30,0,1],[29,31,1]],[[30,0,0],[29,31,0]],[[30,0,1],[29,31,1]],[[30,0,2],[29,31,2]],[[30,0,3],[30,31,1]],[[30,0,4],[30,31,0]],[[31,0,3],[30,31,1]],[[31,0,2],[30,31,2]],[[31,0,1],[31,31,1]],[[31,0,0],[31,31,0]]],Yu=[[[0,0,0],[0,0,0]],[[0,0,1],[0,1,1]],[[0,0,2],[0,1,0]],[[1,0,1],[0,2,1]],[[1,0,0],[0,2,0]],[[1,0,1],[0,3,1]],[[1,0,2],[0,3,0]],[[2,0,1],[0,4,1]],[[2,0,0],[0,4,0]],[[2,0,1],[0,5,1]],[[2,0,2],[0,5,0]],[[3,0,1],[0,6,1]],[[3,0,0],[0,6,0]],[[3,0,1],[0,7,1]],[[3,0,2],[0,7,0]],[[4,0,1],[0,8,1]],[[4,0,0],[0,8,0]],[[4,0,1],[0,9,1]],[[4,0,2],[0,9,0]],[[5,0,1],[0,10,1]],[[5,0,0],[0,10,0]],[[5,0,1],[0,11,1]],[[5,0,2],[0,11,0]],[[6,0,1],[0,12,1]],[[6,0,0],[0,12,0]],[[6,0,1],[0,13,1]],[[6,0,2],[0,13,0]],[[7,0,1],[0,14,1]],[[7,0,0],[0,14,0]],[[7,0,1],[0,15,1]],[[7,0,2],[0,15,0]],[[8,0,1],[0,16,1]],[[8,0,0],[0,16,0]],[[8,0,1],[0,17,1]],[[8,0,2],[0,17,0]],[[9,0,1],[0,18,1]],[[9,0,0],[0,18,0]],[[9,0,1],[0,19,1]],[[9,0,2],[0,19,0]],[[10,0,1],[0,20,1]],[[10,0,0],[0,20,0]],[[10,0,1],[0,21,1]],[[10,0,2],[0,21,0]],[[11,0,1],[0,22,1]],[[11,0,0],[0,22,0]],[[11,0,1],[0,23,1]],[[11,0,2],[0,23,0]],[[12,0,1],[0,24,1]],[[12,0,0],[0,24,0]],[[12,0,1],[0,25,1]],[[12,0,2],[0,25,0]],[[13,0,1],[0,26,1]],[[13,0,0],[0,26,0]],[[13,0,1],[0,27,1]],[[13,0,2],[0,27,0]],[[14,0,1],[0,28,1]],[[14,0,0],[0,28,0]],[[14,0,1],[0,29,1]],[[14,0,2],[0,29,0]],[[15,0,1],[0,30,1]],[[15,0,0],[0,30,0]],[[15,0,1],[0,31,1]],[[15,0,2],[0,31,0]],[[16,0,2],[1,31,1]],[[16,0,1],[1,31,0]],[[16,0,0],[0,32,0]],[[16,0,1],[2,31,0]],[[16,0,2],[0,33,0]],[[17,0,1],[3,31,0]],[[17,0,0],[0,34,0]],[[17,0,1],[4,31,0]],[[17,0,2],[0,35,0]],[[18,0,1],[5,31,0]],[[18,0,0],[0,36,0]],[[18,0,1],[6,31,0]],[[18,0,2],[0,37,0]],[[19,0,1],[7,31,0]],[[19,0,0],[0,38,0]],[[19,0,1],[8,31,0]],[[19,0,2],[0,39,0]],[[20,0,1],[9,31,0]],[[20,0,0],[0,40,0]],[[20,0,1],[10,31,0]],[[20,0,2],[0,41,0]],[[21,0,1],[11,31,0]],[[21,0,0],[0,42,0]],[[21,0,1],[12,31,0]],[[21,0,2],[0,43,0]],[[22,0,1],[13,31,0]],[[22,0,0],[0,44,0]],[[22,0,1],[14,31,0]],[[22,0,2],[0,45,0]],[[23,0,1],[15,31,0]],[[23,0,0],[0,46,0]],[[23,0,1],[0,47,1]],[[23,0,2],[0,47,0]],[[24,0,1],[0,48,1]],[[24,0,0],[0,48,0]],[[24,0,1],[0,49,1]],[[24,0,2],[0,49,0]],[[25,0,1],[0,50,1]],[[25,0,0],[0,50,0]],[[25,0,1],[0,51,1]],[[25,0,2],[0,51,0]],[[26,0,1],[0,52,1]],[[26,0,0],[0,52,0]],[[26,0,1],[0,53,1]],[[26,0,2],[0,53,0]],[[27,0,1],[0,54,1]],[[27,0,0],[0,54,0]],[[27,0,1],[0,55,1]],[[27,0,2],[0,55,0]],[[28,0,1],[0,56,1]],[[28,0,0],[0,56,0]],[[28,0,1],[0,57,1]],[[28,0,2],[0,57,0]],[[29,0,1],[0,58,1]],[[29,0,0],[0,58,0]],[[29,0,1],[0,59,1]],[[29,0,2],[0,59,0]],[[30,0,1],[0,60,1]],[[30,0,0],[0,60,0]],[[30,0,1],[0,61,1]],[[30,0,2],[0,61,0]],[[31,0,1],[0,62,1]],[[31,0,0],[0,62,0]],[[31,0,1],[0,63,1]],[[31,0,2],[0,63,0]],[[32,0,2],[1,63,1]],[[32,0,1],[1,63,0]],[[32,0,0],[16,48,0]],[[32,0,1],[2,63,0]],[[32,0,2],[16,49,0]],[[33,0,1],[3,63,0]],[[33,0,0],[16,50,0]],[[33,0,1],[4,63,0]],[[33,0,2],[16,51,0]],[[34,0,1],[5,63,0]],[[34,0,0],[16,52,0]],[[34,0,1],[6,63,0]],[[34,0,2],[16,53,0]],[[35,0,1],[7,63,0]],[[35,0,0],[16,54,0]],[[35,0,1],[8,63,0]],[[35,0,2],[16,55,0]],[[36,0,1],[9,63,0]],[[36,0,0],[16,56,0]],[[36,0,1],[10,63,0]],[[36,0,2],[16,57,0]],[[37,0,1],[11,63,0]],[[37,0,0],[16,58,0]],[[37,0,1],[12,63,0]],[[37,0,2],[16,59,0]],[[38,0,1],[13,63,0]],[[38,0,0],[16,60,0]],[[38,0,1],[14,63,0]],[[38,0,2],[16,61,0]],[[39,0,1],[15,63,0]],[[39,0,0],[16,62,0]],[[39,0,1],[16,63,1]],[[39,0,2],[16,63,0]],[[40,0,1],[17,63,1]],[[40,0,0],[17,63,0]],[[40,0,1],[18,63,1]],[[40,0,2],[18,63,0]],[[41,0,1],[19,63,1]],[[41,0,0],[19,63,0]],[[41,0,1],[20,63,1]],[[41,0,2],[20,63,0]],[[42,0,1],[21,63,1]],[[42,0,0],[21,63,0]],[[42,0,1],[22,63,1]],[[42,0,2],[22,63,0]],[[43,0,1],[23,63,1]],[[43,0,0],[23,63,0]],[[43,0,1],[24,63,1]],[[43,0,2],[24,63,0]],[[44,0,1],[25,63,1]],[[44,0,0],[25,63,0]],[[44,0,1],[26,63,1]],[[44,0,2],[26,63,0]],[[45,0,1],[27,63,1]],[[45,0,0],[27,63,0]],[[45,0,1],[28,63,1]],[[45,0,2],[28,63,0]],[[46,0,1],[29,63,1]],[[46,0,0],[29,63,0]],[[46,0,1],[30,63,1]],[[46,0,2],[30,63,0]],[[47,0,1],[31,63,1]],[[47,0,0],[31,63,0]],[[47,0,1],[32,63,1]],[[47,0,2],[32,63,0]],[[48,0,2],[33,63,1]],[[48,0,1],[33,63,0]],[[48,0,0],[48,48,0]],[[48,0,1],[34,63,0]],[[48,0,2],[48,49,0]],[[49,0,1],[35,63,0]],[[49,0,0],[48,50,0]],[[49,0,1],[36,63,0]],[[49,0,2],[48,51,0]],[[50,0,1],[37,63,0]],[[50,0,0],[48,52,0]],[[50,0,1],[38,63,0]],[[50,0,2],[48,53,0]],[[51,0,1],[39,63,0]],[[51,0,0],[48,54,0]],[[51,0,1],[40,63,0]],[[51,0,2],[48,55,0]],[[52,0,1],[41,63,0]],[[52,0,0],[48,56,0]],[[52,0,1],[42,63,0]],[[52,0,2],[48,57,0]],[[53,0,1],[43,63,0]],[[53,0,0],[48,58,0]],[[53,0,1],[44,63,0]],[[53,0,2],[48,59,0]],[[54,0,1],[45,63,0]],[[54,0,0],[48,60,0]],[[54,0,1],[46,63,0]],[[54,0,2],[48,61,0]],[[55,0,1],[47,63,0]],[[55,0,0],[48,62,0]],[[55,0,1],[48,63,1]],[[55,0,2],[48,63,0]],[[56,0,1],[49,63,1]],[[56,0,0],[49,63,0]],[[56,0,1],[50,63,1]],[[56,0,2],[50,63,0]],[[57,0,1],[51,63,1]],[[57,0,0],[51,63,0]],[[57,0,1],[52,63,1]],[[57,0,2],[52,63,0]],[[58,0,1],[53,63,1]],[[58,0,0],[53,63,0]],[[58,0,1],[54,63,1]],[[58,0,2],[54,63,0]],[[59,0,1],[55,63,1]],[[59,0,0],[55,63,0]],[[59,0,1],[56,63,1]],[[59,0,2],[56,63,0]],[[60,0,1],[57,63,1]],[[60,0,0],[57,63,0]],[[60,0,1],[58,63,1]],[[60,0,2],[58,63,0]],[[61,0,1],[59,63,1]],[[61,0,0],[59,63,0]],[[61,0,1],[60,63,1]],[[61,0,2],[60,63,0]],[[62,0,1],[61,63,1]],[[62,0,0],[61,63,0]],[[62,0,1],[62,63,1]],[[62,0,2],[62,63,0]],[[63,0,1],[63,63,1]],[[63,0,0],[63,63,0]]],qu=[[[0,0,0],[0,0,0]],[[0,0,1],[0,1,1]],[[0,0,2],[0,1,0]],[[0,0,3],[0,1,1]],[[0,0,4],[0,2,1]],[[1,0,3],[0,2,0]],[[1,0,2],[0,2,1]],[[1,0,1],[0,3,1]],[[1,0,0],[0,3,0]],[[1,0,1],[1,2,1]],[[1,0,2],[1,2,0]],[[1,0,3],[0,4,0]],[[1,0,4],[0,5,1]],[[2,0,3],[0,5,0]],[[2,0,2],[0,5,1]],[[2,0,1],[0,6,1]],[[2,0,0],[0,6,0]],[[2,0,1],[2,3,1]],[[2,0,2],[2,3,0]],[[2,0,3],[0,7,0]],[[2,0,4],[1,6,1]],[[3,0,3],[1,6,0]],[[3,0,2],[0,8,0]],[[3,0,1],[0,9,1]],[[3,0,0],[0,9,0]],[[3,0,1],[0,9,1]],[[3,0,2],[0,10,1]],[[3,0,3],[0,10,0]],[[3,0,4],[2,7,1]],[[4,0,4],[2,7,0]],[[4,0,3],[0,11,0]],[[4,0,2],[1,10,1]],[[4,0,1],[1,10,0]],[[4,0,0],[0,12,0]],[[4,0,1],[0,13,1]],[[4,0,2],[0,13,0]],[[4,0,3],[0,13,1]],[[4,0,4],[0,14,1]],[[5,0,3],[0,14,0]],[[5,0,2],[2,11,1]],[[5,0,1],[2,11,0]],[[5,0,0],[0,15,0]],[[5,0,1],[1,14,1]],[[5,0,2],[1,14,0]],[[5,0,3],[0,16,0]],[[5,0,4],[0,17,1]],[[6,0,3],[0,17,0]],[[6,0,2],[0,17,1]],[[6,0,1],[0,18,1]],[[6,0,0],[0,18,0]],[[6,0,1],[2,15,1]],[[6,0,2],[2,15,0]],[[6,0,3],[0,19,0]],[[6,0,4],[1,18,1]],[[7,0,3],[1,18,0]],[[7,0,2],[0,20,0]],[[7,0,1],[0,21,1]],[[7,0,0],[0,21,0]],[[7,0,1],[0,21,1]],[[7,0,2],[0,22,1]],[[7,0,3],[0,22,0]],[[7,0,4],[2,19,1]],[[8,0,4],[2,19,0]],[[8,0,3],[0,23,0]],[[8,0,2],[1,22,1]],[[8,0,1],[1,22,0]],[[8,0,0],[0,24,0]],[[8,0,1],[0,25,1]],[[8,0,2],[0,25,0]],[[8,0,3],[0,25,1]],[[8,0,4],[0,26,1]],[[9,0,3],[0,26,0]],[[9,0,2],[2,23,1]],[[9,0,1],[2,23,0]],[[9,0,0],[0,27,0]],[[9,0,1],[1,26,1]],[[9,0,2],[1,26,0]],[[9,0,3],[0,28,0]],[[9,0,4],[0,29,1]],[[10,0,3],[0,29,0]],[[10,0,2],[0,29,1]],[[10,0,1],[0,30,1]],[[10,0,0],[0,30,0]],[[10,0,1],[2,27,1]],[[10,0,2],[2,27,0]],[[10,0,3],[0,31,0]],[[10,0,4],[1,30,1]],[[11,0,3],[1,30,0]],[[11,0,2],[4,24,0]],[[11,0,1],[1,31,1]],[[11,0,0],[1,31,0]],[[11,0,1],[1,31,1]],[[11,0,2],[2,30,1]],[[11,0,3],[2,30,0]],[[11,0,4],[2,31,1]],[[12,0,4],[2,31,0]],[[12,0,3],[4,27,0]],[[12,0,2],[3,30,1]],[[12,0,1],[3,30,0]],[[12,0,0],[4,28,0]],[[12,0,1],[3,31,1]],[[12,0,2],[3,31,0]],[[12,0,3],[3,31,1]],[[12,0,4],[4,30,1]],[[13,0,3],[4,30,0]],[[13,0,2],[6,27,1]],[[13,0,1],[6,27,0]],[[13,0,0],[4,31,0]],[[13,0,1],[5,30,1]],[[13,0,2],[5,30,0]],[[13,0,3],[8,24,0]],[[13,0,4],[5,31,1]],[[14,0,3],[5,31,0]],[[14,0,2],[5,31,1]],[[14,0,1],[6,30,1]],[[14,0,0],[6,30,0]],[[14,0,1],[6,31,1]],[[14,0,2],[6,31,0]],[[14,0,3],[8,27,0]],[[14,0,4],[7,30,1]],[[15,0,3],[7,30,0]],[[15,0,2],[8,28,0]],[[15,0,1],[7,31,1]],[[15,0,0],[7,31,0]],[[15,0,1],[7,31,1]],[[15,0,2],[8,30,1]],[[15,0,3],[8,30,0]],[[15,0,4],[10,27,1]],[[16,0,4],[10,27,0]],[[16,0,3],[8,31,0]],[[16,0,2],[9,30,1]],[[16,0,1],[9,30,0]],[[16,0,0],[12,24,0]],[[16,0,1],[9,31,1]],[[16,0,2],[9,31,0]],[[16,0,3],[9,31,1]],[[16,0,4],[10,30,1]],[[17,0,3],[10,30,0]],[[17,0,2],[10,31,1]],[[17,0,1],[10,31,0]],[[17,0,0],[12,27,0]],[[17,0,1],[11,30,1]],[[17,0,2],[11,30,0]],[[17,0,3],[12,28,0]],[[17,0,4],[11,31,1]],[[18,0,3],[11,31,0]],[[18,0,2],[11,31,1]],[[18,0,1],[12,30,1]],[[18,0,0],[12,30,0]],[[18,0,1],[14,27,1]],[[18,0,2],[14,27,0]],[[18,0,3],[12,31,0]],[[18,0,4],[13,30,1]],[[19,0,3],[13,30,0]],[[19,0,2],[16,24,0]],[[19,0,1],[13,31,1]],[[19,0,0],[13,31,0]],[[19,0,1],[13,31,1]],[[19,0,2],[14,30,1]],[[19,0,3],[14,30,0]],[[19,0,4],[14,31,1]],[[20,0,4],[14,31,0]],[[20,0,3],[16,27,0]],[[20,0,2],[15,30,1]],[[20,0,1],[15,30,0]],[[20,0,0],[16,28,0]],[[20,0,1],[15,31,1]],[[20,0,2],[15,31,0]],[[20,0,3],[15,31,1]],[[20,0,4],[16,30,1]],[[21,0,3],[16,30,0]],[[21,0,2],[18,27,1]],[[21,0,1],[18,27,0]],[[21,0,0],[16,31,0]],[[21,0,1],[17,30,1]],[[21,0,2],[17,30,0]],[[21,0,3],[20,24,0]],[[21,0,4],[17,31,1]],[[22,0,3],[17,31,0]],[[22,0,2],[17,31,1]],[[22,0,1],[18,30,1]],[[22,0,0],[18,30,0]],[[22,0,1],[18,31,1]],[[22,0,2],[18,31,0]],[[22,0,3],[20,27,0]],[[22,0,4],[19,30,1]],[[23,0,3],[19,30,0]],[[23,0,2],[20,28,0]],[[23,0,1],[19,31,1]],[[23,0,0],[19,31,0]],[[23,0,1],[19,31,1]],[[23,0,2],[20,30,1]],[[23,0,3],[20,30,0]],[[23,0,4],[22,27,1]],[[24,0,4],[22,27,0]],[[24,0,3],[20,31,0]],[[24,0,2],[21,30,1]],[[24,0,1],[21,30,0]],[[24,0,0],[24,24,0]],[[24,0,1],[21,31,1]],[[24,0,2],[21,31,0]],[[24,0,3],[21,31,1]],[[24,0,4],[22,30,1]],[[25,0,3],[22,30,0]],[[25,0,2],[22,31,1]],[[25,0,1],[22,31,0]],[[25,0,0],[24,27,0]],[[25,0,1],[23,30,1]],[[25,0,2],[23,30,0]],[[25,0,3],[24,28,0]],[[25,0,4],[23,31,1]],[[26,0,3],[23,31,0]],[[26,0,2],[23,31,1]],[[26,0,1],[24,30,1]],[[26,0,0],[24,30,0]],[[26,0,1],[26,27,1]],[[26,0,2],[26,27,0]],[[26,0,3],[24,31,0]],[[26,0,4],[25,30,1]],[[27,0,3],[25,30,0]],[[27,0,2],[28,24,0]],[[27,0,1],[25,31,1]],[[27,0,0],[25,31,0]],[[27,0,1],[25,31,1]],[[27,0,2],[26,30,1]],[[27,0,3],[26,30,0]],[[27,0,4],[26,31,1]],[[28,0,4],[26,31,0]],[[28,0,3],[28,27,0]],[[28,0,2],[27,30,1]],[[28,0,1],[27,30,0]],[[28,0,0],[28,28,0]],[[28,0,1],[27,31,1]],[[28,0,2],[27,31,0]],[[28,0,3],[27,31,1]],[[28,0,4],[28,30,1]],[[29,0,3],[28,30,0]],[[29,0,2],[30,27,1]],[[29,0,1],[30,27,0]],[[29,0,0],[28,31,0]],[[29,0,1],[29,30,1]],[[29,0,2],[29,30,0]],[[29,0,3],[29,30,1]],[[29,0,4],[29,31,1]],[[30,0,3],[29,31,0]],[[30,0,2],[29,31,1]],[[30,0,1],[30,30,1]],[[30,0,0],[30,30,0]],[[30,0,1],[30,31,1]],[[30,0,2],[30,31,0]],[[30,0,3],[30,31,1]],[[30,0,4],[31,30,1]],[[31,0,3],[31,30,0]],[[31,0,2],[31,30,1]],[[31,0,1],[31,31,1]],[[31,0,0],[31,31,0]]],Ku=[[[0,0,0],[0,0,0]],[[0,0,1],[0,1,0]],[[0,0,2],[0,2,0]],[[1,0,1],[0,3,1]],[[1,0,0],[0,3,0]],[[1,0,1],[0,4,0]],[[1,0,2],[0,5,0]],[[2,0,1],[0,6,1]],[[2,0,0],[0,6,0]],[[2,0,1],[0,7,0]],[[2,0,2],[0,8,0]],[[3,0,1],[0,9,1]],[[3,0,0],[0,9,0]],[[3,0,1],[0,10,0]],[[3,0,2],[0,11,0]],[[4,0,1],[0,12,1]],[[4,0,0],[0,12,0]],[[4,0,1],[0,13,0]],[[4,0,2],[0,14,0]],[[5,0,1],[0,15,1]],[[5,0,0],[0,15,0]],[[5,0,1],[0,16,0]],[[5,0,2],[1,15,0]],[[6,0,1],[0,17,0]],[[6,0,0],[0,18,0]],[[6,0,1],[0,19,0]],[[6,0,2],[3,14,0]],[[7,0,1],[0,20,0]],[[7,0,0],[0,21,0]],[[7,0,1],[0,22,0]],[[7,0,2],[4,15,0]],[[8,0,1],[0,23,0]],[[8,0,0],[0,24,0]],[[8,0,1],[0,25,0]],[[8,0,2],[6,14,0]],[[9,0,1],[0,26,0]],[[9,0,0],[0,27,0]],[[9,0,1],[0,28,0]],[[9,0,2],[7,15,0]],[[10,0,1],[0,29,0]],[[10,0,0],[0,30,0]],[[10,0,1],[0,31,0]],[[10,0,2],[9,14,0]],[[11,0,1],[0,32,0]],[[11,0,0],[0,33,0]],[[11,0,1],[2,30,0]],[[11,0,2],[0,34,0]],[[12,0,1],[0,35,0]],[[12,0,0],[0,36,0]],[[12,0,1],[3,31,0]],[[12,0,2],[0,37,0]],[[13,0,1],[0,38,0]],[[13,0,0],[0,39,0]],[[13,0,1],[5,30,0]],[[13,0,2],[0,40,0]],[[14,0,1],[0,41,0]],[[14,0,0],[0,42,0]],[[14,0,1],[6,31,0]],[[14,0,2],[0,43,0]],[[15,0,1],[0,44,0]],[[15,0,0],[0,45,0]],[[15,0,1],[8,30,0]],[[15,0,2],[0,46,0]],[[16,0,2],[0,47,0]],[[16,0,1],[1,46,0]],[[16,0,0],[0,48,0]],[[16,0,1],[0,49,0]],[[16,0,2],[0,50,0]],[[17,0,1],[2,47,0]],[[17,0,0],[0,51,0]],[[17,0,1],[0,52,0]],[[17,0,2],[0,53,0]],[[18,0,1],[4,46,0]],[[18,0,0],[0,54,0]],[[18,0,1],[0,55,0]],[[18,0,2],[0,56,0]],[[19,0,1],[5,47,0]],[[19,0,0],[0,57,0]],[[19,0,1],[0,58,0]],[[19,0,2],[0,59,0]],[[20,0,1],[7,46,0]],[[20,0,0],[0,60,0]],[[20,0,1],[0,61,0]],[[20,0,2],[0,62,0]],[[21,0,1],[8,47,0]],[[21,0,0],[0,63,0]],[[21,0,1],[1,62,0]],[[21,0,2],[1,63,0]],[[22,0,1],[10,46,0]],[[22,0,0],[2,62,0]],[[22,0,1],[2,63,0]],[[22,0,2],[3,62,0]],[[23,0,1],[11,47,0]],[[23,0,0],[3,63,0]],[[23,0,1],[4,62,0]],[[23,0,2],[4,63,0]],[[24,0,1],[13,46,0]],[[24,0,0],[5,62,0]],[[24,0,1],[5,63,0]],[[24,0,2],[6,62,0]],[[25,0,1],[14,47,0]],[[25,0,0],[6,63,0]],[[25,0,1],[7,62,0]],[[25,0,2],[7,63,0]],[[26,0,1],[16,45,0]],[[26,0,0],[8,62,0]],[[26,0,1],[8,63,0]],[[26,0,2],[9,62,0]],[[27,0,1],[16,48,0]],[[27,0,0],[9,63,0]],[[27,0,1],[10,62,0]],[[27,0,2],[10,63,0]],[[28,0,1],[16,51,0]],[[28,0,0],[11,62,0]],[[28,0,1],[11,63,0]],[[28,0,2],[12,62,0]],[[29,0,1],[16,54,0]],[[29,0,0],[12,63,0]],[[29,0,1],[13,62,0]],[[29,0,2],[13,63,0]],[[30,0,1],[16,57,0]],[[30,0,0],[14,62,0]],[[30,0,1],[14,63,0]],[[30,0,2],[15,62,0]],[[31,0,1],[16,60,0]],[[31,0,0],[15,63,0]],[[31,0,1],[24,46,0]],[[31,0,2],[16,62,0]],[[32,0,2],[16,63,0]],[[32,0,1],[17,62,0]],[[32,0,0],[25,47,0]],[[32,0,1],[17,63,0]],[[32,0,2],[18,62,0]],[[33,0,1],[18,63,0]],[[33,0,0],[27,46,0]],[[33,0,1],[19,62,0]],[[33,0,2],[19,63,0]],[[34,0,1],[20,62,0]],[[34,0,0],[28,47,0]],[[34,0,1],[20,63,0]],[[34,0,2],[21,62,0]],[[35,0,1],[21,63,0]],[[35,0,0],[30,46,0]],[[35,0,1],[22,62,0]],[[35,0,2],[22,63,0]],[[36,0,1],[23,62,0]],[[36,0,0],[31,47,0]],[[36,0,1],[23,63,0]],[[36,0,2],[24,62,0]],[[37,0,1],[24,63,0]],[[37,0,0],[32,47,0]],[[37,0,1],[25,62,0]],[[37,0,2],[25,63,0]],[[38,0,1],[26,62,0]],[[38,0,0],[32,50,0]],[[38,0,1],[26,63,0]],[[38,0,2],[27,62,0]],[[39,0,1],[27,63,0]],[[39,0,0],[32,53,0]],[[39,0,1],[28,62,0]],[[39,0,2],[28,63,0]],[[40,0,1],[29,62,0]],[[40,0,0],[32,56,0]],[[40,0,1],[29,63,0]],[[40,0,2],[30,62,0]],[[41,0,1],[30,63,0]],[[41,0,0],[32,59,0]],[[41,0,1],[31,62,0]],[[41,0,2],[31,63,0]],[[42,0,1],[32,61,0]],[[42,0,0],[32,62,0]],[[42,0,1],[32,63,0]],[[42,0,2],[41,46,0]],[[43,0,1],[33,62,0]],[[43,0,0],[33,63,0]],[[43,0,1],[34,62,0]],[[43,0,2],[42,47,0]],[[44,0,1],[34,63,0]],[[44,0,0],[35,62,0]],[[44,0,1],[35,63,0]],[[44,0,2],[44,46,0]],[[45,0,1],[36,62,0]],[[45,0,0],[36,63,0]],[[45,0,1],[37,62,0]],[[45,0,2],[45,47,0]],[[46,0,1],[37,63,0]],[[46,0,0],[38,62,0]],[[46,0,1],[38,63,0]],[[46,0,2],[47,46,0]],[[47,0,1],[39,62,0]],[[47,0,0],[39,63,0]],[[47,0,1],[40,62,0]],[[47,0,2],[48,46,0]],[[48,0,2],[40,63,0]],[[48,0,1],[41,62,0]],[[48,0,0],[41,63,0]],[[48,0,1],[48,49,0]],[[48,0,2],[42,62,0]],[[49,0,1],[42,63,0]],[[49,0,0],[43,62,0]],[[49,0,1],[48,52,0]],[[49,0,2],[43,63,0]],[[50,0,1],[44,62,0]],[[50,0,0],[44,63,0]],[[50,0,1],[48,55,0]],[[50,0,2],[45,62,0]],[[51,0,1],[45,63,0]],[[51,0,0],[46,62,0]],[[51,0,1],[48,58,0]],[[51,0,2],[46,63,0]],[[52,0,1],[47,62,0]],[[52,0,0],[47,63,0]],[[52,0,1],[48,61,0]],[[52,0,2],[48,62,0]],[[53,0,1],[56,47,0]],[[53,0,0],[48,63,0]],[[53,0,1],[49,62,0]],[[53,0,2],[49,63,0]],[[54,0,1],[58,46,0]],[[54,0,0],[50,62,0]],[[54,0,1],[50,63,0]],[[54,0,2],[51,62,0]],[[55,0,1],[59,47,0]],[[55,0,0],[51,63,0]],[[55,0,1],[52,62,0]],[[55,0,2],[52,63,0]],[[56,0,1],[61,46,0]],[[56,0,0],[53,62,0]],[[56,0,1],[53,63,0]],[[56,0,2],[54,62,0]],[[57,0,1],[62,47,0]],[[57,0,0],[54,63,0]],[[57,0,1],[55,62,0]],[[57,0,2],[55,63,0]],[[58,0,1],[56,62,1]],[[58,0,0],[56,62,0]],[[58,0,1],[56,63,0]],[[58,0,2],[57,62,0]],[[59,0,1],[57,63,1]],[[59,0,0],[57,63,0]],[[59,0,1],[58,62,0]],[[59,0,2],[58,63,0]],[[60,0,1],[59,62,1]],[[60,0,0],[59,62,0]],[[60,0,1],[59,63,0]],[[60,0,2],[60,62,0]],[[61,0,1],[60,63,1]],[[61,0,0],[60,63,0]],[[61,0,1],[61,62,0]],[[61,0,2],[61,63,0]],[[62,0,1],[62,62,1]],[[62,0,0],[62,62,0]],[[62,0,1],[62,63,0]],[[62,0,2],[63,62,0]],[[63,0,1],[63,63,1]],[[63,0,0],[63,63,0]]];function Ju(t,e){var r=parseInt(t+.5);return r<0?0:r}function Hu(t){return Ju(31*t.x)<<11|Ju(63*t.y)<<5|Ju(31*t.z)}function Zu(t,e,r,n,o){n[o+0]=255&t,n[o+1]=t>>8,n[o+2]=255&e,n[o+3]=e>>8;for(var u=0;u<4;u++)n[o+4+u]=r[4*u+0]|r[4*u+1]<<2|r[4*u+2]<<4|r[4*u+3]<<6}function $u(t,e,r,n,o){var u,i=Hu(t),a=Hu(e);if(i<=a)u=r.slice();else{var c=[a,i];i=c[0],a=c[1],u=r.map((function(t){return 0===t?1:1===t?0:t}))}Zu(i,a,u,n,o)}function Qu(t,e,r,n,o){var u,i=Hu(t),a=Hu(e);if(i<a){var c=[a,i];i=c[0],a=c[1],u=r.map((function(t){return 3&(1^t)}))}else u=i==a?new Array(16).fill(0):r.slice();Zu(i,a,u,n,o)}function ti(t,e,r){return e=Ho(e),tu(t,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(e,r||[],Ho(t).constructor):e.apply(t,r))}var ei=qo((function t(e,r,n){Go(this,t),this.flags=n,this._count=0,this._transparent=!1,this._remap=[],this._weights=[],this._points=[];for(var o=0!=(1&this.flags),u=0!=(128&this.flags),i=0;i<16;i++)if(0!=(r&1<<i))if(o&&e[4*i+3]<128)this._remap[i]=-1,this._transparent=!0;else for(var a=0;;a++){if(a==i){var c=e[4*i]/255,s=e[4*i+1]/255,f=e[4*i+2]/255,l=(e[4*i+3]+1)/256;this._points[this._count]=new Lu(c,s,f),this._weights[this._count]=u?l:1,this._remap[i]=this._count,this._count++;break}if(0!=(r&1<<a)&&e[4*i]==e[4*a]&&e[4*i+1]==e[4*a+1]&&e[4*i+2]==e[4*a+2]&&(e[4*a+3]>=128||!o)){var y=this._remap[a],h=(e[4*i+3]+1)/256;this._weights[y]+=u?h:1,this._remap[i]=y;break}}else this._remap[i]=-1;for(var v=0;v<this._count;++v)this._weights[v]=Math.sqrt(this._weights[v])}),[{key:"transparent",get:function(){return this._transparent}},{key:"count",get:function(){return this._count}},{key:"points",get:function(){return Object.freeze(this._points.slice())}},{key:"weights",get:function(){return Object.freeze(this._weights.slice())}},{key:"remapIndicesSingle",value:function(t,e){var r=this._remap.map((function(e){return-1===e?3:t}));e.forEach((function(t,n){return e[n]=r[n]}))}},{key:"remapIndices",value:function(t,e){var r=this._remap.map((function(e){return-1===e?3:t[e]}));e.forEach((function(t,n){return e[n]=r[n]}))}}]),ri=qo((function t(e){Go(this,t),this.colors=e,this.flags=e.flags}),[{key:"compress",value:function(t,e){0!=(1&this.flags)?(this.compress3(t,e),this.colors.transparent||this.compress4(t,e)):this.compress4(t,e)}},{key:"compress3",value:function(t,e){}},{key:"compress4",value:function(t,e){}}]),ni=function(t){function e(t){var r;Go(this,e),r=ti(this,e,[t]);var n=t.points[0];return r.color=n.colorInt,r.start=new Lu(0),r.end=new Lu(0),r.index=0,r.error=1/0,r.bestError=1/0,r}return Jo(e,t),qo(e,[{key:"compressBase",value:function(t,e){if(this.computeEndPoints(t),this.error<this.bestError){var r=new Uint8Array(16);this.colors.remapIndicesSingle(this.index,r),e(this.start,this.end,r),this.bestError=this.error}}},{key:"compress3",value:function(t,e){var r=[Gu,Yu,Gu];this.compressBase(r,(function(r,n,o){return $u(r,n,o,t,e)}))}},{key:"compress4",value:function(t,e){var r=[qu,Ku,qu];this.compressBase(r,(function(r,n,o){return Qu(r,n,o,t,e)}))}},{key:"computeEndPoints",value:function(t){this.error=1/0;for(var e=0;e<2;e++){for(var r=[],n=0,o=0;o<3;o++){var u=t[o],i=this.color[o];r[o]=u[i][e];var a=r[o][2];n+=a*a}n<this.error&&(this.start=new Lu(r[0][0]/31,r[1][0]/63,r[2][0]/31),this.end=new Lu(r[0][1]/31,r[1][1]/63,r[2][1]/31),this.index=2*e,this.error=n)}}}])}(ri),oi=function(t){function e(t){var r;return Go(this,e),(r=ti(this,e,[t])).metric=new Lu(1),0!=(32&r.flags)&&r.metric.set(.2126,.7152,.0722),r.start=new Lu(0),r.end=new Lu(0),r.bestError=1/0,r.computePoints(),r}return Jo(e,t),qo(e,[{key:"compressBase",value:function(t,e){var r=this,n=this.colors.points,o=0,u=n.map((function(e){var n=1/0,u=t.reduce((function(t,o,u){var i=Lu.sub(e,o).multVector(r.metric).lengthSq;return i>=n?t:(n=i,u)}),0);return o+=n,u}));if(o<this.bestError){var i=new Uint8Array(16);this.colors.remapIndices(u,i),e(this.start,this.end,i),this.bestError=o}}},{key:"compress3",value:function(t,e){var r=[this.start.clone(),this.end.clone(),Lu.interpolate(this.start,this.end,.5)];this.compressBase(r,(function(r,n,o){return $u(r,n,o,t,e)}))}},{key:"compress4",value:function(t,e){var r=[this.start.clone(),this.end.clone(),Lu.interpolate(this.start,this.end,1/3),Lu.interpolate(this.start,this.end,2/3)];this.compressBase(r,(function(r,n,o){return Qu(r,n,o,t,e)}))}},{key:"computePoints",value:function(){var t=this.colors,e=t.count,r=t.points,n=t.weights;if(!(e<=0)){var o,u,i,a,c=Nu(r,n);o=u=r[0],i=a=Lu.dot(o,c);for(var s=1;s<e;s++){var f=Lu.dot(r[s],c);f<i?(o=r[s],i=f):f>a&&(u=r[s],a=f)}this.start=o.clampGrid().clone(),this.end=u.clampGrid().clone()}}}])}(ri),ui=function(t){function e(t){var r;Go(this,e);(r=ti(this,e,[t])).iterationCount=t.flags&Iu?8:1,r.bestError=1/0,r.metric=new Wu(1),0!=(32&r.flags)&&r.metric.set(.2126,.7152,.0722,0);var n=r.colors,o=n.points,u=n.weights;return r.principle=Nu(o,u),r.order=new Uint8Array(128),r.pointsWeights=[],r.xSum_wSum=new Wu(0),r}return Jo(e,t),qo(e,[{key:"constructOrdering",value:function(t,e){var r=this.makeOrder(t);return this.copyOrderToThisOrder(r,e),!!this.checkOrderUnique(r,e)&&(this.copyOrderWeight(r),!0)}},{key:"compress3",value:function(t,e){this.compressBase((function(t){var e=t[0],r=t[2],n=t[3],o=new Wu(.5,.5,.5,1/4),u=Wu.multiplyAdd(r,o,e),i=u.splatW,a=Wu.multiplyAdd(r,o,n);return{ax:u,aa:i,bx:a,bb:a.splatW,ab:Wu.multVector(r,o).splatW}}),(function(r,n,o){return $u(r,n,o,t,e)}),2)}},{key:"compress4",value:function(t,e){this.compressBase((function(t){var e=t[0],r=t[1],n=t[2],o=t[3],u=new Wu(1/3,1/3,1/3,1/9),i=new Wu(2/3,2/3,2/3,4/9),a=new Wu(2/9),c=Wu.multiplyAdd(n,u,Wu.multiplyAdd(r,i,e)),s=c.splatW,f=Wu.multiplyAdd(r,u,Wu.multiplyAdd(n,i,o));return{ax:c,aa:s,bx:f,bb:f.splatW,ab:Wu.multVector(a,Wu.add(r,n)).splatW}}),(function(r,n,o){return Qu(r,n,o,t,e)}),3)}},{key:"compressBase",value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;this.constructOrdering(this.principle,0);var o={start:new Wu(0),end:new Wu(0),error:this.bestError,iteration:0,bestI:0,bestJ:0};3===n&&(o.bestK=0);for(var u=function(e,n){var u=t(e),i=r.computeOptimalPoints(u);return i.error<o.error&&(o=Wo(Wo({},i),n),!0)},i=0;(this.clusterIterate(i,u,n),o.iteration==i)&&++i!=this.iterationCount;){var a=Wu.sub(o.end,o.start).xyz;if(!this.constructOrdering(a,i))break}o.error<this.bestError&&this.saveBlock(o,e)}},{key:"makeOrder",value:function(t){var e=this.colors,r=e.count,n=e.points.map((function(e,r){return Lu.dot(e,t)}));return uu({length:r},(function(t,e){return e})).sort((function(t,e){return n[t]-n[e]!=0?n[t]-n[e]:t-e}))}},{key:"copyOrderToThisOrder",value:function(t,e){var r=this,n=16*e;t.forEach((function(t,e){r.order[n+e]=t}))}},{key:"checkOrderUnique",value:function(t,e){for(var r=this.colors.count,n=0;n<e;n++){for(var o=16*n,u=!0,i=0;i<r;i++)if(t[i]!==this.order[o+i]){u=!1;break}if(u)return!1}return!0}},{key:"copyOrderWeight",value:function(t){var e=this.colors,r=e.count,n=e.points,o=e.weights;this.xSum_wSum.set(0);for(var u=0;u<r;u++){var i=t[u],a=n[i].toVec4(1),c=new Wu(o[i]),s=Wu.multVector(a,c);this.pointsWeights[u]=s,this.xSum_wSum.addVector(s)}}},{key:"computeOptimalPoints",value:function(t){var e=t.ax,r=t.bx,n=t.aa,o=t.bb,u=t.ab,i=Wu.negativeMultiplySubtract(u,u,Wu.multVector(n,o)).reciprocal(),a=Wu.negativeMultiplySubtract(r,u,Wu.multVector(e,o)).multVector(i),c=Wu.negativeMultiplySubtract(e,u,Wu.multVector(r,n)).multVector(i);return a.clampGrid(),c.clampGrid(),{start:a,end:c,error:this.computeError(Wo({a:a,b:c},t))}}},{key:"computeError",value:function(t){var e=t.a,r=t.b,n=t.ax,o=t.bx,u=t.aa,i=t.bb,a=t.ab,c=new Wu(2),s=Wu.multiplyAdd(Wu.multVector(e,e),u,Wu.multVector(r,r).multVector(i)),f=Wu.negativeMultiplySubtract(e,n,Wu.multVector(e,r).multVector(a)),l=Wu.negativeMultiplySubtract(r,o,f),y=Wu.multiplyAdd(c,l,s),h=Wu.multVector(y,this.metric);return h.x+h.y+h.z}},{key:"saveBlock",value:function(t,e){for(var r,n=this.colors.count,o=t.start,u=t.end,i=t.iteration,a=t.error,c=t.bestI,s=t.bestJ,f=t.bestK,l=void 0===f?-1:f,y=16*i,h=new Uint8Array(16),v=0;v<n;v++)h[this.order[y+v]]=(r=v)<c?0:r<s?2:r<l?3:1;var p=new Uint8Array(16);this.colors.remapIndices(h,p),e(o.xyz,u.xyz,p),this.bestError=a}},{key:"clusterIterate",value:function(t,e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=this.colors.count,o=function(e,n,o){var u={bestI:e,bestJ:2===r?o:n,iteration:t};return 3===r&&(u.bestK=o),u},u=new Wu(0),i=0;i<n;i++){for(var a=new Wu(0),c=i;;){for(var s=0==c?this.pointsWeights[0].clone():new Wu(0),f=0==c?1:c,l=f;;){var y=Wu.sub(this.xSum_wSum,s).subVector(a).subVector(u);if(e([u,a,s,y],o(i,c,l)),l==n)break;s.addVector(this.pointsWeights[l]),l++}if(2===r)break;if(c===n)break;a.addVector(this.pointsWeights[c]),c++}u.addVector(this.pointsWeights[i])}}}])}(ri);function ii(t){var e=Math.floor(t*(15/255)+.5);return e<0?0:e>15?15:e}function ai(t,e,r,n){var o=ci(t,e,5),u=ci(t,e,7);o.error<=u.error?function(t,e,r){var n=t.min,o=t.max,u=t.indices;if(n>o){fi(o,n,u.map((function(t){return 0===t?1:1===t?0:t<=5?7-t:t})),e,r)}else fi(n,o,u,e,r)}(o,r,n):function(t,e,r){var n=t.min,o=t.max,u=t.indices;if(n>o){fi(o,n,u.map((function(t){return 0===t?1:1===t?0:9-t})),e,r)}else fi(n,o,u,e,r)}(u,r,n)}function ci(t,e,r){var n=function(t,e,r){for(var n=255,o=0,u=0;u<16;u++){if(0!=(e&1<<u)){var i=t[4*u+3];5===r?(0!==i&&i<n&&(n=i),255!==i&&i>o&&(o=i)):(i<n&&(n=i),i>o&&(o=i))}}n>o&&(n=o);o-n<r&&(o=Math.min(n+r,255));o-n<r&&(n=Math.max(o-r,0));return{min:n,max:o}}(t,e,r),o=n.min,u=n.max,i=si(o,u,r),a=new Uint8Array(16),c=function(t,e,r,n){for(var o=0,u=0;u<16;++u){if(0!=(e&1<<u)){for(var i=t[4*u+3],a=1/0,c=0,s=0;s<8;++s){var f=i-r[s];(f*=f)<a&&(a=f,c=s)}n[u]=c,o+=a}else n[u]=0}return o}(t,e,i,a);return{min:o,max:u,indices:a,error:c}}function si(t,e,r){var n=[t,e].concat(uu({length:r-1},(function(n,o){return Math.floor(((r-(o+1))*t+(o+1)*e)/r)})));return 5===r&&(n[6]=0,n[7]=255),n}function fi(t,e,r,n,o){n[o]=t,n[o+1]=e;for(var u=0,i=o+2,a=0;a<2;a++){for(var c=0,s=0;s<8;++s){c|=r[u]<<3*s,u++}for(var f=0;f<3;++f){var l=c>>8*f&255;n[i]=l,i++}}}function li(t){var e=t>>11&31,r=t>>5&63,n=31&t;return[e<<3|e>>2,r<<2|r>>4,n<<3|n>>2,255]}function yi(t,e,r){var n=t.map((function(t,n){return Math.floor(t*(1-r)+e[n]*r)}));return n[3]=255,n}function hi(t,e,r,n){for(var o=function(t,e,r){var n=t[e]|t[e+1]<<8,o=t[e+2]|t[e+3]<<8,u=li(n),i=li(o);return[u,i,yi(u,i,r&&n<=o?.5:1/3),r&&n<=o?[0,0,0,0]:yi(u,i,2/3)]}(e,r,n),u=function(t,e){for(var r=e+4,n=new Uint8Array(16),o=0;o<4;o++){var u=t[r+o];n[4*o+0]=3&u,n[4*o+1]=u>>2&3,n[4*o+2]=u>>4&3,n[4*o+3]=u>>6&3}return n}(e,r),i=0;i<16;i++)for(var a=0;a<4;a++)t[4*i+a]=o[u[i]][a]}function vi(t){for(var e=0;e<4;e++)for(var r=0;r<4;r++)t(r,e)}function pi(t){var e=7&t,r=280&t,n=96&t;return 2!=e&&4!=e&&(e=1),16!=r&&r!=Iu&&(r=8),64!=n&&(n=32),e|r|n|128&t}function di(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.x,o=void 0===n?0:n,u=r.y,i=void 0===u?0:u,a=r.width,c=void 0===a?0:a,s=r.height,f=void 0===s?0:s,l=0;vi((function(r,n){var u=o+r,a=i+n;if(u<c&&a<f)for(var s=4*(c*a+u),y=0;y<4;y++)t[s+y]=e[l++];else l+=4}))}function wi(t,e,r,n,o){var u,i=0!=(6&(o=pi(o)))?8:0,a=new ei(t,e,o);(1===(u=a).count?new ni(u):0!=(16&u.flags)||0==u.count?new oi(u):new ui(u)).compress(r,n+i),0!=(2&o)?function(t,e,r,n){for(var o=0;o<8;o++){var u=ii(t[8*o+3]),i=ii(t[8*o+7]);0==(e&1<<2*o)&&(u=0),0==(e&1<<2*o+1)&&(i=0),r[n+o]=u|i<<4}}(t,e,r,n):0!=(4&o)&&ai(t,e,r,n)}function mi(t,e,r,n){hi(t,e,r+(0!=(6&(n=pi(n)))?8:0),0!=(1&n)),0!=(2&n)?function(t,e,r){for(var n=0;n<8;++n){var o=e[r+n],u=15&o,i=240&o;t[8*n+3]=u|u<<4,t[8*n+7]=i|i>>4}}(t,e,r):0!=(4&n)&&function(t,e,r){for(var n=e[r+0],o=e[r+1],u=si(n,o,n<=o?5:7),i=new Uint8Array(16),a=0,c=2,s=0;s<2;s++){for(var f=0,l=0;l<3;l++)f|=e[r+c]<<8*l,c++;for(var y=0;y<8;y++){var h=f>>3*y&7;i[a]=h,a++}}for(var v=0;v<16;++v)t[4*v+3]=u[i[v]]}(t,e,r)}function gi(t,e,r,n,o){var u=0!=(1&(o=pi(o)))?8:16,i=0;!function(t,e,r){for(var n=0;n<e;n+=4)for(var o=0;o<t;o+=4)r(o,n)}(e,r,(function(a,c){var s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.x,n=void 0===r?0:r,o=e.y,u=void 0===o?0:o,i=e.width,a=void 0===i?0:i,c=e.height,s=void 0===c?0:c,f=new Uint8Array(64),l=0,y=0;return vi((function(e,r){var o=n+e,i=u+r;if(o<a&&i<s){for(var c=4*(a*i+o),h=0;h<4;h++)f[y++]=t[c++];l|=1<<4*r+e}else y+=4})),{block:f,mask:l}}(t,{x:a,y:c,width:e,height:r});wi(s.block,s.mask,n,i,o),i+=u}))}var ki=1,bi=2,Ri=4;function xi(t,e,r,n){var o=t instanceof ArrayBuffer?new Uint8Array(t):t,u=function(t,e,r){return r=pi(r),Math.floor((t+3)/4)*Math.floor((e+3)/4)*(0!=(1&r)?8:16)}(e,r,n),i=new Uint8Array(u);return gi(o,e,r,i,n),i}function _i(t,e,r,n){var o=t instanceof ArrayBuffer?new Uint8Array(t):t,u=new Uint8Array(e*r*4);return function(t,e,r,n,o){for(var u=0!=(1&(o=pi(o)))?8:16,i=0,a=0;a<r;a+=4)for(var c=0;c<e;c+=4){var s=new Uint8Array(64);mi(s,n,i,o),di(t,s,{x:c,y:a,width:e,height:r}),i+=u}}(u,e,r,o,n),u}function Oi(t,e,r){return t>>r&Math.pow(2,e)-1}function Ti(t,e,r,n){var o=Math.round(t/255*31),u=Math.round(e/255*31),i=Math.round(r/255*31);return Math.round(n/255)<<15|o<<10|u<<5|i}function Si(t,e,r){return e=Ho(e),tu(t,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(e,r||[],Ho(t).constructor):e.apply(t,r))}var Ai=function(t){function e(){return Go(this,e),Si(this,e,arguments)}return Jo(e,t),qo(e,[{key:"read",value:function(t){var e=new _u,r=new nu,n=e.read(t),o=r.read(t),u=r.read(t),i=r.read(t),a=null,c=null;i>1&&console.warn("Found mipcount of ".concat(i,", only the first will be used."));var s=r.read(t);o*u*4>s&&(a=o>>16&65535,c=u>>16&65535,(o&=65535)*(u&=65535)*4!==s&&console.warn("invalid width & height! ".concat(o," x ").concat(u)));var f=t.read(s);if(4==n)f=_i(f,o,u,ki);else if(5==n)f=_i(f,o,u,bi);else if(6==n)f=_i(f,o,u,Ri);else if(2==n)f=function(t){for(var e,r,n,o=new Uint8Array(t),u=o.length/2,i=new Uint8Array(4*u),a=0;a<u;a++){var c=(r=void 0,n=void 0,r=(e=o[2*a]|o[2*a+1]<<8)>>15&1,[(n=[Oi(e,5,10),Oi(e,5,5),Oi(e,5,0)].map((function(t){return t<<3|t>>2})))[0],n[1],n[2],255*r]);i[4*a]=c[0],i[4*a+1]=c[1],i[4*a+2]=c[2],i[4*a+3]=c[3]}return i}(f);else if(0!=n)throw new Error("Non-implemented Texture2D format type (".concat(n,") found."));f instanceof ArrayBuffer&&(f=new Uint8Array(f));for(var l=0;l<f.length;l+=4){var y=255/f[l+3];f[l]=Math.min(Math.ceil(f[l]*y),255),f[l+1]=Math.min(Math.ceil(f[l+1]*y),255),f[l+2]=Math.min(Math.ceil(f[l+2]*y),255)}var h={format:n,export:{type:this.type,data:f,width:o,height:u}};return null!==a&&(h.additional={usedWidth:a,usedHeight:c}),h}},{key:"write",value:function(t,e,r){var n=new _u,o=new nu;this.writeIndex(t,r);var u=e.export.width,i=e.export.height;null!=e.additional&&(u|=e.additional.usedWidth<<16,i|=e.additional.usedHeight<<16),n.write(t,e.format,null),o.write(t,u,null),o.write(t,i,null),o.write(t,1,null);for(var a=e.export.data,c=0;c<a.length;c+=4){var s=a[c+3]/255;a[c]=Math.floor(a[c]*s),a[c+1]=Math.floor(a[c+1]*s),a[c+2]=Math.floor(a[c+2]*s)}4===e.format?a=xi(a,u,i,ki):5===e.format?a=xi(a,u,i,bi):6===e.format?a=xi(a,u,i,Ri):2===e.format&&(a=function(t){for(var e=new Uint8Array(t),r=e.length/4,n=new Uint8Array(2*r),o=0;o<r;o++){var u=Ti(e[4*o],e[4*o+1],e[4*o+2],e[4*o+3]);n[2*o]=255&u,n[2*o+1]=u>>8}return n}(a)),o.write(t,a.length,null),t.concat(a)}},{key:"isValueType",value:function(){return!1}}],[{key:"isTypeOf",value:function(t){return"Microsoft.Xna.Framework.Content.Texture2DReader"===t}}])}(eu);function Mi(t,e,r){return e=Ho(e),tu(t,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(e,r||[],Ho(t).constructor):e.apply(t,r))}var Bi=function(t){function e(){return Go(this,e),Mi(this,e,arguments)}return Jo(e,t),qo(e,[{key:"read",value:function(t){var e=new Vu;return{x:e.read(t),y:e.read(t),z:e.read(t)}}},{key:"write",value:function(t,e,r){this.writeIndex(t,r);var n=new Vu;n.write(t,e.x,null),n.write(t,e.y,null),n.write(t,e.z,null)}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.Vector3Reader":case"Microsoft.Xna.Framework.Vector3":return!0;default:return!1}}}])}(eu);function Pi(t,e,r){return e=Ho(e),tu(t,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(e,r||[],Ho(t).constructor):e.apply(t,r))}var zi=function(t){function e(){return Go(this,e),Pi(this,e,arguments)}return Jo(e,t),qo(e,[{key:"read",value:function(t,e){var r=new _u,n=new Vu,o=new Tu(new wu);return{texture:e.read(t),glyphs:e.read(t),cropping:e.read(t),characterMap:e.read(t),verticalLineSpacing:r.read(t),horizontalSpacing:n.read(t),kerning:e.read(t),defaultCharacter:o.read(t)}}},{key:"write",value:function(t,e,r){var n=new _u,o=new wu,u=new Vu,i=new Tu(o),a=new Ai,c=new Ou(new Pu),s=new Ou(o),f=new Ou(new Bi);this.writeIndex(t,r);try{a.write(t,e.texture,r),t.alloc(1e5),c.write(t,e.glyphs,r),c.write(t,e.cropping,r),s.write(t,e.characterMap,r),n.write(t,e.verticalLineSpacing,null),u.write(t,e.horizontalSpacing,null),f.write(t,e.kerning,r),i.write(t,e.defaultCharacter,null)}catch(t){throw t}}},{key:"isValueType",value:function(){return!1}}],[{key:"isTypeOf",value:function(t){return"Microsoft.Xna.Framework.Content.SpriteFontReader"===t}},{key:"parseTypeList",value:function(){return["SpriteFont","Texture2D","List<Rectangle>","Rectangle","List<Rectangle>","Rectangle","List<Char>","Char",null,null,"List<Vector3>","Vector3","Nullable<Char>","Char"]}}])}(eu);function Vi(t,e,r){return e=Ho(e),tu(t,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(e,r||[],Ho(t).constructor):e.apply(t,r))}var Ii=function(t){function e(){return Go(this,e),Vi(this,e,arguments)}return Jo(e,t),qo(e,[{key:"read",value:function(t){var e=(new _u).read(t),r=t.read(e);return{export:{type:this.type,data:r}}}},{key:"write",value:function(t,e,r){this.writeIndex(t,r);var n=e.export.data;(new _u).write(t,n.byteLength,null),t.concat(n)}},{key:"isValueType",value:function(){return!1}}],[{key:"isTypeOf",value:function(t){return"xTile.Pipeline.TideReader"===t}}])}(eu);function ji(t,e,r){return e=Ho(e),tu(t,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(e,r||[],Ho(t).constructor):e.apply(t,r))}var Ei=function(t){function e(){return Go(this,e),ji(this,e,arguments)}return Jo(e,t),qo(e,[{key:"read",value:function(t){var e=new _u,r=new nu,n=e.read(t),o=r.read(t),u=r.read(t),i=r.read(t);i>1&&console.warn("Found mipcount of ".concat(i,", only the first will be used."));var a=r.read(t),c=t.read(a);if(c=new Uint8Array(c),0!=n)throw new Error("Compressed texture format is not supported!");for(var s=0;s<c.length;s+=4){var f=255/c[s+3];c[s]=Math.min(Math.ceil(c[s]*f),255),c[s+1]=Math.min(Math.ceil(c[s+1]*f),255),c[s+2]=Math.min(Math.ceil(c[s+2]*f),255)}return{format:n,export:{type:this.type,data:c,width:o,height:u}}}},{key:"write",value:function(t,e,r){if(0!=e.format)throw new Error("Compressed texture format is not supported!");var n=new _u,o=new nu;this.writeIndex(t,r),e.export.width,e.export.height,n.write(t,e.format,null),o.write(t,e.export.width,null),o.write(t,e.export.height,null),o.write(t,1,null);for(var u=e.export.data,i=0;i<u.length;i+=4){var a=u[i+3]/255;u[i]=Math.floor(u[i]*a),u[i+1]=Math.floor(u[i+1]*a),u[i+2]=Math.floor(u[i+2]*a)}o.write(t,u.length,null),t.concat(u)}},{key:"isValueType",value:function(){return!1}},{key:"type",get:function(){return"Texture2D"}}],[{key:"isTypeOf",value:function(t){return"Microsoft.Xna.Framework.Content.Texture2DReader"===t}},{key:"type",value:function(){return"Texture2D"}}])}(eu);function Ci(t,e,r){return e=Ho(e),tu(t,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(e,r||[],Ho(t).constructor):e.apply(t,r))}var Fi=function(t){function e(){return Go(this,e),Ci(this,e,arguments)}return Jo(e,t),qo(e,[{key:"read",value:function(t){var e=new Vu;return{x:e.read(t),y:e.read(t)}}},{key:"write",value:function(t,e,r){this.writeIndex(t,r);var n=new Vu;n.write(t,e.x,null),n.write(t,e.y,null)}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.Vector2Reader":case"Microsoft.Xna.Framework.Vector2":return!0;default:return!1}}}])}(eu);function Ui(t,e,r){return e=Ho(e),tu(t,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){return!1}}()?Reflect.construct(e,r||[],Ho(t).constructor):e.apply(t,r))}var Di=function(t){function e(){return Go(this,e),Ui(this,e,arguments)}return Jo(e,t),qo(e,[{key:"read",value:function(t){var e=new Vu;return{x:e.read(t),y:e.read(t),z:e.read(t),w:e.read(t)}}},{key:"write",value:function(t,e,r){this.writeIndex(t,r);var n=new Vu;n.write(t,e.x,null),n.write(t,e.y,null),n.write(t,e.z,null),n.write(t,e.w,null)}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.Vector4Reader":case"Microsoft.Xna.Framework.Vector4":return!0;default:return!1}}}])}(eu);t.ArrayReader=ou,t.BaseReader=eu,t.BmFontReader=hu,t.BooleanReader=pu,t.CharReader=wu,t.DictionaryReader=mu,t.DoubleReader=ku,t.EffectReader=Ru,t.Int32Reader=_u,t.LightweightTexture2DReader=Ei,t.ListReader=Ou,t.NullableReader=Tu,t.PointReader=Au,t.RectangleReader=Pu,t.ReflectiveReader=Mu,t.SingleReader=Vu,t.SpriteFontReader=zi,t.StringReader=lu,t.TBinReader=Ii,t.Texture2DReader=Ai,t.UInt32Reader=nu,t.Vector2Reader=Fi,t.Vector3Reader=Bi,t.Vector4Reader=Di,Object.defineProperty(t,"__esModule",{value:!0})}));

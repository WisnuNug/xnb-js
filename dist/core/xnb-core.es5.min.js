/** 
 * xnb.js 1.2.0
 * made by Lybell( https://github.com/lybell-art/ )
 * This library is based on the XnbCli made by Leonblade.
 * 
 * xnb.js is licensed under the LGPL 3.0 License.
 * 
 * LZ4 decoder license : ICS
 * Original code : https://github.com/Benzinga/lz4js/
 *
 * LZX decoder license : LGPL 2.1
 * -----------------------------------------------------------------------------
 * This file is heavily based on MonoGame's implementation of their LzxDecoder attributed to Ali Scissons
 * which is derived from libmspack by Stuart Cole.
 *
 * (C) 2003-2004 Stuart Caie.
 * (C) 2011 Ali Scissons.
 * (C) 2017 James Stine.
 *
 * The LZX method was created by Johnathan Forbes and Tomi Poutanen, adapted by Microsoft Corporation.
 * 
 * GNU LESSER GENERAL PUBLIC LICENSE version 2.1
 * LzxDecoder is free software; you can redistribute it and/or modify it under
 * the terms of the GNU Lesser General Public License (LGPL) version 2.1 
 *
 * MICROSOFT PUBLIC LICENSE
 * This source code a derivative on LzxDecoder and is subject to the terms of the Microsoft Public License (Ms-PL). 
 *	
 * Redistribution and use in source and binary forms, with or without modification, 
 * is permitted provided that redistributions of the source code retain the above 
 * copyright notices and this file header. 
 *	
 * Additional copyright notices should be appended to the list above. 
 * 
 * For details, see <http://www.opensource.org/licenses/ms-pl.html>.
 *
 *
 * I made the mistake of not including this license years ago. Big thanks to everyone involved and license has now been
 * acknowleded properly as it should have been back in 2017.
 *
 * Resources:
 *
 * cabextract/libmspack - http://http://www.cabextract.org.uk/
 * MonoGame LzxDecoder.cs - https://github.com/MonoGame/MonoGame/blob/master/MonoGame.Framework/Content/LzxDecoder.cs
 * -----------------------------------------------------------------------------
*/

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).XNB={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=function(t){return t&&t.Math==Math&&t},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")(),i={},a=function(t){try{return!!t()}catch(t){return!0}},o=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),s=!a((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),u=s,h=Function.prototype.call,f=u?h.bind(h):function(){return h.apply(h,arguments)},c={},l={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,p=d&&!l.call({1:2},1);c.f=p?function(t){var e=d(this,t);return!!e&&e.enumerable}:l;var v,_,y=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},w=s,g=Function.prototype,b=g.bind,m=g.call,k=w&&b.bind(m,m),x=w?function(t){return t&&k(t)}:function(t){return t&&function(){return m.apply(t,arguments)}},E=x,O=E({}.toString),R=E("".slice),A=function(t){return R(O(t),8,-1)},U=x,S=a,T=A,L=r.Object,B=U("".split),I=S((function(){return!L("z").propertyIsEnumerable(0)}))?function(t){return"String"==T(t)?B(t,""):L(t)}:L,N=r.TypeError,P=function(t){if(null==t)throw N("Can't call method on "+t);return t},j=I,z=P,D=function(t){return j(z(t))},C=function(t){return"function"==typeof t},F=C,Z=function(t){return"object"==typeof t?null!==t:F(t)},M=r,V=C,X=function(t){return V(t)?t:void 0},H=function(t,e){return arguments.length<2?X(M[t]):M[t]&&M[t][e]},W=x({}.isPrototypeOf),G=H("navigator","userAgent")||"",K=r,Y=G,J=K.process,$=K.Deno,q=J&&J.versions||$&&$.version,Q=q&&q.v8;Q&&(_=(v=Q.split("."))[0]>0&&v[0]<4?1:+(v[0]+v[1])),!_&&Y&&(!(v=Y.match(/Edge\/(\d+)/))||v[1]>=74)&&(v=Y.match(/Chrome\/(\d+)/))&&(_=+v[1]);var tt=_,et=tt,nt=a,rt=!!Object.getOwnPropertySymbols&&!nt((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&et&&et<41})),it=rt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,at=H,ot=C,st=W,ut=it,ht=r.Object,ft=ut?function(t){return"symbol"==typeof t}:function(t){var e=at("Symbol");return ot(e)&&st(e.prototype,ht(t))},ct=r.String,lt=function(t){try{return ct(t)}catch(t){return"Object"}},dt=C,pt=lt,vt=r.TypeError,_t=function(t){if(dt(t))return t;throw vt(pt(t)+" is not a function")},yt=_t,wt=function(t,e){var n=t[e];return null==n?void 0:yt(n)},gt=f,bt=C,mt=Z,kt=r.TypeError,xt={exports:{}},Et=r,Ot=Object.defineProperty,Rt=function(t,e){try{Ot(Et,t,{value:e,configurable:!0,writable:!0})}catch(n){Et[t]=e}return e},At=Rt,Ut="__core-js_shared__",St=r[Ut]||At(Ut,{}),Tt=St;(xt.exports=function(t,e){return Tt[t]||(Tt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.22.4",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.4/LICENSE",source:"https://github.com/zloirock/core-js"});var Lt=P,Bt=r.Object,It=function(t){return Bt(Lt(t))},Nt=x({}.hasOwnProperty),Pt=Object.hasOwn||function(t,e){return Nt(It(t),e)},jt=x,zt=0,Dt=Math.random(),Ct=jt(1..toString),Ft=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Ct(++zt+Dt,36)},Zt=r,Mt=xt.exports,Vt=Pt,Xt=Ft,Ht=rt,Wt=it,Gt=Mt("wks"),Kt=Zt.Symbol,Yt=Kt&&Kt.for,Jt=Wt?Kt:Kt&&Kt.withoutSetter||Xt,$t=function(t){if(!Vt(Gt,t)||!Ht&&"string"!=typeof Gt[t]){var e="Symbol."+t;Ht&&Vt(Kt,t)?Gt[t]=Kt[t]:Gt[t]=Wt&&Yt?Yt(e):Jt(e)}return Gt[t]},qt=f,Qt=Z,te=ft,ee=wt,ne=function(t,e){var n,r;if("string"===e&&bt(n=t.toString)&&!mt(r=gt(n,t)))return r;if(bt(n=t.valueOf)&&!mt(r=gt(n,t)))return r;if("string"!==e&&bt(n=t.toString)&&!mt(r=gt(n,t)))return r;throw kt("Can't convert object to primitive value")},re=$t,ie=r.TypeError,ae=re("toPrimitive"),oe=function(t,e){if(!Qt(t)||te(t))return t;var n,r=ee(t,ae);if(r){if(void 0===e&&(e="default"),n=qt(r,t,e),!Qt(n)||te(n))return n;throw ie("Can't convert object to primitive value")}return void 0===e&&(e="number"),ne(t,e)},se=ft,ue=function(t){var e=oe(t,"string");return se(e)?e:e+""},he=Z,fe=r.document,ce=he(fe)&&he(fe.createElement),le=function(t){return ce?fe.createElement(t):{}},de=le,pe=!o&&!a((function(){return 7!=Object.defineProperty(de("div"),"a",{get:function(){return 7}}).a})),ve=o,_e=f,ye=c,we=y,ge=D,be=ue,me=Pt,ke=pe,xe=Object.getOwnPropertyDescriptor;i.f=ve?xe:function(t,e){if(t=ge(t),e=be(e),ke)try{return xe(t,e)}catch(t){}if(me(t,e))return we(!_e(ye.f,t,e),t[e])};var Ee={},Oe=o&&a((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Re=r,Ae=Z,Ue=Re.String,Se=Re.TypeError,Te=function(t){if(Ae(t))return t;throw Se(Ue(t)+" is not an object")},Le=o,Be=pe,Ie=Oe,Ne=Te,Pe=ue,je=r.TypeError,ze=Object.defineProperty,De=Object.getOwnPropertyDescriptor,Ce="enumerable",Fe="configurable",Ze="writable";Ee.f=Le?Ie?function(t,e,n){if(Ne(t),e=Pe(e),Ne(n),"function"==typeof t&&"prototype"===e&&"value"in n&&Ze in n&&!n.writable){var r=De(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:Fe in n?n.configurable:r.configurable,enumerable:Ce in n?n.enumerable:r.enumerable,writable:!1})}return ze(t,e,n)}:ze:function(t,e,n){if(Ne(t),e=Pe(e),Ne(n),Be)try{return ze(t,e,n)}catch(t){}if("get"in n||"set"in n)throw je("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var Me=Ee,Ve=y,Xe=o?function(t,e,n){return Me.f(t,e,Ve(1,n))}:function(t,e,n){return t[e]=n,t},He={exports:{}},We=o,Ge=Pt,Ke=Function.prototype,Ye=We&&Object.getOwnPropertyDescriptor,Je=Ge(Ke,"name"),$e={EXISTS:Je,PROPER:Je&&"something"===function(){}.name,CONFIGURABLE:Je&&(!We||We&&Ye(Ke,"name").configurable)},qe=C,Qe=St,tn=x(Function.toString);qe(Qe.inspectSource)||(Qe.inspectSource=function(t){return tn(t)});var en,nn,rn,an=Qe.inspectSource,on=C,sn=an,un=r.WeakMap,hn=on(un)&&/native code/.test(sn(un)),fn=xt.exports,cn=Ft,ln=fn("keys"),dn={},pn=hn,vn=r,_n=x,yn=Z,wn=Xe,gn=Pt,bn=St,mn=function(t){return ln[t]||(ln[t]=cn(t))},kn=dn,xn="Object already initialized",En=vn.TypeError,On=vn.WeakMap;if(pn||bn.state){var Rn=bn.state||(bn.state=new On),An=_n(Rn.get),Un=_n(Rn.has),Sn=_n(Rn.set);en=function(t,e){if(Un(Rn,t))throw new En(xn);return e.facade=t,Sn(Rn,t,e),e},nn=function(t){return An(Rn,t)||{}},rn=function(t){return Un(Rn,t)}}else{var Tn=mn("state");kn[Tn]=!0,en=function(t,e){if(gn(t,Tn))throw new En(xn);return e.facade=t,wn(t,Tn,e),e},nn=function(t){return gn(t,Tn)?t[Tn]:{}},rn=function(t){return gn(t,Tn)}}var Ln={set:en,get:nn,has:rn,enforce:function(t){return rn(t)?nn(t):en(t,{})},getterFor:function(t){return function(e){var n;if(!yn(e)||(n=nn(e)).type!==t)throw En("Incompatible receiver, "+t+" required");return n}}},Bn=a,In=C,Nn=Pt,Pn=Ee.f,jn=$e.CONFIGURABLE,zn=an,Dn=Ln.enforce,Cn=Ln.get,Fn=!Bn((function(){return 8!==Pn((function(){}),"length",{value:8}).length})),Zn=String(String).split("String"),Mn=He.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!Nn(t,"name")||jn&&t.name!==e)&&Pn(t,"name",{value:e,configurable:!0}),Fn&&n&&Nn(n,"arity")&&t.length!==n.arity&&Pn(t,"length",{value:n.arity});var r=Dn(t);return Nn(r,"source")||(r.source=Zn.join("string"==typeof e?e:"")),t};Function.prototype.toString=Mn((function(){return In(this)&&Cn(this).source||zn(this)}),"toString");var Vn=r,Xn=C,Hn=Xe,Wn=He.exports,Gn=Rt,Kn=function(t,e,n,r){var i=!!r&&!!r.unsafe,a=!!r&&!!r.enumerable,o=!!r&&!!r.noTargetGet,s=r&&void 0!==r.name?r.name:e;return Xn(n)&&Wn(n,s,r),t===Vn?(a?t[e]=n:Gn(e,n),t):(i?!o&&t[e]&&(a=!0):delete t[e],a?t[e]=n:Hn(t,e,n),t)},Yn={},Jn=Math.ceil,$n=Math.floor,qn=function(t){var e=+t;return e!=e||0===e?0:(e>0?$n:Jn)(e)},Qn=qn,tr=Math.max,er=Math.min,nr=qn,rr=Math.min,ir=function(t){return t>0?rr(nr(t),9007199254740991):0},ar=function(t){return ir(t.length)},or=D,sr=function(t,e){var n=Qn(t);return n<0?tr(n+e,0):er(n,e)},ur=ar,hr=function(t){return function(e,n,r){var i,a=or(e),o=ur(a),s=sr(r,o);if(t&&n!=n){for(;o>s;)if((i=a[s++])!=i)return!0}else for(;o>s;s++)if((t||s in a)&&a[s]===n)return t||s||0;return!t&&-1}},fr={includes:hr(!0),indexOf:hr(!1)},cr=Pt,lr=D,dr=fr.indexOf,pr=dn,vr=x([].push),_r=function(t,e){var n,r=lr(t),i=0,a=[];for(n in r)!cr(pr,n)&&cr(r,n)&&vr(a,n);for(;e.length>i;)cr(r,n=e[i++])&&(~dr(a,n)||vr(a,n));return a},yr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype");Yn.f=Object.getOwnPropertyNames||function(t){return _r(t,yr)};var wr={};wr.f=Object.getOwnPropertySymbols;var gr=H,br=Yn,mr=wr,kr=Te,xr=x([].concat),Er=gr("Reflect","ownKeys")||function(t){var e=br.f(kr(t)),n=mr.f;return n?xr(e,n(t)):e},Or=Pt,Rr=Er,Ar=i,Ur=Ee,Sr=a,Tr=C,Lr=/#|\.prototype\./,Br=function(t,e){var n=Nr[Ir(t)];return n==jr||n!=Pr&&(Tr(e)?Sr(e):!!e)},Ir=Br.normalize=function(t){return String(t).replace(Lr,".").toLowerCase()},Nr=Br.data={},Pr=Br.NATIVE="N",jr=Br.POLYFILL="P",zr=Br,Dr=r,Cr=i.f,Fr=Xe,Zr=Kn,Mr=Rt,Vr=function(t,e,n){for(var r=Rr(e),i=Ur.f,a=Ar.f,o=0;o<r.length;o++){var s=r[o];Or(t,s)||n&&Or(n,s)||i(t,s,a(e,s))}},Xr=zr,Hr=function(t,e){var n,r,i,a,o,s=t.target,u=t.global,h=t.stat;if(n=u?Dr:h?Dr[s]||Mr(s,{}):(Dr[s]||{}).prototype)for(r in e){if(a=e[r],i=t.noTargetGet?(o=Cr(n,r))&&o.value:n[r],!Xr(u?r:s+(h?".":"#")+r,t.forced)&&void 0!==i){if(typeof a==typeof i)continue;Vr(a,i)}(t.sham||i&&i.sham)&&Fr(a,"sham",!0),Zr(n,r,a,t)}},Wr="process"==A(r.process),Gr=r,Kr=C,Yr=Gr.String,Jr=Gr.TypeError,$r=x,qr=Te,Qr=function(t){if("object"==typeof t||Kr(t))return t;throw Jr("Can't set "+Yr(t)+" as a prototype")},ti=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=$r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return qr(n),Qr(r),e?t(n,r):n.__proto__=r,n}}():void 0),ei=Ee.f,ni=Pt,ri=$t("toStringTag"),ii=H,ai=Ee,oi=o,si=$t("species"),ui=W,hi=r.TypeError,fi={};fi[$t("toStringTag")]="z";var ci=r,li="[object z]"===String(fi),di=C,pi=A,vi=$t("toStringTag"),_i=ci.Object,yi="Arguments"==pi(function(){return arguments}()),wi=li?pi:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=_i(t),vi))?n:yi?pi(e):"Object"==(r=pi(e))&&di(e.callee)?"Arguments":r},gi=x,bi=a,mi=C,ki=wi,xi=an,Ei=function(){},Oi=[],Ri=H("Reflect","construct"),Ai=/^\s*(?:class|function)\b/,Ui=gi(Ai.exec),Si=!Ai.exec(Ei),Ti=function(t){if(!mi(t))return!1;try{return Ri(Ei,Oi,t),!0}catch(t){return!1}},Li=function(t){if(!mi(t))return!1;switch(ki(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Si||!!Ui(Ai,xi(t))}catch(t){return!0}};Li.sham=!0;var Bi,Ii,Ni,Pi,ji=!Ri||bi((function(){var t;return Ti(Ti.call)||!Ti(Object)||!Ti((function(){t=!0}))||t}))?Li:Ti,zi=ji,Di=lt,Ci=r.TypeError,Fi=Te,Zi=function(t){if(zi(t))return t;throw Ci(Di(t)+" is not a constructor")},Mi=$t("species"),Vi=s,Xi=Function.prototype,Hi=Xi.apply,Wi=Xi.call,Gi="object"==typeof Reflect&&Reflect.apply||(Vi?Wi.bind(Hi):function(){return Wi.apply(Hi,arguments)}),Ki=_t,Yi=s,Ji=x(x.bind),$i=function(t,e){return Ki(t),void 0===e?t:Yi?Ji(t,e):function(){return t.apply(e,arguments)}},qi=H("document","documentElement"),Qi=x([].slice),ta=r.TypeError,ea=/(?:ipad|iphone|ipod).*applewebkit/i.test(G),na=r,ra=Gi,ia=$i,aa=C,oa=Pt,sa=a,ua=qi,ha=Qi,fa=le,ca=function(t,e){if(t<e)throw ta("Not enough arguments");return t},la=ea,da=Wr,pa=na.setImmediate,va=na.clearImmediate,_a=na.process,ya=na.Dispatch,wa=na.Function,ga=na.MessageChannel,ba=na.String,ma=0,ka={},xa="onreadystatechange";try{Bi=na.location}catch(t){}var Ea=function(t){if(oa(ka,t)){var e=ka[t];delete ka[t],e()}},Oa=function(t){return function(){Ea(t)}},Ra=function(t){Ea(t.data)},Aa=function(t){na.postMessage(ba(t),Bi.protocol+"//"+Bi.host)};pa&&va||(pa=function(t){ca(arguments.length,1);var e=aa(t)?t:wa(t),n=ha(arguments,1);return ka[++ma]=function(){ra(e,void 0,n)},Ii(ma),ma},va=function(t){delete ka[t]},da?Ii=function(t){_a.nextTick(Oa(t))}:ya&&ya.now?Ii=function(t){ya.now(Oa(t))}:ga&&!la?(Pi=(Ni=new ga).port2,Ni.port1.onmessage=Ra,Ii=ia(Pi.postMessage,Pi)):na.addEventListener&&aa(na.postMessage)&&!na.importScripts&&Bi&&"file:"!==Bi.protocol&&!sa(Aa)?(Ii=Aa,na.addEventListener("message",Ra,!1)):Ii=xa in fa("script")?function(t){ua.appendChild(fa("script")).onreadystatechange=function(){ua.removeChild(this),Ea(t)}}:function(t){setTimeout(Oa(t),0)});var Ua,Sa,Ta,La,Ba,Ia,Na,Pa,ja={set:pa,clear:va},za=r,Da=/ipad|iphone|ipod/i.test(G)&&void 0!==za.Pebble,Ca=/web0s(?!.*chrome)/i.test(G),Fa=r,Za=$i,Ma=i.f,Va=ja.set,Xa=ea,Ha=Da,Wa=Ca,Ga=Wr,Ka=Fa.MutationObserver||Fa.WebKitMutationObserver,Ya=Fa.document,Ja=Fa.process,$a=Fa.Promise,qa=Ma(Fa,"queueMicrotask"),Qa=qa&&qa.value;Qa||(Ua=function(){var t,e;for(Ga&&(t=Ja.domain)&&t.exit();Sa;){e=Sa.fn,Sa=Sa.next;try{e()}catch(t){throw Sa?La():Ta=void 0,t}}Ta=void 0,t&&t.enter()},Xa||Ga||Wa||!Ka||!Ya?!Ha&&$a&&$a.resolve?((Na=$a.resolve(void 0)).constructor=$a,Pa=Za(Na.then,Na),La=function(){Pa(Ua)}):Ga?La=function(){Ja.nextTick(Ua)}:(Va=Za(Va,Fa),La=function(){Va(Ua)}):(Ba=!0,Ia=Ya.createTextNode(""),new Ka(Ua).observe(Ia,{characterData:!0}),La=function(){Ia.data=Ba=!Ba}));var to=Qa||function(t){var e={fn:t,next:void 0};Ta&&(Ta.next=e),Sa||(Sa=e,La()),Ta=e},eo=r,no=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},ro=function(){this.head=null,this.tail=null};ro.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var io=ro,ao=r.Promise,oo="object"==typeof window&&"object"!=typeof Deno,so=r,uo=ao,ho=C,fo=zr,co=an,lo=$t,po=oo,vo=tt;uo&&uo.prototype;var _o=lo("species"),yo=!1,wo=ho(so.PromiseRejectionEvent),go=fo("Promise",(function(){var t=co(uo),e=t!==String(uo);if(!e&&66===vo)return!0;if(vo>=51&&/native code/.test(t))return!1;var n=new uo((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[_o]=r,!(yo=n.then((function(){}))instanceof r)||!e&&po&&!wo})),bo={CONSTRUCTOR:go,REJECTION_EVENT:wo,SUBCLASSING:yo},mo={},ko=_t,xo=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=ko(e),this.reject=ko(n)};mo.f=function(t){return new xo(t)};var Eo,Oo,Ro,Ao=Hr,Uo=Wr,So=r,To=f,Lo=Kn,Bo=ti,Io=function(t,e,n){t&&!n&&(t=t.prototype),t&&!ni(t,ri)&&ei(t,ri,{configurable:!0,value:e})},No=function(t){var e=ii(t),n=ai.f;oi&&e&&!e[si]&&n(e,si,{configurable:!0,get:function(){return this}})},Po=_t,jo=C,zo=Z,Do=function(t,e){if(ui(e,t))return t;throw hi("Incorrect invocation")},Co=function(t,e){var n,r=Fi(t).constructor;return void 0===r||null==(n=Fi(r)[Mi])?e:Zi(n)},Fo=ja.set,Zo=to,Mo=function(t,e){var n=eo.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))},Vo=no,Xo=io,Ho=Ln,Wo=ao,Go=mo,Ko="Promise",Yo=bo.CONSTRUCTOR,Jo=bo.REJECTION_EVENT,$o=bo.SUBCLASSING,qo=Ho.getterFor(Ko),Qo=Ho.set,ts=Wo&&Wo.prototype,es=Wo,ns=ts,rs=So.TypeError,is=So.document,as=So.process,os=Go.f,ss=os,us=!!(is&&is.createEvent&&So.dispatchEvent),hs="unhandledrejection",fs=function(t){var e;return!(!zo(t)||!jo(e=t.then))&&e},cs=function(t,e){var n,r,i,a=e.value,o=1==e.state,s=o?t.ok:t.fail,u=t.resolve,h=t.reject,f=t.domain;try{s?(o||(2===e.rejection&&_s(e),e.rejection=1),!0===s?n=a:(f&&f.enter(),n=s(a),f&&(f.exit(),i=!0)),n===t.promise?h(rs("Promise-chain cycle")):(r=fs(n))?To(r,n,u,h):u(n)):h(a)}catch(t){f&&!i&&f.exit(),h(t)}},ls=function(t,e){t.notified||(t.notified=!0,Zo((function(){for(var n,r=t.reactions;n=r.get();)cs(n,t);t.notified=!1,e&&!t.rejection&&ps(t)})))},ds=function(t,e,n){var r,i;us?((r=is.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),So.dispatchEvent(r)):r={promise:e,reason:n},!Jo&&(i=So["on"+t])?i(r):t===hs&&Mo("Unhandled promise rejection",n)},ps=function(t){To(Fo,So,(function(){var e,n=t.facade,r=t.value;if(vs(t)&&(e=Vo((function(){Uo?as.emit("unhandledRejection",r,n):ds(hs,n,r)})),t.rejection=Uo||vs(t)?2:1,e.error))throw e.value}))},vs=function(t){return 1!==t.rejection&&!t.parent},_s=function(t){To(Fo,So,(function(){var e=t.facade;Uo?as.emit("rejectionHandled",e):ds("rejectionhandled",e,t.value)}))},ys=function(t,e,n){return function(r){t(e,r,n)}},ws=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,ls(t,!0))},gs=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw rs("Promise can't be resolved itself");var r=fs(e);r?Zo((function(){var n={done:!1};try{To(r,e,ys(gs,n,t),ys(ws,n,t))}catch(e){ws(n,e,t)}})):(t.value=e,t.state=1,ls(t,!1))}catch(e){ws({done:!1},e,t)}}};if(Yo&&(ns=(es=function(t){Do(this,ns),Po(t),To(Eo,this);var e=qo(this);try{t(ys(gs,e),ys(ws,e))}catch(t){ws(e,t)}}).prototype,(Eo=function(t){Qo(this,{type:Ko,done:!1,notified:!1,parent:!1,reactions:new Xo,rejection:!1,state:0,value:void 0})}).prototype=Lo(ns,"then",(function(t,e){var n=qo(this),r=os(Co(this,es));return n.parent=!0,r.ok=!jo(t)||t,r.fail=jo(e)&&e,r.domain=Uo?as.domain:void 0,0==n.state?n.reactions.add(r):Zo((function(){cs(r,n)})),r.promise})),Oo=function(){var t=new Eo,e=qo(t);this.promise=t,this.resolve=ys(gs,e),this.reject=ys(ws,e)},Go.f=os=function(t){return t===es||undefined===t?new Oo(t):ss(t)},jo(Wo)&&ts!==Object.prototype)){Ro=ts.then,$o||Lo(ts,"then",(function(t,e){var n=this;return new es((function(t,e){To(Ro,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete ts.constructor}catch(t){}Bo&&Bo(ts,ns)}Ao({global:!0,wrap:!0,forced:Yo},{Promise:es}),Io(es,Ko,!1),No(Ko);var bs={},ms=bs,ks=$t("iterator"),xs=Array.prototype,Es=wi,Os=wt,Rs=bs,As=$t("iterator"),Us=function(t){if(null!=t)return Os(t,As)||Os(t,"@@iterator")||Rs[Es(t)]},Ss=f,Ts=_t,Ls=Te,Bs=lt,Is=Us,Ns=r.TypeError,Ps=f,js=Te,zs=wt,Ds=$i,Cs=f,Fs=Te,Zs=lt,Ms=function(t){return void 0!==t&&(ms.Array===t||xs[ks]===t)},Vs=ar,Xs=W,Hs=function(t,e){var n=arguments.length<2?Is(t):e;if(Ts(n))return Ls(Ss(n,t));throw Ns(Bs(t)+" is not iterable")},Ws=Us,Gs=function(t,e,n){var r,i;js(t);try{if(!(r=zs(t,"return"))){if("throw"===e)throw n;return n}r=Ps(r,t)}catch(t){i=!0,r=t}if("throw"===e)throw n;if(i)throw r;return js(r),n},Ks=r.TypeError,Ys=function(t,e){this.stopped=t,this.result=e},Js=Ys.prototype,$s=function(t,e,n){var r,i,a,o,s,u,h,f=n&&n.that,c=!(!n||!n.AS_ENTRIES),l=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),p=Ds(e,f),v=function(t){return r&&Gs(r,"normal",t),new Ys(!0,t)},_=function(t){return c?(Fs(t),d?p(t[0],t[1],v):p(t[0],t[1])):d?p(t,v):p(t)};if(l)r=t;else{if(!(i=Ws(t)))throw Ks(Zs(t)+" is not iterable");if(Ms(i)){for(a=0,o=Vs(t);o>a;a++)if((s=_(t[a]))&&Xs(Js,s))return s;return new Ys(!1)}r=Hs(t,i)}for(u=r.next;!(h=Cs(u,r)).done;){try{s=_(h.value)}catch(t){Gs(r,"throw",t)}if("object"==typeof s&&s&&Xs(Js,s))return s}return new Ys(!1)};function qs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qs(Object(n),!0).forEach((function(e){ou(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qs(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tu(t){return tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(t)}function eu(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function nu(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){eu(a,r,i,o,s,"next",t)}function s(t){eu(a,r,i,o,s,"throw",t)}o(void 0)}))}}function ru(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function au(t,e,n){return e&&iu(t.prototype,e),n&&iu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ou(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function su(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hu(t,e)}function uu(t){return uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uu(t)}function hu(t,e){return hu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},hu(t,e)}function fu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function cu(t,e,n){return cu=fu()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&hu(i,n.prototype),i},cu.apply(null,arguments)}function lu(t){var e="function"==typeof Map?new Map:void 0;return lu=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return cu(t,arguments,uu(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),hu(r,t)},lu(t)}function du(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pu(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return du(t)}function vu(t){var e=fu();return function(){var n,r=uu(t);if(e){var i=uu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pu(this,n)}}function _u(t,e){if(t&&"function"==typeof t.repeat)return t.repeat(e);if("string"==typeof t){for(var n="",r=0;r<e;r++)n+=t;return n}if(t instanceof Array){for(n=[],r=0;r<e;r++)n.concat(t);return n}throw new Error("Invalid Data!")}function yu(t,e){return t&&"function"==typeof t.includes?t.includes(e):-1!==t.indexOf(e)}function wu(t,e){if(t&&"function"==typeof t.startsWith)return t.startsWith(e);if("string"!=typeof t||"string"!=typeof e)throw new Error("Invalid Data!");return new RegExp("^"+e).test(t)}function gu(t,e){if(!t||"object"!==tu(t))throw new Error("Invalid Data!");for(var n=[],r=t.length,i=0;i<r;i++)n[i]=e(t[i],i);return n}var bu=void 0!==Promise.allSettled?Promise.allSettled.bind(Promise):function(t){var e=t.map((function(t){return t.then((function(t){return{status:"fulfilled",value:t}})).catch((function(t){return{status:"rejected",reason:t}}))}));return Promise.all(e)},mu=$t("iterator"),ku=!1;try{var xu=0,Eu={next:function(){return{done:!!xu++}},return:function(){ku=!0}};Eu[mu]=function(){return this},gu(Eu,(function(){throw 2}))}catch(t){}var Ou=ao,Ru=function(t,e){if(!e&&!ku)return!1;var n=!1;try{var r={};r[mu]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},Au=bo.CONSTRUCTOR||!Ru((function(t){Ou.all(t).then(void 0,(function(){}))})),Uu=f,Su=_t,Tu=mo,Lu=no,Bu=$s;Hr({target:"Promise",stat:!0,forced:Au},{all:function(t){var e=this,n=Tu.f(e),r=n.resolve,i=n.reject,a=Lu((function(){var n=Su(e.resolve),a=[],o=0,s=1;Bu(t,(function(t){var u=o++,h=!1;s++,Uu(n,e,t).then((function(t){h||(h=!0,a[u]=t,--s||r(a))}),i)})),--s||r(a)}));return a.error&&i(a.value),n.promise}});var Iu=Hr,Nu=bo.CONSTRUCTOR,Pu=ao,ju=H,zu=C,Du=Kn,Cu=Pu&&Pu.prototype;if(Iu({target:"Promise",proto:!0,forced:Nu,real:!0},{catch:function(t){return this.then(void 0,t)}}),zu(Pu)){var Fu=ju("Promise").prototype.catch;Cu.catch!==Fu&&Du(Cu,"catch",Fu,{unsafe:!0})}var Zu=f,Mu=_t,Vu=mo,Xu=no,Hu=$s;Hr({target:"Promise",stat:!0,forced:Au},{race:function(t){var e=this,n=Vu.f(e),r=n.reject,i=Xu((function(){var i=Mu(e.resolve);Hu(t,(function(t){Zu(i,e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var Wu=f,Gu=mo;Hr({target:"Promise",stat:!0,forced:bo.CONSTRUCTOR},{reject:function(t){var e=Gu.f(this);return Wu(e.reject,void 0,t),e.promise}});var Ku=Te,Yu=Z,Ju=mo,$u=Hr,qu=bo.CONSTRUCTOR,Qu=function(t,e){if(Ku(t),Yu(e)&&e.constructor===t)return e;var n=Ju.f(t);return(0,n.resolve)(e),n.promise};H("Promise"),$u({target:"Promise",stat:!0,forced:qu},{resolve:function(t){return Qu(this,t)}});!function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof _?e:_,a=Object.create(i.prototype),o=new U(r||[]);return a._invoke=function(t,e,n){var r=c;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=O(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===c)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=f(t,e,n);if("normal"===u.type){if(r=n.done?p:l,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(t,n,o),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var c="suspendedStart",l="suspendedYield",d="executing",p="completed",v={};function _(){}function y(){}function w(){}var g={};u(g,a,(function(){return this}));var b=Object.getPrototypeOf,m=b&&b(b(S([])));m&&m!==n&&r.call(m,a)&&(g=m);var k=w.prototype=_.prototype=Object.create(g);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(i,a,o,s){var u=f(t[i],t,a);if("throw"!==u.type){var h=u.arg,c=h.value;return c&&"object"==typeof c&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(c).then((function(t){h.value=t,o(h)}),(function(t){return n("throw",t,o,s)}))}s(u.arg)}var i;this._invoke=function(t,r){function a(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(a,a):a()}}function O(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=f(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function U(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function S(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:T}}function T(){return{value:e,done:!0}}return y.prototype=w,u(k,"constructor",w),u(w,"constructor",y),y.displayName=u(w,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},x(E.prototype),u(E.prototype,o,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new E(h(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(k),u(k,s,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,U.prototype={constructor:U,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),h=r.call(o,"finallyLoc");if(u&&h){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:S(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}({exports:{}});var th=function(t){su(n,t);var e=vu(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ru(this,n),(t=e.call(this,r)).name="XnbError",t.message=r,Error.captureStackTrace(du(t),n),t}return au(n)}(lu(Error));function eh(t){for(var e=[],n=[],r=0;r<t.length;r++){var i=t[r];if("["===i)e.push(r);else if("]"===i){var a=e.pop();if(void 0===a)throw new Error("Invalid Bracket Form!");0===e.length&&n.push(t.slice(a+1,r))}}return n}var nh=function(){function t(){ru(this,t)}return au(t,null,[{key:"setReaders",value:function(e){t.readers=Qs({},e)}},{key:"addReaders",value:function(e){t.readers=Qs(Qs({},t.readers),e)}},{key:"makeSimplied",value:function(e,n){var r=e.split(/`|,/)[0];if(n.isTypeOf(r)){if(n.hasSubType()){var i=t.parseSubtypes(e).map(t.simplifyType.bind(t));return"".concat(n.type(),"<").concat(i.join(","),">")}return n.type()}return null}},{key:"simplifyType",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(e){var n=e.split(/`|,/)[0];if(function(t,e){if("function"==typeof t.endsWith)return t.endsWith(e);if("string"!=typeof t||"string"!=typeof e)throw new Error("Invalid Data!");return new RegExp(e+"$").test(t)}(n,"[]"))return"Array<".concat(simplifyType(n.slice(0,-2)),">");if("Microsoft.Xna.Framework.Content.ReflectiveReader"===n){var r=t.parseSubtypes(e).map(t.simplifyType.bind(t));return"".concat(r)}for(var i=0,a=Object.values(t.readers);i<a.length;i++){var o=a[i],s=t.makeSimplied(e,o);if(null!==s)return s}throw new th('Non-implemented type found, cannot resolve type "'.concat(n,'", "').concat(e,'".'))}))},{key:"parseSubtypes",value:function(t){var e=t.slice(t.search("`")+1);return e[0],e=eh(e)[0],eh(e)}},{key:"getTypeInfo",value:function(t){var e=t.match(/[^<]+/)[0],n=t.match(/<(.+)>/);return n=n?n[1].split(",").map((function(t){return t.trim()})):[],{type:e,subtypes:n}}},{key:"getReaderTypeList",value:function(e){return t.getReader(e).parseTypeList()}},{key:"getReader",value:function(e){var n=t.getTypeInfo(e),r=n.type,i=n.subtypes;if(i=i.map(t.getReader.bind(t)),t.readers.hasOwnProperty("".concat(r,"Reader")))return cu(t.readers["".concat(r,"Reader")],i);throw new th('Invalid reader type "'.concat(e,'" passed, unable to resolve!'))}},{key:"getReaderFromRaw",value:function(e){var n=t.simplifyType(e);return t.getReader(n)}}]),t}();ou(nh,"readers",{});var rh=[192,224,240],ih=128,ah=63,oh=[55296,56320],sh=1023;function uh(t){return t<128?[t]:t<2048?[rh[0]|t>>6,ih|t&ah]:t<65536?[rh[1]|t>>12,ih|t>>6&ah,ih|t&ah]:[rh[2]|t>>18,ih|t>>12&ah,ih|t>>6&ah,ih|t&ah]}function hh(t){return t<65535?[t]:[oh[0]|(t-=65536)>>10&sh,oh[1]|t&sh]}function fh(t){var e;if("number"==typeof t&&(t=[t]),null===(e=t)||void 0===e||!e.length)throw new Error("Invalid codeset!");var n=t.length;return 1===n?t[0]:2===n?((t[0]^rh[0])<<6)+(t[1]^ih):3===n?((t[0]^rh[1])<<12)+((t[1]^ih)<<6)+(t[2]^ih):((t[0]^rh[2])<<18)+((t[1]^ih)<<12)+((t[2]^ih)<<6)+(t[3]^ih)}function ch(t){var e;if("number"==typeof t&&(t=[t]),null===(e=t)||void 0===e||!e.length)throw new Error("Invalid codeset!");return 1===t.length?t[0]:((t[0]&sh)<<10)+(t[1]&sh)+65536}function lh(t){return function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push.apply(e,uh(r))}return e}(function(t){for(var e=gu({length:t.length},(function(e,n){return t.charCodeAt(n)})),n=[],r=0;r<t.length;){var i=e[r];(oh[0]&i)!==oh[0]?(n.push(i),r++):(n.push(ch(e.slice(r,r+2))),r+=2)}return n}(t))}function dh(t){return function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push.apply(e,hh(r))}for(var i=32768,a="",o=0;o<e.length/i;o++)a+=String.fromCharCode.apply(String,e.slice(o*i,(o+1)*i));return a}(function(t){for(var e=t instanceof ArrayBuffer?new Uint8Array(t):t,n=[],r=0;r<e.length;){var i=e[r];0==(128&i)?(n.push(i),r++):i<rh[1]?(n.push(fh(e.slice(r,r+2))),r+=2):i<rh[2]?(n.push(fh(e.slice(r,r+3))),r+=3):(n.push(fh(e.slice(r,r+4))),r+=4)}return n}(t))}var ph=function(){function t(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ru(this,t),this._endianus=n,this._buffer=e.slice(),this._dataView=new DataView(this._buffer),this._offset=0,this._bitOffset=0}return au(t,[{key:"seek",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._offset,n=this._offset;if(this._offset=Math.max(e+parseInt(t),0),this._offset<0||this._offset>this.buffer.length)throw new RangeError("Buffer seek out of bounds! ".concat(this._offset," ").concat(this.buffer.length));return this._offset-n}},{key:"bytePosition",get:function(){return parseInt(this._offset)},set:function(t){this._offset=t}},{key:"bitPosition",get:function(){return parseInt(this._bitOffset)},set:function(t){t<0&&(t=16-t),this._bitOffset=t%16;var e=(t-Math.abs(t)%16)/16*2;this.seek(e)}},{key:"size",get:function(){return this.buffer.byteLength}},{key:"buffer",get:function(){return this._buffer}},{key:"copyFrom",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.byteLength,i=new Uint8Array(t),a=this.buffer.byteLength<r+e,o=this.buffer,s=this._dataView;if(a){o=new ArrayBuffer(this.buffer.byteLength+(r+e-this.buffer.byteLength)),s=new DataView(o);for(var u=0;u<this.buffer.byteLength;u++)s.setUint8(u,this._dataView.getUint8(u))}for(var h=n,f=e;h<r;h++,f++)s.setUint8(f,i[h]);a&&(this._buffer=o,this._dataView=s)}},{key:"read",value:function(t){var e=this.buffer.slice(this._offset,this._offset+t);return this.seek(t),e}},{key:"readByte",value:function(){return this.readUInt()}},{key:"readInt",value:function(){var t=this._dataView.getInt8(this._offset);return this.seek(1),t}},{key:"readUInt",value:function(){var t=this._dataView.getUint8(this._offset);return this.seek(1),t}},{key:"readUInt16",value:function(){var t=this._dataView.getUint16(this._offset,this._endianus);return this.seek(2),t}},{key:"readUInt32",value:function(){var t=this._dataView.getUint32(this._offset,this._endianus);return this.seek(4),t}},{key:"readInt16",value:function(){var t=this._dataView.getInt16(this._offset,this._endianus);return this.seek(2),t}},{key:"readInt32",value:function(){var t=this._dataView.getInt32(this._offset,this._endianus);return this.seek(4),t}},{key:"readSingle",value:function(){var t=this._dataView.getFloat32(this._offset,this._endianus);return this.seek(4),t}},{key:"readDouble",value:function(){var t=this._dataView.getFloat32(this._offset,this._endianus);return this.seek(8),t}},{key:"readString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=[];if(this._offset,-1===t)for(;0!=this.peekByte(1);)e.push(this.readByte());else for(var n=0;n<t;n++)e.push(this.readByte());return dh(e)}},{key:"peek",value:function(t){var e=this.read(t);return this.seek(-t),e}},{key:"peekByte",value:function(){return this.peekUInt()}},{key:"peekInt",value:function(){return this._dataView.getInt8(this._offset)}},{key:"peekUInt",value:function(){return this._dataView.getUint8(this._offset)}},{key:"peekUInt16",value:function(){return this._dataView.getUint16(this._offset,this._endianus)}},{key:"peekUInt32",value:function(){return this._dataView.getUint32(this._offset,this._endianus)}},{key:"peekInt16",value:function(){return this._dataView.getInt16(this._offset,this._endianus)}},{key:"peekInt32",value:function(){return this._dataView.getInt32(this._offset,this._endianus)}},{key:"peekSingle",value:function(){return this._dataView.getFloat32(this._offset,this._endianus)}},{key:"peekDouble",value:function(){return this._dataView.getFloat64(this._offset,this._endianus)}},{key:"peekString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=[],n=this._offset;if(0===t)for(;0!=this.peekByte(1);)e.push(this.readByte());else for(var r=0;r<t;r++)e.push(this.readByte());return this.bytePosition=n,dh(e)}},{key:"read7BitNumber",value:function(){var t,e=0,n=0;do{e|=(127&(t=this.readByte()))<<n,n+=7}while(128&t);return e}},{key:"readLZXBits",value:function(t){for(var e=t,n=0;e>0;){var r=this._dataView.getUint16(this._offset,!0),i=Math.min(Math.max(e,0),16-this.bitPosition),a=16-this.bitPosition-i,o=(r&Math.pow(2,i)-1<<a)>>a;e-=i,this.bitPosition+=i,n|=o<<e}return n}},{key:"peekLZXBits",value:function(t){var e=this.bitPosition,n=this.bytePosition,r=this.readLZXBits(t);return this.bitPosition=e,this.bytePosition=n,r}},{key:"readLZXInt16",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.readByte(),n=this.readByte();return t||this.seek(-2),e<<8|n}},{key:"align",value:function(){this.bitPosition>0&&(this.bitPosition+=16-this.bitPosition)}}]),t}(),vh=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2048;ru(this,t),this._buffer=new ArrayBuffer(e),this._dataView=new DataView(this._buffer),this.bytePosition=0}return au(t,[{key:"buffer",get:function(){return this._buffer}},{key:"reconnectDataView",value:function(){this._dataView=new DataView(this._buffer)}},{key:"trim",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._buffer=this.buffer.slice(0,this.bytePosition),t||this.reconnectDataView()}},{key:"alloc",value:function(t){if(this._buffer.byteLength<=this.bytePosition+t){for(var e=new ArrayBuffer(this._buffer.byteLength+t),n=new DataView(e),r=0;r<this.buffer.byteLength;r++)n.setUint8(r,this._dataView.getUint8(r));this._buffer=e,this._dataView=n}return this}},{key:"concat",value:function(t){var e=new Uint8Array(t),n=this.bytePosition+e.length;this.alloc(e.length);for(var r=this.bytePosition;r<n;r++)this._dataView.setUint8(r,e[r-this.bytePosition]);this.bytePosition=n,this.trim()}},{key:"write",value:function(t){var e=new Uint8Array(t),n=this.bytePosition+e.length;this.alloc(e.length);for(var r=this.bytePosition;r<n;r++)this._dataView.setUint8(r,e[r-this.bytePosition]);this.bytePosition=n}},{key:"writeString",value:function(t){var e=lh(t);this.write(e)}},{key:"writeByte",value:function(t){this.alloc(1)._dataView.setUint8(this.bytePosition,t),this.bytePosition++}},{key:"writeInt",value:function(t){this.alloc(1)._dataView.setInt8(this.bytePosition,t),this.bytePosition++}},{key:"writeUInt",value:function(t){this.alloc(1)._dataView.setUint8(this.bytePosition,t),this.bytePosition++}},{key:"writeInt16",value:function(t){this.alloc(2)._dataView.setInt16(this.bytePosition,t,!0),this.bytePosition+=2}},{key:"writeUInt16",value:function(t){this.alloc(2)._dataView.setUint16(this.bytePosition,t,!0),this.bytePosition+=2}},{key:"writeInt32",value:function(t){this.alloc(4)._dataView.setInt32(this.bytePosition,t,!0),this.bytePosition+=4}},{key:"writeUInt32",value:function(t){this.alloc(4)._dataView.setUint32(this.bytePosition,t,!0),this.bytePosition+=4}},{key:"writeSingle",value:function(t){this.alloc(4)._dataView.setFloat32(this.bytePosition,t,!0),this.bytePosition+=4}},{key:"writeDouble",value:function(t){this.alloc(8)._dataView.setFloat64(this.bytePosition,t,!0),this.bytePosition+=8}},{key:"write7BitNumber",value:function(t){this.alloc(2);do{var e=127&t;(t>>=7)&&(e|=128),this._dataView.setUint8(this.bytePosition,e),this.bytePosition++}while(t)}}]),t}(),_h=256,yh=0,wh=1,gh=2,bh=3,mh=656,kh=function(){function t(e){if(ru(this,t),this.window_size=1<<e,e<15||e>21)throw new th("Window size out of range!");if(!t.extra_bits.length)for(var n=0,r=0;n<=50;n+=2)t.extra_bits[n]=t.extra_bits[n+1]=r,0!=n&&r<17&&r++;if(!t.position_base.length)for(var i=0,a=0;i<=50;i++)t.position_base[i]=a,a+=1<<t.extra_bits[i];var o=21==e?50:20==e?42:e<<1;this.R0=this.R1=this.R2=1,this.main_elements=_h+(o<<3),this.header_read=!1,this.block_remaining=0,this.block_type=yh,this.window_posn=0,this.pretree_table=[],this.pretree_len=[],this.aligned_table=[],this.aligned_len=[],this.length_table=[],this.length_len=[],this.maintree_table=[],this.maintree_len=[];for(var s=0;s<mh;s++)this.maintree_len[s]=0;for(var u=0;u<249;u++)this.length_len[u]=0;this.win=[]}return au(t,[{key:"decompress",value:function(e,n,r){if(!this.header_read){if(0!=e.readLZXBits(1))throw new th("Intel E8 Call found, invalid for XNB files.");this.header_read=!0}for(var i=n;i>0;){if(0==this.block_remaining){this.block_type=e.readLZXBits(3);var a=e.readLZXBits(16),o=e.readLZXBits(8);switch(this.block_remaining=a<<8|o,this.block_type){case gh:for(var s=0;s<8;s++)this.aligned_len[s]=e.readLZXBits(3);this.aligned_table=this.decodeTable(8,7,this.aligned_len);case wh:this.readLengths(e,this.maintree_len,0,256),this.readLengths(e,this.maintree_len,256,this.main_elements),this.maintree_table=this.decodeTable(mh,12,this.maintree_len),this.readLengths(e,this.length_len,0,249),this.length_table=this.decodeTable(250,12,this.length_len);break;case bh:e.align(),this.R0=e.readInt32(),this.R1=e.readInt32(),this.R2=e.readInt32();break;default:throw new th("Invalid Blocktype Found: ".concat(this.block_type))}}for(var u=this.block_remaining;(u=this.block_remaining)>0&&i>0;){if(u>i&&(u=i),i-=u,this.block_remaining-=u,this.window_posn&=this.window_size-1,this.window_posn+u>this.window_size)throw new th("Cannot run outside of window frame.");switch(this.block_type){case gh:for(;u>0;){var h=this.readHuffSymbol(e,this.maintree_table,this.maintree_len,mh,12);if(h<_h)this.win[this.window_posn++]=h,u--;else{var f=7&(h-=_h);7==f&&(f+=this.readHuffSymbol(e,this.length_table,this.length_len,250,12)),f+=2;var c=h>>3;if(c>2){var l=t.extra_bits[c];if(c=t.position_base[c]-2,l>3)l-=3,c+=e.readLZXBits(l)<<3,c+=this.readHuffSymbol(e,this.aligned_table,this.aligned_len,8,7);else 3==l?c+=this.readHuffSymbol(e,this.aligned_table,this.aligned_len,8,7):l>0?c+=e.readLZXBits(l):c=1;this.R2=this.R1,this.R1=this.R0,this.R0=c}else 0===c?c=this.R0:1==c?(c=this.R1,this.R1=this.R0,this.R0=c):(c=this.R2,this.R2=this.R0,this.R0=c);var d=this.window_posn,p=void 0;if(u-=f,this.window_posn>=c)p=d-c;else{p=d+(this.window_size-c);var v=c-this.window_posn;if(v<f){for(f-=v,this.window_posn+=v;v-- >0;)this.win[d++]=this.win[p++];p=0}}for(this.window_posn+=f;f-- >0;)this.win[d++]=this.win[p++]}}break;case wh:for(;u>0;){var _=this.readHuffSymbol(e,this.maintree_table,this.maintree_len,mh,12);if(_<_h)this.win[this.window_posn++]=_,u--;else{var y=7&(_-=_h);7==y&&(y+=this.readHuffSymbol(e,this.length_table,this.length_len,250,12)),y+=2;var w=_>>3;if(w>2){if(3!=w){var g=t.extra_bits[w],b=e.readLZXBits(g);w=t.position_base[w]-2+b}else w=1;this.R2=this.R1,this.R1=this.R0,this.R0=w}else 0===w?w=this.R0:1==w?(w=this.R1,this.R1=this.R0,this.R0=w):(w=this.R2,this.R2=this.R0,this.R0=w);var m=this.window_posn,k=void 0;if(u-=y,this.window_posn>=w)k=m-w;else{k=m+(this.window_size-w);var x=w-this.window_posn;if(x<y){for(y-=x,this.window_posn+=x;x-- >0;)this.win[m++]=this.win[k++];k=0}}for(this.window_posn+=y;y-- >0;)this.win[m++]=this.win[k++]}}break;case bh:if(e.bytePosition+u>r)throw new th("Overrun!"+r+" "+e.bytePosition+" "+u);for(var E=0;E<u;E++)this.win[window_posn+E]=e.buffer[e.bytePosition+E];e.bytePosition+=u,this.window_posn+=u;break;default:throw new th("Invalid blocktype specified!")}}}if(0!=i)throw new th("EOF reached with data left to go.");e.align();var O=(0==this.window_posn?this.window_size:this.window_posn)-n;return this.win.slice(O,O+n)}},{key:"readLengths",value:function(t,e,n,r){for(var i=0;i<20;i++)this.pretree_len[i]=t.readLZXBits(4);this.pretree_table=this.decodeTable(20,6,this.pretree_len);for(var a=n;a<r;){var o=this.readHuffSymbol(t,this.pretree_table,this.pretree_len,20,6);if(17==o)for(var s=t.readLZXBits(4)+4;0!=s--;)e[a++]=0;else if(18==o)for(var u=t.readLZXBits(5)+20;0!=u--;)e[a++]=0;else if(19==o){var h=t.readLZXBits(1)+4;for(o=this.readHuffSymbol(t,this.pretree_table,this.pretree_len,20,6),(o=e[a]-o)<0&&(o+=17);0!=h--;)e[a++]=o}else(o=e[a]-o)<0&&(o+=17),e[a++]=o}return e}},{key:"decodeTable",value:function(t,e,n){for(var r=[],i=0,a=1<<e,o=a>>1,s=1;s<=e;s++){for(var u=0;u<t;u++)if(n[u]==s){var h=i;if((i+=o)>a)throw new th("Overrun table!");for(var f=o;f-- >0;)r[h++]=u}o>>=1}if(i==a)return r;for(var c=i;c<a;c++)r[c]=65535;var l=a>>1<t?t:a>>1;i<<=16,a<<=16,o=32768;for(var d=e+1;d<=16;d++){for(var p=0;p<t;p++)if(n[p]==d){for(var v=i>>16,_=0;_<d-e;_++)65535==r[v]&&(r[l<<1]=65535,r[1+(l<<1)]=65535,r[v]=l++),v=r[v]<<1,i>>15-_&1&&v++;if(r[v]=p,(i+=o)>a)throw new th("Overrun table during decoding.")}o>>=1}if(i==a)return r;throw new th("Decode table did not reach table mask.")}},{key:"readHuffSymbol",value:function(t,e,n,r,i){var a=t.peekLZXBits(32)>>>0,o=e[t.peekLZXBits(i)];if(o>=r){var s=1<<32-i;do{if(o<<=1,o|=0!=(a&(s>>=1))?1:0,0==s)return 0}while((o=e[o])>=r)}return t.bitPosition+=n[o],o}},{key:"RRR",set:function(t){if(this.R0!=t&&this.R1!=t&&this.R2!=t)this.R2=this.R1,this.R1=this.R0,this.R0=t;else if(this.R1==t){var e=this.R1;this.R1=this.R0,this.R0=e}else if(this.R2==t){var n=this.R2;this.R2=this.R0,this.R0=n}}}]),t}();kh.position_base=[],kh.extra_bits=[];var xh=function(){function t(){ru(this,t)}return au(t,null,[{key:"decompress",value:function(t,e,n){for(var r,i,a=0,o=new kh(16),s=new vh(n);a<e;){if(255==t.readByte()?(i=t.readLZXInt16(),r=t.readLZXInt16(),a+=5):(t.seek(-1),r=t.readLZXInt16(this.buffer),i=32768,a+=2),0==r||0==i)break;if(r>65536||i>65536)throw new th("Invalid size read in compression content.");s.write(o.decompress(t,i,r)),a+=r}return console.log("File has been successfully decompressed!"),s.trim(),s.buffer}}]),t}(),Eh=function(){function t(){ru(this,t)}return au(t,null,[{key:"hashU32",value:function(t){return-1252372727^(t=(t=(t=(t=-949894596^(t=(t|=0)+2127912214+(t<<12)|0)^t>>>19)+374761393+(t<<5)|0)+-744332180^t<<9)+-42973499+(t<<3)|0)^t>>>16|0}},{key:"readU64",value:function(t,e){var n=0;return n|=t[e++]<<0,n|=t[e++]<<8,n|=t[e++]<<16,n|=t[e++]<<24,n|=t[e++]<<32,n|=t[e++]<<40,n|=t[e++]<<48,n|=t[e++]<<56}},{key:"readU32",value:function(t,e){var n=0;return n|=t[e++]<<0,n|=t[e++]<<8,n|=t[e++]<<16,n|=t[e++]<<24}},{key:"writeU32",value:function(t,e,n){t[e++]=n>>0&255,t[e++]=n>>8&255,t[e++]=n>>16&255,t[e++]=n>>24&255}},{key:"imul",value:function(t,e){var n=65535&t,r=65535&e;return n*r+((t>>>16)*r+n*(e>>>16)<<16)|0}}]),t}(),Oh=65536,Rh=15;!function(t){try{new Uint8Array(t)}catch(r){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e}}(5<<20);var Ah=function(){try{return new Uint32Array(Oh)}catch(n){for(var t=new Array(Oh),e=0;e<Oh;e++)t[e]=0;return t}}();function Uh(t,e){return function(t){for(var e=0;e<Oh;e++)Ah[e]=0}(),function(t,e,n,r,i){var a,o,s,u,h,f,c,l;if(f=0,c=r+n,o=n,r>=13)for(var d=67;n+4<c-5;){var p=Eh.readU32(t,n),v=Eh.hashU32(p)>>>0;if(a=i[v=(v>>16^v)>>>0&65535]-1,i[v]=n+1,a<0||n-a>>>16>0||Eh.readU32(t,a)!==p)n+=d++>>6;else{for(d=67,h=n-o,u=n-a,a+=4,s=n+=4;n<c-5&&t[n]===t[a];)n++,a++;var _=(s=n-s)<15?s:15;if(h>=Rh){for(e[f++]=240+_,l=h-Rh;l>=255;l-=255)e[f++]=255;e[f++]=l}else e[f++]=(h<<4)+_;for(var y=0;y<h;y++)e[f++]=t[o+y];if(e[f++]=u,e[f++]=u>>8,s>=15){for(l=s-15;l>=255;l-=255)e[f++]=255;e[f++]=l}o=n}}if(0===o)return 0;if((h=c-o)>=Rh){for(e[f++]=240,l=h-Rh;l>=255;l-=255)e[f++]=255;e[f++]=l}else e[f++]=h<<4;for(n=o;n<c;)e[f++]=t[n++];return f}(t,e,0,t.length,Ah)}var Sh=[55296,56320];function Th(t){var e;if("number"==typeof t&&(t=[t]),null===(e=t)||void 0===e||!e.length)throw new Error("Invalid codeset!");return 1===t.length?t[0]:((1023&t[0])<<10)+(1023&t[1])+65536}function Lh(t){var e=function(t){for(var e=gu({length:t.length},(function(e,n){return t.charCodeAt(n)})),n=[],r=0;r<t.length;){var i=e[r];(Sh[0]&i)!==Sh[0]?(n.push(i),r++):(n.push(Th(e.slice(r,r+2))),r+=2)}return n}(t);return e.reduce((function(t,e){return e<128?t+1:e<2048?t+2:e<65536?t+3:t+4}),0)}var Bh=function(){function t(){ru(this,t)}return au(t,[{key:"read",value:function(t){var e=t.read7BitNumber();return t.readString(e)}},{key:"write",value:function(t,e){var n=Lh(e);t.write7BitNumber(n),t.writeString(e)}}]),t}(),Ih=function(){function t(e){ru(this,t),this.readers=e}return au(t,[{key:"read",value:function(t){var e=t.read7BitNumber()-1;if(null==this.readers[e])throw new th("Invalid reader index ".concat(e));return this.readers[e].read(t,this)}},{key:"write",value:function(t,e){this.readers[0].write(t,e,this)}},{key:"getIndex",value:function(t){for(var e=0,n=this.readers.length;e<n;e++)if(t.toString()===this.readers[e].toString())return e}}]),t}(),Nh=function(){function t(e,n,r){ru(this,t);var i=e.target,a=e.formatVersion,o=e.hidef,s=e.compressed;this.header={target:i,formatVersion:a,hidef:o,compressed:s},this.readers=n,this.content=r}return au(t,[{key:"target",get:function(){var t;switch(null===(t=this.header)||void 0===t?void 0:t.target){case"w":return"Microsoft Windows";case"m":return"Windows Phone 7";case"x":return"Xbox 360";case"a":return"Android";case"i":return"iOS";default:return"Unknown"}}},{key:"formatVersion",get:function(){var t;switch(null===(t=this.header)||void 0===t?void 0:t.formatVersion){case 3:return"XNA Game Studio 3.0";case 4:return"XNA Game Studio 3.1";case 5:return"XNA Game Studio 4.0";default:return"Unknown"}}},{key:"hidef",get:function(){var t;return!(null===(t=this.header)||void 0===t||!t.hidef)}},{key:"compressed",get:function(){var t;return!(null===(t=this.header)||void 0===t||!t.compressed)}},{key:"contentType",get:function(){var t=this.content.export;return void 0!==t?t.type:"JSON"}},{key:"rawContent",get:function(){var t=this.content.export;return void 0!==t?t.data:JSON.stringify(this.content,(function(t,e){return"export"===t?e.type:e}),4)}},{key:"stringify",value:function(){return JSON.stringify({header:this.header,readers:this.readers,content:this.content},null,4)}},{key:"toString",value:function(){return this.stringify()}}]),t}();var Ph=au((function t(e,n){ru(this,t),this.type=function(t){switch(t){case"json":return"JSON";case"yaml":return"yaml";case"png":return"Texture2D";case"cso":return"Effect";case"tbin":return"TBin";case"xml":return"BmFont"}return"Others"}(n),this.content=e})),jh=64,zh=128,Dh=14,Ch=function(){function t(){ru(this,t),this.target="",this.formatVersion=0,this.hidef=!1,this.compressed=!1,this.compressionType=0,this.buffer=null,this.fileSize=0,this.readers=[],this.sharedResources=[]}return au(t,[{key:"load",value:function(t){if(this.buffer=new ph(t),this._validateHeader(),console.info("XNB file validated successfully!"),this.fileSize=this.buffer.readUInt32(),this.buffer.size!=this.fileSize)throw new th("XNB file has been truncated!");if(this.compressed){var e=this.buffer.readUInt32();if(this.compressionType==zh){var n=this.fileSize-Dh,r=xh.decompress(this.buffer,n,e);this.buffer.copyFrom(r,Dh,0,e),this.buffer.bytePosition=Dh}else if(this.compressionType==jh){var i=this.buffer.buffer.slice(Dh),a=new Uint8Array(i),o=new Uint8Array(e);!function(t,e){var n,r,i,a,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-2*s,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,f=void 0!==e.copyWithin&&void 0!==e.fill;for(i=s+u;s<i;){var c=t[s++],l=c>>4;if(l>0){if(15===l)for(;l+=t[s],255===t[s++];);for(a=s+l;s<a;)e[h++]=t[s++]}if(s>=i)break;if(n=15&c,r=t[s++]|t[s++]<<8,15===n)for(;n+=t[s],255===t[s++];);if(n+=4,f&&1===r)e.fill(0|e[h-1],h,h+n),h+=n;else if(f&&r>n&&n>31)e.copyWithin(h,h-r,h-r+n),h+=n;else for(a=(o=h-r)+n;o<a;)e[h++]=0|e[o++]}}(a,o),this.buffer.copyFrom(o,Dh,0,e),this.buffer.bytePosition=Dh}}for(var s=this.buffer.read7BitNumber(),u=new Bh,h=[],f=0;f<s;f++){var c=u.read(this.buffer),l=this.buffer.readInt32(),d=nh.getReaderFromRaw(c);this.readers.push(d),h.push({type:c,version:l})}var p=this.buffer.read7BitNumber();if(0!=p)throw new th("Unexpected (".concat(p,") shared resources."));var v=new Ih(this.readers).read(this.buffer);return console.log("Successfuly read XNB file!"),new Nh({target:this.target,formatVersion:this.formatVersion,hidef:this.hidef,compressed:this.compressed},h,v)}},{key:"convert",value:function(t){var e=new vh,n=new Bh,r=t.header,i=r.target,a=r.formatVersion,o=r.hidef,s=r.compressed;this.target=i,this.formatVersion=a,this.hidef=o;var u="a"==this.target||"i"==this.target||0!=(s&jh);this.compressed=!!u,e.writeString("XNB"),e.writeString(this.target),e.writeByte(this.formatVersion),e.writeByte(this.hidef|(this.compressed&&u?jh:0)),e.writeUInt32(0),u&&e.writeUInt32(0),e.write7BitNumber(t.readers.length);for(var h=0,f=t.readers;h<f.length;h++){var c=f[h];this.readers.push(nh.getReaderFromRaw(c.type)),n.write(e,c.type),e.writeUInt32(c.version)}if(e.write7BitNumber(0),new Ih(this.readers).write(e,t.content),e.trim(),u){var l=e.buffer.slice(Dh),d=new Uint8Array(l),p=function(t){return t+t/255+16|0}(d.length),v=new Uint8Array(p);return p=Uh(d,v),v=v.slice(0,p),e.bytePosition=6,e.writeUInt32(Dh+p),e.writeUInt32(d.length),e.concat(v),e.buffer.slice(0,Dh+p)}var _=e.bytePosition;return e.bytePosition=6,e.writeUInt32(_,6),e.buffer}},{key:"_validateHeader",value:function(){if(null==this.buffer)throw new th("Buffer is null");var t=this.buffer.readString(3);if("XNB"!=t)throw new th('Invalid file magic found, expecting "XNB", found "'.concat(t,'"'));this.target=this.buffer.readString(1).toLowerCase(),this.formatVersion=this.buffer.readByte();var e=this.buffer.readByte(1);this.hidef=0!=(1&e),this.compressed=e&zh||0!=(e&jh),this.compressionType=0!=(e&zh)?zh:e&jh?jh:0}}]),t}();function Fh(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.r,i=n.g,a=void 0===i?r:i,o=n.b,s=void 0===o?r:o,u=n.a,h=void 0===u?255:u;return t[4*e+0]=r,t[4*e+1]=a,t[4*e+2]=s,t[4*e+3]=h,[r,a,s,h]}function Zh(t){t.width,t.height;var e=t.channels,n=t.depth,r=t.data;return t.palette?function(t,e,n){for(var r=new Uint8Array(t),i=8*r.length/e,a=new Uint8Array(4*i),o=0,s=0;s<i;s++){var u=Math.floor(o/8),h=8-o%8-e,f=n[16===e?r[u]<<8|r[u+1]:r[u]>>h&Math.pow(2,e)-1];a[4*s]=f[0],a[4*s+1]=f[1],a[4*s+2]=f[2],a[4*s+3]=f[3],o+=e}return a}(r,n,t.palette):(16===n&&(r=function(t){for(var e=new Uint16Array(t),n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e[r]>>8;return n}(r)),e<4&&(r=function(t,e){var n=t.length/e,r=new Uint8Array(4*n);if(4===e)return t;if(1===e)for(var i=0;i<n;i++)Fh(r,i,{r:t[i]});else if(2===e)for(var a=0;a<n;a++)Fh(r,a,{r:t[2*a],a:t[2*a+1]});else if(3===e)for(var o=0;o<n;o++)Fh(r,o,{r:t[3*o],g:t[3*o+1],b:t[3*o+2]});return r}(r,e)),r)}var Mh={396:function(){!function(t){if(t.TextEncoder&&t.TextDecoder)return!1;function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8";if("utf-8"!==t)throw new RangeError("Failed to construct 'TextEncoder': The encoding label provided ('".concat(t,"') is invalid."))}function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fatal:!1};if("utf-8"!==t)throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('".concat(t,"') is invalid."));if(e.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stream:!1};if(e.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");for(var n=0,r=t.length,i=0,a=Math.max(32,r+(r>>1)+7),o=new Uint8Array(a>>3<<3);n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319){if(n<r){var u=t.charCodeAt(n);56320==(64512&u)&&(++n,s=((1023&s)<<10)+(1023&u)+65536)}if(s>=55296&&s<=56319)continue}if(i+4>o.length){a+=8,a=(a*=1+n/t.length*2)>>3<<3;var h=new Uint8Array(a);h.set(o),o=h}if(0!=(4294967168&s)){if(0==(4294965248&s))o[i++]=s>>6&31|192;else if(0==(4294901760&s))o[i++]=s>>12&15|224,o[i++]=s>>6&63|128;else{if(0!=(4292870144&s))continue;o[i++]=s>>18&7|240,o[i++]=s>>12&63|128,o[i++]=s>>6&63|128}o[i++]=63&s|128}else o[i++]=s}return o.slice(0,i)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1}),n.prototype.decode=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stream:!1};if(e.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");for(var n=new Uint8Array(t),r=0,i=n.length,a=[];r<i;){var o=n[r++];if(0===o)break;if(0==(128&o))a.push(o);else if(192==(224&o)){var s=63&n[r++];a.push((31&o)<<6|s)}else if(224==(240&o)){var u=63&n[r++],h=63&n[r++];a.push((31&o)<<12|u<<6|h)}else if(240==(248&o)){var f=(7&o)<<18|(63&n[r++])<<12|(63&n[r++])<<6|63&n[r++];f>65535&&(f-=65536,a.push(f>>>10&1023|55296),f=56320|1023&f),a.push(f)}}return String.fromCharCode.apply(null,a)},t.TextEncoder=e,t.TextDecoder=n}("undefined"!=typeof window?window:"undefined"!=typeof self?self:this)}},Vh={};function Xh(t){var e=Vh[t];if(void 0!==e)return e.exports;var n=Vh[t]={exports:{}};return Mh[t].call(n.exports,n,n.exports,Xh),n.exports}Xh.d=function(t,e){for(var n in e)Xh.o(e,n)&&!Xh.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},Xh.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var Hh={};!function(){Xh.d(Hh,{P:function(){return Un},m:function(){return An}}),Xh(396);var t=new TextDecoder("utf-8"),e=new TextEncoder,n=function(){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8192,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ru(this,n);var r=!1;"number"==typeof t?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);var i=e.offset?e.offset>>>0:0,a=t.byteLength-i,o=i;(ArrayBuffer.isView(t)||t instanceof n)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),this.lastWrittenByte=r?a:0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}return au(n,[{key:"available",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+t<=this.length}},{key:"isLittleEndian",value:function(){return this.littleEndian}},{key:"setLittleEndian",value:function(){return this.littleEndian=!0,this}},{key:"isBigEndian",value:function(){return!this.littleEndian}},{key:"setBigEndian",value:function(){return this.littleEndian=!1,this}},{key:"skip",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=t,this}},{key:"seek",value:function(t){return this.offset=t,this}},{key:"mark",value:function(){return this._mark=this.offset,this}},{key:"reset",value:function(){return this.offset=this._mark,this}},{key:"pushMark",value:function(){return this._marks.push(this.offset),this}},{key:"popMark",value:function(){var t=this._marks.pop();if(void 0===t)throw new Error("Mark stack empty");return this.seek(t),this}},{key:"rewind",value:function(){return this.offset=0,this}},{key:"ensureAvailable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(t)){var e=2*(this.offset+t),n=new Uint8Array(e);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=this.byteLength=e,this._data=new DataView(this.buffer)}return this}},{key:"readBoolean",value:function(){return 0!==this.readUint8()}},{key:"readInt8",value:function(){return this._data.getInt8(this.offset++)}},{key:"readUint8",value:function(){return this._data.getUint8(this.offset++)}},{key:"readByte",value:function(){return this.readUint8()}},{key:"readBytes",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=new Uint8Array(t),n=0;n<t;n++)e[n]=this.readByte();return e}},{key:"readInt16",value:function(){var t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}},{key:"readUint16",value:function(){var t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}},{key:"readInt32",value:function(){var t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}},{key:"readUint32",value:function(){var t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}},{key:"readFloat32",value:function(){var t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}},{key:"readFloat64",value:function(){var t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}},{key:"readBigInt64",value:function(){var t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}},{key:"readBigUint64",value:function(){var t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}},{key:"readChar",value:function(){return String.fromCharCode(this.readInt8())}},{key:"readChars",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="",n=0;n<t;n++)e+=this.readChar();return e}},{key:"readUtf8",value:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e=this.readBytes(n),t.decode(e)}},{key:"writeBoolean",value:function(t){return this.writeUint8(t?255:0),this}},{key:"writeInt8",value:function(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}},{key:"writeUint8",value:function(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}},{key:"writeByte",value:function(t){return this.writeUint8(t)}},{key:"writeBytes",value:function(t){this.ensureAvailable(t.length);for(var e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}},{key:"writeInt16",value:function(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}},{key:"writeUint16",value:function(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}},{key:"writeInt32",value:function(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeUint32",value:function(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeFloat32",value:function(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeFloat64",value:function(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}},{key:"writeBigInt64",value:function(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}},{key:"writeBigUint64",value:function(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}},{key:"writeChar",value:function(t){return this.writeUint8(t.charCodeAt(0))}},{key:"writeChars",value:function(t){for(var e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}},{key:"writeUtf8",value:function(t){return this.writeBytes(function(t){return e.encode(t)}(t))}},{key:"toArray",value:function(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}},{key:"_updateLastWrittenByte",value:function(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}]),n}();function r(t){for(var e=t.length;--e>=0;)t[e]=0}var i=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),a=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),o=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),s=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u=new Array(576);r(u);var h=new Array(60);r(h);var f=new Array(512);r(f);var c=new Array(256);r(c);var l=new Array(29);r(l);var d,p,v,_=new Array(30);function y(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function w(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}r(_);var g=function(t){return t<256?f[t]:f[256+(t>>>7)]},b=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},m=function(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,b(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},k=function(t,e,n){m(t,n[2*e],n[2*e+1])},x=function(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},E=function(t,e,n){var r,i,a=new Array(16),o=0;for(r=1;r<=15;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=x(a[s]++,s))}},O=function(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},R=function(t){t.bi_valid>8?b(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},A=function(t,e,n,r){var i=2*e,a=2*n;return t[i]<t[a]||t[i]===t[a]&&r[e]<=r[n]},U=function(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&A(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!A(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},S=function(t,e,n){var r,o,s,u,h=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*h]<<8|t.pending_buf[t.d_buf+2*h+1],o=t.pending_buf[t.l_buf+h],h++,0===r?k(t,o,e):(s=c[o],k(t,s+256+1,e),0!==(u=i[s])&&(o-=l[s],m(t,o,u)),r--,s=g(r),k(t,s,n),0!==(u=a[s])&&(r-=_[s],m(t,r,u)))}while(h<t.last_lit);k(t,256,e)},T=function(t,e){var n,r,i,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<u;n++)0!==a[2*n]?(t.heap[++t.heap_len]=h=n,t.depth[n]=0):a[2*n+1]=0;for(;t.heap_len<2;)a[2*(i=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=o[2*i+1]);for(e.max_code=h,n=t.heap_len>>1;n>=1;n--)U(t,a,n);i=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],U(t,a,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,a[2*i]=a[2*n]+a[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,a[2*n+1]=a[2*r+1]=i,t.heap[1]=i++,U(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,a,o,s,u=e.dyn_tree,h=e.max_code,f=e.stat_desc.static_tree,c=e.stat_desc.has_stree,l=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,v=0;for(a=0;a<=15;a++)t.bl_count[a]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(a=u[2*u[2*(r=t.heap[n])+1]+1]+1)>p&&(a=p,v++),u[2*r+1]=a,r>h||(t.bl_count[a]++,o=0,r>=d&&(o=l[r-d]),s=u[2*r],t.opt_len+=s*(a+o),c&&(t.static_len+=s*(f[2*r+1]+o)));if(0!==v){do{for(a=p-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[p]--,v-=2}while(v>0);for(a=p;0!==a;a--)for(r=t.bl_count[a];0!==r;)(i=t.heap[--n])>h||(u[2*i+1]!==a&&(t.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),r--)}}(t,e),E(a,h,t.bl_count)},L=function(t,e,n){var r,i,a=-1,o=e[1],s=0,u=7,h=4;for(0===o&&(u=138,h=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=e[2*(r+1)+1],++s<u&&i===o||(s<h?t.bl_tree[2*i]+=s:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,a=i,0===o?(u=138,h=3):i===o?(u=6,h=3):(u=7,h=4))},B=function(t,e,n){var r,i,a=-1,o=e[1],s=0,u=7,h=4;for(0===o&&(u=138,h=3),r=0;r<=n;r++)if(i=o,o=e[2*(r+1)+1],!(++s<u&&i===o)){if(s<h)do{k(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==a&&(k(t,i,t.bl_tree),s--),k(t,16,t.bl_tree),m(t,s-3,2)):s<=10?(k(t,17,t.bl_tree),m(t,s-3,3)):(k(t,18,t.bl_tree),m(t,s-11,7));s=0,a=i,0===o?(u=138,h=3):i===o?(u=6,h=3):(u=7,h=4)}},I=!1,N=function(t,e,n,r){m(t,0+(r?1:0),3),function(t,e,n,r){R(t),b(t,n),b(t,~n),t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n}(t,e,n)},P=function(t){I||(function(){var t,e,n,r,s,w=new Array(16);for(n=0,r=0;r<28;r++)for(l[r]=n,t=0;t<1<<i[r];t++)c[n++]=r;for(c[n-1]=r,s=0,r=0;r<16;r++)for(_[r]=s,t=0;t<1<<a[r];t++)f[s++]=r;for(s>>=7;r<30;r++)for(_[r]=s<<7,t=0;t<1<<a[r]-7;t++)f[256+s++]=r;for(e=0;e<=15;e++)w[e]=0;for(t=0;t<=143;)u[2*t+1]=8,t++,w[8]++;for(;t<=255;)u[2*t+1]=9,t++,w[9]++;for(;t<=279;)u[2*t+1]=7,t++,w[7]++;for(;t<=287;)u[2*t+1]=8,t++,w[8]++;for(E(u,287,w),t=0;t<30;t++)h[2*t+1]=5,h[2*t]=x(t,5);d=new y(u,i,257,286,15),p=new y(h,a,0,30,15),v=new y(new Array(0),o,0,19,7)}(),I=!0),t.l_desc=new w(t.dyn_ltree,d),t.d_desc=new w(t.dyn_dtree,p),t.bl_desc=new w(t.bl_tree,v),t.bi_buf=0,t.bi_valid=0,O(t)},j=N,z=function(t,e,n,r){var i,a,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),T(t,t.l_desc),T(t,t.d_desc),o=function(t){var e;for(L(t,t.dyn_ltree,t.l_desc.max_code),L(t,t.dyn_dtree,t.d_desc.max_code),T(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*s[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==e?N(t,e,n,r):4===t.strategy||a===i?(m(t,2+(r?1:0),3),S(t,u,h)):(m(t,4+(r?1:0),3),function(t,e,n,r){var i;for(m(t,e-257,5),m(t,n-1,5),m(t,r-4,4),i=0;i<r;i++)m(t,t.bl_tree[2*s[i]+1],3);B(t,t.dyn_ltree,e-1),B(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),S(t,t.dyn_ltree,t.dyn_dtree)),O(t),r&&R(t)},D=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(c[n]+256+1)]++,t.dyn_dtree[2*g(e)]++),t.last_lit===t.lit_bufsize-1},C=function(t){m(t,2,3),k(t,256,u),function(t){16===t.bi_valid?(b(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)},F=function(t,e,n,r){for(var i=65535&t|0,a=t>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(i=i+e[r++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0},Z=new Uint32Array(function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}()),M=function(t,e,n,r){var i=Z,a=r+n;t^=-1;for(var o=r;o<a;o++)t=t>>>8^i[255&(t^e[o])];return-1^t},V={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},X={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},H=P,W=j,G=z,K=D,Y=C,J=X.Z_NO_FLUSH,$=X.Z_PARTIAL_FLUSH,q=X.Z_FULL_FLUSH,Q=X.Z_FINISH,tt=X.Z_BLOCK,et=X.Z_OK,nt=X.Z_STREAM_END,rt=X.Z_STREAM_ERROR,it=X.Z_DATA_ERROR,at=X.Z_BUF_ERROR,ot=X.Z_DEFAULT_COMPRESSION,st=X.Z_FILTERED,ut=X.Z_HUFFMAN_ONLY,ht=X.Z_RLE,ft=X.Z_FIXED,ct=X.Z_UNKNOWN,lt=X.Z_DEFLATED,dt=258,pt=262,vt=103,_t=113,yt=666,wt=function(t,e){return t.msg=V[e],e},gt=function(t){return(t<<1)-(t>4?9:0)},bt=function(t){for(var e=t.length;--e>=0;)t[e]=0},mt=function(t,e,n){return(e<<t.hash_shift^n)&t.hash_mask},kt=function(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},xt=function(t,e){G(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,kt(t.strm)},Et=function(t,e){t.pending_buf[t.pending++]=e},Ot=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Rt=function(t,e,n,r){var i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),1===t.state.wrap?t.adler=F(t.adler,e,i,n):2===t.state.wrap&&(t.adler=M(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},At=function(t,e){var n,r,i=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-pt?t.strstart-(t.w_size-pt):0,h=t.window,f=t.w_mask,c=t.prev,l=t.strstart+dt,d=h[a+o-1],p=h[a+o];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(h[(n=e)+o]===p&&h[n+o-1]===d&&h[n]===h[a]&&h[++n]===h[a+1]){a+=2,n++;do{}while(h[++a]===h[++n]&&h[++a]===h[++n]&&h[++a]===h[++n]&&h[++a]===h[++n]&&h[++a]===h[++n]&&h[++a]===h[++n]&&h[++a]===h[++n]&&h[++a]===h[++n]&&a<l);if(r=dt-(l-a),a=l-dt,r>o){if(t.match_start=e,o=r,r>=s)break;d=h[a+o-1],p=h[a+o]}}}while((e=c[e&f])>u&&0!=--i);return o<=t.lookahead?o:t.lookahead},Ut=function(t){var e,n,r,i,a,o=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=o+(o-pt)){t.window.set(t.window.subarray(o,o+o),0),t.match_start-=o,t.strstart-=o,t.block_start-=o,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=o?r-o:0}while(--n);e=n=o;do{r=t.prev[--e],t.prev[e]=r>=o?r-o:0}while(--n);i+=o}if(0===t.strm.avail_in)break;if(n=Rt(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=3)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=mt(t,t.ins_h,t.window[a+1]);t.insert&&(t.ins_h=mt(t,t.ins_h,t.window[a+3-1]),t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<pt&&0!==t.strm.avail_in)},St=function(t,e){for(var n,r;;){if(t.lookahead<pt){if(Ut(t),t.lookahead<pt&&e===J)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=mt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-pt&&(t.match_length=At(t,n)),t.match_length>=3)if(r=K(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=mt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=mt(t,t.ins_h,t.window[t.strstart+1]);else r=K(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(xt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Q?(xt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(xt(t,!1),0===t.strm.avail_out)?1:2},Tt=function(t,e){for(var n,r,i;;){if(t.lookahead<pt){if(Ut(t),t.lookahead<pt&&e===J)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=mt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-pt&&(t.match_length=At(t,n),t.match_length<=5&&(t.strategy===st||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=K(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=mt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(xt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=K(t,0,t.window[t.strstart-1]))&&xt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=K(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Q?(xt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(xt(t,!1),0===t.strm.avail_out)?1:2};function Lt(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}var Bt=[new Lt(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Ut(t),0===t.lookahead&&e===J)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,xt(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-pt&&(xt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Q?(xt(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(xt(t,!1),t.strm.avail_out),1)})),new Lt(4,4,8,4,St),new Lt(4,5,16,8,St),new Lt(4,6,32,32,St),new Lt(4,4,16,16,Tt),new Lt(8,16,32,32,Tt),new Lt(8,16,128,128,Tt),new Lt(8,32,128,256,Tt),new Lt(32,128,258,1024,Tt),new Lt(32,258,258,4096,Tt)];function It(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=lt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),bt(this.dyn_ltree),bt(this.dyn_dtree),bt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),bt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),bt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Nt=function(t){var e,n=function(t){if(!t||!t.state)return wt(t,rt);t.total_in=t.total_out=0,t.data_type=ct;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:_t,t.adler=2===e.wrap?0:1,e.last_flush=J,H(e),et}(t);return n===et&&((e=t.state).window_size=2*e.w_size,bt(e.head),e.max_lazy_match=Bt[e.level].max_lazy,e.good_match=Bt[e.level].good_length,e.nice_match=Bt[e.level].nice_length,e.max_chain_length=Bt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n},Pt=function(t,e,n,r,i,a){if(!t)return rt;var o=1;if(e===ot&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>9||n!==lt||r<8||r>15||e<0||e>9||a<0||a>ft)return wt(t,rt);8===r&&(r=9);var s=new It;return t.state=s,s.strm=t,s.wrap=o,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=a,s.method=n,Nt(t)},jt=function(t,e){var n,r;if(!t||!t.state||e>tt||e<0)return t?wt(t,rt):rt;var i=t.state;if(!t.output||!t.input&&0!==t.avail_in||i.status===yt&&e!==Q)return wt(t,0===t.avail_out?at:rt);i.strm=t;var a=i.last_flush;if(i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,Et(i,31),Et(i,139),Et(i,8),i.gzhead?(Et(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Et(i,255&i.gzhead.time),Et(i,i.gzhead.time>>8&255),Et(i,i.gzhead.time>>16&255),Et(i,i.gzhead.time>>24&255),Et(i,9===i.level?2:i.strategy>=ut||i.level<2?4:0),Et(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Et(i,255&i.gzhead.extra.length),Et(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=M(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(Et(i,0),Et(i,0),Et(i,0),Et(i,0),Et(i,0),Et(i,9===i.level?2:i.strategy>=ut||i.level<2?4:0),Et(i,3),i.status=_t);else{var o=lt+(i.w_bits-8<<4)<<8;o|=(i.strategy>=ut||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(o|=32),o+=31-o%31,i.status=_t,Ot(i,o),0!==i.strstart&&(Ot(i,t.adler>>>16),Ot(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(t.adler=M(t.adler,i.pending_buf,i.pending-n,n)),kt(t),n=i.pending,i.pending!==i.pending_buf_size));)Et(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(t.adler=M(t.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=M(t.adler,i.pending_buf,i.pending-n,n)),kt(t),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Et(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(t.adler=M(t.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=M(t.adler,i.pending_buf,i.pending-n,n)),kt(t),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Et(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(t.adler=M(t.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.status=vt)}else i.status=vt;if(i.status===vt&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&kt(t),i.pending+2<=i.pending_buf_size&&(Et(i,255&t.adler),Et(i,t.adler>>8&255),t.adler=0,i.status=_t)):i.status=_t),0!==i.pending){if(kt(t),0===t.avail_out)return i.last_flush=-1,et}else if(0===t.avail_in&&gt(e)<=gt(a)&&e!==Q)return wt(t,at);if(i.status===yt&&0!==t.avail_in)return wt(t,at);if(0!==t.avail_in||0!==i.lookahead||e!==J&&i.status!==yt){var s=i.strategy===ut?function(t,e){for(var n;;){if(0===t.lookahead&&(Ut(t),0===t.lookahead)){if(e===J)return 1;break}if(t.match_length=0,n=K(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(xt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Q?(xt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(xt(t,!1),0===t.strm.avail_out)?1:2}(i,e):i.strategy===ht?function(t,e){for(var n,r,i,a,o=t.window;;){if(t.lookahead<=dt){if(Ut(t),t.lookahead<=dt&&e===J)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&((r=o[i=t.strstart-1])===o[++i]&&r===o[++i]&&r===o[++i])){a=t.strstart+dt;do{}while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<a);t.match_length=dt-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=K(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=K(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(xt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Q?(xt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(xt(t,!1),0===t.strm.avail_out)?1:2}(i,e):Bt[i.level].func(i,e);if(3!==s&&4!==s||(i.status=yt),1===s||3===s)return 0===t.avail_out&&(i.last_flush=-1),et;if(2===s&&(e===$?Y(i):e!==tt&&(W(i,0,0,!1),e===q&&(bt(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),kt(t),0===t.avail_out))return i.last_flush=-1,et}return e!==Q?et:i.wrap<=0?nt:(2===i.wrap?(Et(i,255&t.adler),Et(i,t.adler>>8&255),Et(i,t.adler>>16&255),Et(i,t.adler>>24&255),Et(i,255&t.total_in),Et(i,t.total_in>>8&255),Et(i,t.total_in>>16&255),Et(i,t.total_in>>24&255)):(Ot(i,t.adler>>>16),Ot(i,65535&t.adler)),kt(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?et:nt)},zt=function(t){if(!t||!t.state)return rt;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==vt&&e!==_t&&e!==yt?wt(t,rt):(t.state=null,e===_t?wt(t,it):et)},Dt=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},Ct=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=tu(n))throw new TypeError(n+"must be non-object");for(var r in n)Dt(n,r)&&(t[r]=n[r])}}return t},Ft=function(t){for(var e=0,n=0,r=t.length;n<r;n++)e+=t[n].length;for(var i=new Uint8Array(e),a=0,o=0,s=t.length;a<s;a++){var u=t[a];i.set(u,o),o+=u.length}return i},Zt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Zt=!1}for(var Mt=new Uint8Array(256),Vt=0;Vt<256;Vt++)Mt[Vt]=Vt>=252?6:Vt>=248?5:Vt>=240?4:Vt>=224?3:Vt>=192?2:1;Mt[254]=Mt[254]=1;var Xt=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);var e,n,r,i,a,o=t.length,s=0;for(i=0;i<o;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<o&&(56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(s),a=0,i=0;a<s;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<o&&(56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},Ht=function(t,e){var n,r,i=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));var a=new Array(2*i);for(r=0,n=0;n<i;){var o=t[n++];if(o<128)a[r++]=o;else{var s=Mt[o];if(s>4)a[r++]=65533,n+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&n<i;)o=o<<6|63&t[n++],s--;s>1?a[r++]=65533:o<65536?a[r++]=o:(o-=65536,a[r++]=55296|o>>10&1023,a[r++]=56320|1023&o)}}}return function(t,e){if(e<65534&&t.subarray&&Zt)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}(a,r)},Wt=function(t,e){(e=e||t.length)>t.length&&(e=t.length);for(var n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+Mt[t[n]]>e?n:e},Gt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Kt=Object.prototype.toString,Yt=X.Z_NO_FLUSH,Jt=X.Z_SYNC_FLUSH,$t=X.Z_FULL_FLUSH,qt=X.Z_FINISH,Qt=X.Z_OK,te=X.Z_STREAM_END,ee=X.Z_DEFAULT_COMPRESSION,ne=X.Z_DEFAULT_STRATEGY,re=X.Z_DEFLATED;function ie(t){this.options=Ct({level:ee,method:re,chunkSize:16384,windowBits:15,memLevel:8,strategy:ne},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Gt,this.strm.avail_out=0;var n=Pt(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==Qt)throw new Error(V[n]);if(e.header&&function(t,e){t&&t.state&&(2!==t.state.wrap||(t.state.gzhead=e))}(this.strm,e.header),e.dictionary){var r;if(r="string"==typeof e.dictionary?Xt(e.dictionary):"[object ArrayBuffer]"===Kt.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=function(t,e){var n=e.length;if(!t||!t.state)return rt;var r=t.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return rt;if(1===i&&(t.adler=F(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){0===i&&(bt(r.head),r.strstart=0,r.block_start=0,r.insert=0);var a=new Uint8Array(r.w_size);a.set(e.subarray(n-r.w_size,n),0),e=a,n=r.w_size}var o=t.avail_in,s=t.next_in,u=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Ut(r);r.lookahead>=3;){var h=r.strstart,f=r.lookahead-2;do{r.ins_h=mt(r,r.ins_h,r.window[h+3-1]),r.prev[h&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=h,h++}while(--f);r.strstart=h,r.lookahead=2,Ut(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=s,t.input=u,t.avail_in=o,r.wrap=i,et}(this.strm,r),n!==Qt)throw new Error(V[n]);this._dict_set=!0}}function ae(t,e){var n=new ie(e);if(n.push(t,!0),n.err)throw n.msg||V[n.err];return n.result}ie.prototype.push=function(t,e){var n,r,i=this.strm,a=this.options.chunkSize;if(this.ended)return!1;for(r=e===~~e?e:!0===e?qt:Yt,"string"==typeof t?i.input=Xt(t):"[object ArrayBuffer]"===Kt.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(a),i.next_out=0,i.avail_out=a),(r===Jt||r===$t)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if((n=jt(i,r))===te)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),n=zt(this.strm),this.onEnd(n),this.ended=!0,n===Qt;if(0!==i.avail_out){if(r>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},ie.prototype.onData=function(t){this.chunks.push(t)},ie.prototype.onEnd=function(t){t===Qt&&(this.result=Ft(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var oe=ae,se=function(t,e){var n,r,i,a,o,s,u,h,f,c,l,d,p,v,_,y,w,g,b,m,k,x,E,O,R=t.state;n=t.next_in,E=t.input,r=n+(t.avail_in-5),i=t.next_out,O=t.output,a=i-(e-t.avail_out),o=i+(t.avail_out-257),s=R.dmax,u=R.wsize,h=R.whave,f=R.wnext,c=R.window,l=R.hold,d=R.bits,p=R.lencode,v=R.distcode,_=(1<<R.lenbits)-1,y=(1<<R.distbits)-1;t:do{d<15&&(l+=E[n++]<<d,d+=8,l+=E[n++]<<d,d+=8),w=p[l&_];e:for(;;){if(l>>>=g=w>>>24,d-=g,0===(g=w>>>16&255))O[i++]=65535&w;else{if(!(16&g)){if(0==(64&g)){w=p[(65535&w)+(l&(1<<g)-1)];continue e}if(32&g){R.mode=12;break t}t.msg="invalid literal/length code",R.mode=30;break t}b=65535&w,(g&=15)&&(d<g&&(l+=E[n++]<<d,d+=8),b+=l&(1<<g)-1,l>>>=g,d-=g),d<15&&(l+=E[n++]<<d,d+=8,l+=E[n++]<<d,d+=8),w=v[l&y];n:for(;;){if(l>>>=g=w>>>24,d-=g,!(16&(g=w>>>16&255))){if(0==(64&g)){w=v[(65535&w)+(l&(1<<g)-1)];continue n}t.msg="invalid distance code",R.mode=30;break t}if(m=65535&w,d<(g&=15)&&(l+=E[n++]<<d,(d+=8)<g&&(l+=E[n++]<<d,d+=8)),(m+=l&(1<<g)-1)>s){t.msg="invalid distance too far back",R.mode=30;break t}if(l>>>=g,d-=g,m>(g=i-a)){if((g=m-g)>h&&R.sane){t.msg="invalid distance too far back",R.mode=30;break t}if(k=0,x=c,0===f){if(k+=u-g,g<b){b-=g;do{O[i++]=c[k++]}while(--g);k=i-m,x=O}}else if(f<g){if(k+=u+f-g,(g-=f)<b){b-=g;do{O[i++]=c[k++]}while(--g);if(k=0,f<b){b-=g=f;do{O[i++]=c[k++]}while(--g);k=i-m,x=O}}}else if(k+=f-g,g<b){b-=g;do{O[i++]=c[k++]}while(--g);k=i-m,x=O}for(;b>2;)O[i++]=x[k++],O[i++]=x[k++],O[i++]=x[k++],b-=3;b&&(O[i++]=x[k++],b>1&&(O[i++]=x[k++]))}else{k=i-m;do{O[i++]=O[k++],O[i++]=O[k++],O[i++]=O[k++],b-=3}while(b>2);b&&(O[i++]=O[k++],b>1&&(O[i++]=O[k++]))}break}}break}}while(n<r&&i<o);n-=b=d>>3,l&=(1<<(d-=b<<3))-1,t.next_in=n,t.next_out=i,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=i<o?o-i+257:257-(i-o),R.hold=l,R.bits=d},ue=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),he=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),fe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ce=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),le=function(t,e,n,r,i,a,o,s){var u,h,f,c,l,d,p,v,_,y=s.bits,w=0,g=0,b=0,m=0,k=0,x=0,E=0,O=0,R=0,A=0,U=null,S=0,T=new Uint16Array(16),L=new Uint16Array(16),B=null,I=0;for(w=0;w<=15;w++)T[w]=0;for(g=0;g<r;g++)T[e[n+g]]++;for(k=y,m=15;m>=1&&0===T[m];m--);if(k>m&&(k=m),0===m)return i[a++]=20971520,i[a++]=20971520,s.bits=1,0;for(b=1;b<m&&0===T[b];b++);for(k<b&&(k=b),O=1,w=1;w<=15;w++)if(O<<=1,(O-=T[w])<0)return-1;if(O>0&&(0===t||1!==m))return-1;for(L[1]=0,w=1;w<15;w++)L[w+1]=L[w]+T[w];for(g=0;g<r;g++)0!==e[n+g]&&(o[L[e[n+g]]++]=g);if(0===t?(U=B=o,d=19):1===t?(U=ue,S-=257,B=he,I-=257,d=256):(U=fe,B=ce,d=-1),A=0,g=0,w=b,l=a,x=k,E=0,f=-1,c=(R=1<<k)-1,1===t&&R>852||2===t&&R>592)return 1;for(;;){p=w-E,o[g]<d?(v=0,_=o[g]):o[g]>d?(v=B[I+o[g]],_=U[S+o[g]]):(v=96,_=0),u=1<<w-E,b=h=1<<x;do{i[l+(A>>E)+(h-=u)]=p<<24|v<<16|_|0}while(0!==h);for(u=1<<w-1;A&u;)u>>=1;if(0!==u?(A&=u-1,A+=u):A=0,g++,0==--T[w]){if(w===m)break;w=e[n+o[g]]}if(w>k&&(A&c)!==f){for(0===E&&(E=k),l+=b,O=1<<(x=w-E);x+E<m&&!((O-=T[x+E])<=0);)x++,O<<=1;if(R+=1<<x,1===t&&R>852||2===t&&R>592)return 1;i[f=A&c]=k<<24|x<<16|l-a|0}}return 0!==A&&(i[l+A]=w-E<<24|64<<16|0),s.bits=k,0},de=X.Z_FINISH,pe=X.Z_BLOCK,ve=X.Z_TREES,_e=X.Z_OK,ye=X.Z_STREAM_END,we=X.Z_NEED_DICT,ge=X.Z_STREAM_ERROR,be=X.Z_DATA_ERROR,me=X.Z_MEM_ERROR,ke=X.Z_BUF_ERROR,xe=X.Z_DEFLATED,Ee=12,Oe=30,Re=function(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)};function Ae(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Ue,Se,Te=function(t){if(!t||!t.state)return ge;var e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,function(t){if(!t||!t.state)return ge;var e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,_e}(t)},Le=!0,Be=function(t){if(Le){Ue=new Int32Array(512),Se=new Int32Array(32);for(var e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(le(1,t.lens,0,288,Ue,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;le(2,t.lens,0,32,Se,0,t.work,{bits:5}),Le=!1}t.lencode=Ue,t.lenbits=9,t.distcode=Se,t.distbits=5},Ie=function(t,e,n,r){var i,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>r&&(i=r),a.window.set(e.subarray(n-r,n-r+i),a.wnext),(r-=i)?(a.window.set(e.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},Ne=Te,Pe=function(t,e){if(!t)return ge;var n=new Ae;t.state=n,n.window=null;var r=function(t,e){var n;if(!t||!t.state)return ge;var r=t.state;return e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?ge:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,Te(t))}(t,e);return r!==_e&&(t.state=null),r},je=function(t,e){var n,r,i,a,o,s,u,h,f,c,l,d,p,v,_,y,w,g,b,m,k,x,E,O,R=0,A=new Uint8Array(4),U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return ge;(n=t.state).mode===Ee&&(n.mode=13),o=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,r=t.input,s=t.avail_in,h=n.hold,f=n.bits,c=s,l=u,x=_e;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;f<16;){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}if(2&n.wrap&&35615===h){n.check=0,A[0]=255&h,A[1]=h>>>8&255,n.check=M(n.check,A,2,0),h=0,f=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",n.mode=Oe;break}if((15&h)!==xe){t.msg="unknown compression method",n.mode=Oe;break}if(f-=4,k=8+(15&(h>>>=4)),0===n.wbits)n.wbits=k;else if(k>n.wbits){t.msg="invalid window size",n.mode=Oe;break}n.dmax=1<<n.wbits,t.adler=n.check=1,n.mode=512&h?10:Ee,h=0,f=0;break;case 2:for(;f<16;){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}if(n.flags=h,(255&n.flags)!==xe){t.msg="unknown compression method",n.mode=Oe;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=Oe;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(A[0]=255&h,A[1]=h>>>8&255,n.check=M(n.check,A,2,0)),h=0,f=0,n.mode=3;case 3:for(;f<32;){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}n.head&&(n.head.time=h),512&n.flags&&(A[0]=255&h,A[1]=h>>>8&255,A[2]=h>>>16&255,A[3]=h>>>24&255,n.check=M(n.check,A,4,0)),h=0,f=0,n.mode=4;case 4:for(;f<16;){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(A[0]=255&h,A[1]=h>>>8&255,n.check=M(n.check,A,2,0)),h=0,f=0,n.mode=5;case 5:if(1024&n.flags){for(;f<16;){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(A[0]=255&h,A[1]=h>>>8&255,n.check=M(n.check,A,2,0)),h=0,f=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((d=n.length)>s&&(d=s),d&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+d),k)),512&n.flags&&(n.check=M(n.check,r,d,a)),s-=d,a+=d,n.length-=d),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break t;d=0;do{k=r[a+d++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&d<s);if(512&n.flags&&(n.check=M(n.check,r,d,a)),s-=d,a+=d,k)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break t;d=0;do{k=r[a+d++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&d<s);if(512&n.flags&&(n.check=M(n.check,r,d,a)),s-=d,a+=d,k)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;f<16;){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}if(h!==(65535&n.check)){t.msg="header crc mismatch",n.mode=Oe;break}h=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Ee;break;case 10:for(;f<32;){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}t.adler=n.check=Re(h),h=0,f=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=s,n.hold=h,n.bits=f,we;t.adler=n.check=1,n.mode=Ee;case Ee:if(e===pe||e===ve)break t;case 13:if(n.last){h>>>=7&f,f-=7&f,n.mode=27;break}for(;f<3;){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}switch(n.last=1&h,f-=1,3&(h>>>=1)){case 0:n.mode=14;break;case 1:if(Be(n),n.mode=20,e===ve){h>>>=2,f-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=Oe}h>>>=2,f-=2;break;case 14:for(h>>>=7&f,f-=7&f;f<32;){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Oe;break}if(n.length=65535&h,h=0,f=0,n.mode=15,e===ve)break t;case 15:n.mode=16;case 16:if(d=n.length){if(d>s&&(d=s),d>u&&(d=u),0===d)break t;i.set(r.subarray(a,a+d),o),s-=d,a+=d,u-=d,o+=d,n.length-=d;break}n.mode=Ee;break;case 17:for(;f<14;){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}if(n.nlen=257+(31&h),h>>>=5,f-=5,n.ndist=1+(31&h),h>>>=5,f-=5,n.ncode=4+(15&h),h>>>=4,f-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Oe;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;f<3;){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}n.lens[U[n.have++]]=7&h,h>>>=3,f-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,E={bits:n.lenbits},x=le(0,n.lens,0,19,n.lencode,0,n.work,E),n.lenbits=E.bits,x){t.msg="invalid code lengths set",n.mode=Oe;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;y=(R=n.lencode[h&(1<<n.lenbits)-1])>>>16&255,w=65535&R,!((_=R>>>24)<=f);){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}if(w<16)h>>>=_,f-=_,n.lens[n.have++]=w;else{if(16===w){for(O=_+2;f<O;){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}if(h>>>=_,f-=_,0===n.have){t.msg="invalid bit length repeat",n.mode=Oe;break}k=n.lens[n.have-1],d=3+(3&h),h>>>=2,f-=2}else if(17===w){for(O=_+3;f<O;){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}f-=_,k=0,d=3+(7&(h>>>=_)),h>>>=3,f-=3}else{for(O=_+7;f<O;){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}f-=_,k=0,d=11+(127&(h>>>=_)),h>>>=7,f-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Oe;break}for(;d--;)n.lens[n.have++]=k}}if(n.mode===Oe)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=Oe;break}if(n.lenbits=9,E={bits:n.lenbits},x=le(1,n.lens,0,n.nlen,n.lencode,0,n.work,E),n.lenbits=E.bits,x){t.msg="invalid literal/lengths set",n.mode=Oe;break}if(n.distbits=6,n.distcode=n.distdyn,E={bits:n.distbits},x=le(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,E),n.distbits=E.bits,x){t.msg="invalid distances set",n.mode=Oe;break}if(n.mode=20,e===ve)break t;case 20:n.mode=21;case 21:if(s>=6&&u>=258){t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=s,n.hold=h,n.bits=f,se(t,l),o=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,r=t.input,s=t.avail_in,h=n.hold,f=n.bits,n.mode===Ee&&(n.back=-1);break}for(n.back=0;y=(R=n.lencode[h&(1<<n.lenbits)-1])>>>16&255,w=65535&R,!((_=R>>>24)<=f);){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}if(y&&0==(240&y)){for(g=_,b=y,m=w;y=(R=n.lencode[m+((h&(1<<g+b)-1)>>g)])>>>16&255,w=65535&R,!(g+(_=R>>>24)<=f);){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}h>>>=g,f-=g,n.back+=g}if(h>>>=_,f-=_,n.back+=_,n.length=w,0===y){n.mode=26;break}if(32&y){n.back=-1,n.mode=Ee;break}if(64&y){t.msg="invalid literal/length code",n.mode=Oe;break}n.extra=15&y,n.mode=22;case 22:if(n.extra){for(O=n.extra;f<O;){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;y=(R=n.distcode[h&(1<<n.distbits)-1])>>>16&255,w=65535&R,!((_=R>>>24)<=f);){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}if(0==(240&y)){for(g=_,b=y,m=w;y=(R=n.distcode[m+((h&(1<<g+b)-1)>>g)])>>>16&255,w=65535&R,!(g+(_=R>>>24)<=f);){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}h>>>=g,f-=g,n.back+=g}if(h>>>=_,f-=_,n.back+=_,64&y){t.msg="invalid distance code",n.mode=Oe;break}n.offset=w,n.extra=15&y,n.mode=24;case 24:if(n.extra){for(O=n.extra;f<O;){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Oe;break}n.mode=25;case 25:if(0===u)break t;if(d=l-u,n.offset>d){if((d=n.offset-d)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Oe;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),v=n.window}else v=i,p=o-n.offset,d=n.length;d>u&&(d=u),u-=d,n.length-=d;do{i[o++]=v[p++]}while(--d);0===n.length&&(n.mode=21);break;case 26:if(0===u)break t;i[o++]=n.length,u--,n.mode=21;break;case 27:if(n.wrap){for(;f<32;){if(0===s)break t;s--,h|=r[a++]<<f,f+=8}if(l-=u,t.total_out+=l,n.total+=l,l&&(t.adler=n.check=n.flags?M(n.check,i,l,o-l):F(n.check,i,l,o-l)),l=u,(n.flags?h:Re(h))!==n.check){t.msg="incorrect data check",n.mode=Oe;break}h=0,f=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;f<32;){if(0===s)break t;s--,h+=r[a++]<<f,f+=8}if(h!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=Oe;break}h=0,f=0}n.mode=29;case 29:x=ye;break t;case Oe:x=be;break t;case 31:return me;default:return ge}return t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=s,n.hold=h,n.bits=f,(n.wsize||l!==t.avail_out&&n.mode<Oe&&(n.mode<27||e!==de))&&Ie(t,t.output,t.next_out,l-t.avail_out),c-=t.avail_in,l-=t.avail_out,t.total_in+=c,t.total_out+=l,n.total+=l,n.wrap&&l&&(t.adler=n.check=n.flags?M(n.check,i,l,t.next_out-l):F(n.check,i,l,t.next_out-l)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Ee?128:0)+(20===n.mode||15===n.mode?256:0),(0===c&&0===l||e===de)&&x===_e&&(x=ke),x},ze=function(t){if(!t||!t.state)return ge;var e=t.state;return e.window&&(e.window=null),t.state=null,_e},De=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?ge:11===n.mode&&F(1,e,r,0)!==n.check?be:Ie(t,e,r,r)?(n.mode=31,me):(n.havedict=1,_e):ge},Ce=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Fe=Object.prototype.toString,Ze=X.Z_NO_FLUSH,Me=X.Z_FINISH,Ve=X.Z_OK,Xe=X.Z_STREAM_END,He=X.Z_NEED_DICT,We=X.Z_STREAM_ERROR,Ge=X.Z_DATA_ERROR,Ke=X.Z_MEM_ERROR;function Ye(t){this.options=Ct({chunkSize:65536,windowBits:15,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Gt,this.strm.avail_out=0;var n=Pe(this.strm,e.windowBits);if(n!==Ve)throw new Error(V[n]);if(this.header=new Ce,function(t,e){if(!t||!t.state)return ge;var n=t.state;0==(2&n.wrap)||(n.head=e,e.done=!1)}(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Xt(e.dictionary):"[object ArrayBuffer]"===Fe.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=De(this.strm,e.dictionary))!==Ve))throw new Error(V[n])}function Je(t,e){var n=new Ye(e);if(n.push(t),n.err)throw n.msg||V[n.err];return n.result}Ye.prototype.push=function(t,e){var n,r,i,a=this.strm,o=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(r=e===~~e?e:!0===e?Me:Ze,"[object ArrayBuffer]"===Fe.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(o),a.next_out=0,a.avail_out=o),(n=je(a,r))===He&&s&&((n=De(a,s))===Ve?n=je(a,r):n===Ge&&(n=He));a.avail_in>0&&n===Xe&&a.state.wrap>0&&0!==t[a.next_in];)Ne(a),n=je(a,r);switch(n){case We:case Ge:case He:case Ke:return this.onEnd(n),this.ended=!0,!1}if(i=a.avail_out,a.next_out&&(0===a.avail_out||n===Xe))if("string"===this.options.to){var u=Wt(a.output,a.next_out),h=a.next_out-u,f=Ht(a.output,u);a.next_out=h,a.avail_out=o-h,h&&a.output.set(a.output.subarray(u,u+h),0),this.onData(f)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(n!==Ve||0!==i){if(n===Xe)return n=ze(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},Ye.prototype.onData=function(t){this.chunks.push(t)},Ye.prototype.onEnd=function(t){t===Ve&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ft(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};for(var $e=oe,qe=Ye,Qe=Je,tn=[137,80,78,71,13,10,26,10],en=[],nn=0;nn<256;nn++){for(var rn=nn,an=0;an<8;an++)1&rn?rn=3988292384^rn>>>1:rn>>>=1;en[nn]=rn}var on,sn,un,hn;function fn(t,e){return(4294967295^function(t,e,n){for(var r=4294967295,i=0;i<n;i++)r=en[255&(r^e[i])]^r>>>8;return r}(0,t,e))>>>0}!function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.GREYSCALE=0]="GREYSCALE",t[t.TRUECOLOUR=2]="TRUECOLOUR",t[t.INDEXED_COLOUR=3]="INDEXED_COLOUR",t[t.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",t[t.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"}(on||(on={})),function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.DEFLATE=0]="DEFLATE"}(sn||(sn={})),function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.ADAPTIVE=0]="ADAPTIVE"}(un||(un={})),function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.NO_INTERLACE=0]="NO_INTERLACE",t[t.ADAM7=1]="ADAM7"}(hn||(hn={}));var cn=new Uint8Array(0),ln=new Uint16Array([255]),dn=255===new Uint8Array(ln.buffer)[0],pn=function(t){su(n,t);var e=vu(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ru(this,n),r=e.call(this,t);var a=i.checkCrc,o=void 0!==a&&a;return r._checkCrc=o,r._inflator=new qe,r._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},r._end=!1,r._hasPalette=!1,r._palette=[],r._compressionMethod=sn.UNKNOWN,r._filterMethod=un.UNKNOWN,r._interlaceMethod=hn.UNKNOWN,r._colorType=-1,r.setBigEndian(),r}return au(n,[{key:"decode",value:function(){for(this.decodeSignature();!this._end;)this.decodeChunk();return this.decodeImage(),this._png}},{key:"decodeSignature",value:function(){for(var t=0;t<tn.length;t++)if(this.readUint8()!==tn[t])throw new Error("wrong PNG signature. Byte at ".concat(t," should be ").concat(tn[t],"."))}},{key:"decodeChunk",value:function(){var t=this.readUint32(),e=this.readChars(4),n=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case"tEXt":this.decodetEXt(t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t)}if(this.offset-n!==t)throw new Error("Length mismatch while decoding chunk ".concat(e));if(this._checkCrc){var r=this.readUint32(),i=t+4,a=fn(new Uint8Array(this.buffer,this.byteOffset+this.offset-i-4,i),i);if(a!==r)throw new Error("CRC mismatch for chunk ".concat(e,". Expected ").concat(r,", found ").concat(a))}else this.skip(4)}},{key:"decodeIHDR",value:function(){var t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=function(t){if(1!==t&&2!==t&&4!==t&&8!==t&&16!==t)throw new Error("invalid bit depth: ".concat(t));return t}(this.readUint8());var e,n=this.readUint8();switch(this._colorType=n,n){case on.GREYSCALE:e=1;break;case on.TRUECOLOUR:e=3;break;case on.INDEXED_COLOUR:e=1;break;case on.GREYSCALE_ALPHA:e=2;break;case on.TRUECOLOUR_ALPHA:e=4;break;default:throw new Error("Unknown color type: ".concat(n))}if(this._png.channels=e,this._compressionMethod=this.readUint8(),this._compressionMethod!==sn.DEFLATE)throw new Error("Unsupported compression method: ".concat(this._compressionMethod));this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}},{key:"decodePLTE",value:function(t){if(t%3!=0)throw new RangeError("PLTE field length must be a multiple of 3. Got ".concat(t));var e=t/3;this._hasPalette=!0;var n=[];this._palette=n;for(var r=0;r<e;r++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}},{key:"decodeIDAT",value:function(t){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,t)),this.skip(t)}},{key:"decodetRNS",value:function(t){if(3===this._colorType){if(t>this._palette.length)throw new Error("tRNS chunk contains more alpha values than there are palette colors (".concat(t," vs ").concat(this._palette.length,")"));for(var e=0;e<t;e++){var n=this.readByte();this._palette[e].push(n)}for(;e<this._palette.length;e++)this._palette[e].push(255)}}},{key:"decodeiCCP",value:function(t){for(var e,n="";"\0"!==(e=this.readChar());)n+=e;var r=this.readUint8();if(r!==sn.DEFLATE)throw new Error("Unsupported iCCP compression method: ".concat(r));var i=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Qe(i)}}},{key:"decodetEXt",value:function(t){for(var e,n="";"\0"!==(e=this.readChar());)n+=e;this._png.text[n]=this.readChars(t-n.length-1)}},{key:"decodepHYs",value:function(){var t=this.readUint32(),e=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:e,unit:n}}},{key:"decodeImage",value:function(){if(this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));var t=this._inflator.result;if(this._filterMethod!==un.ADAPTIVE)throw new Error("Filter method ".concat(this._filterMethod," not supported"));if(this._interlaceMethod!==hn.NO_INTERLACE)throw new Error("Interlace method ".concat(this._interlaceMethod," not supported"));this.decodeInterlaceNull(t)}},{key:"decodeInterlaceNull",value:function(t){for(var e,n,r,i=this._png.height,a=this._png.channels*this._png.depth/8,o=this._png.width*a,s=new Uint8Array(this._png.height*o),u=cn,h=0,f=0;f<i;f++){switch(e=t.subarray(h+1,h+1+o),n=s.subarray(f*o,(f+1)*o),t[h]){case 0:vn(e,n,o);break;case 1:_n(e,n,o,a);break;case 2:yn(e,n,u,o);break;case 3:wn(e,n,u,o,a);break;case 4:gn(e,n,u,o,a);break;default:throw new Error("Unsupported filter: ".concat(t[h]))}u=n,h+=o+1}if(this._hasPalette&&(this._png.palette=this._palette),16===this._png.depth){var c=new Uint16Array(s.buffer);if(dn)for(var l=0;l<c.length;l++)c[l]=(255&(r=c[l]))<<8|r>>8&255;this._png.data=c}else this._png.data=s}}]),n}(n);function vn(t,e,n){for(var r=0;r<n;r++)e[r]=t[r]}function _n(t,e,n,r){for(var i=0;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function yn(t,e,n,r){var i=0;if(0===n.length)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function wn(t,e,n,r,i){var a=0;if(0===n.length){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(n[a]>>1)&255;for(;a<r;a++)e[a]=t[a]+(e[a-i]+n[a]>>1)&255}}function gn(t,e,n,r,i){var a=0;if(0===n.length){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+n[a]&255;for(;a<r;a++)e[a]=t[a]+bn(e[a-i],n[a],n[a-i])&255}}function bn(t,e,n){var r=t+e-n,i=Math.abs(r-t),a=Math.abs(r-e),o=Math.abs(r-n);return i<=a&&i<=o?t:a<=o?e:n}var mn,kn={level:3},xn=function(t){su(r,t);var e=vu(r);function r(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ru(this,r),(n=e.call(this))._colorType=on.UNKNOWN,n._zlibOptions=Qs(Qs({},kn),i.zlib),n._png=n._checkData(t),n.setBigEndian(),n}return au(r,[{key:"encode",value:function(){return this.encodeSignature(),this.encodeIHDR(),this.encodeData(),this.encodeIEND(),this.toArray()}},{key:"encodeSignature",value:function(){this.writeBytes(tn)}},{key:"encodeIHDR",value:function(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(sn.DEFLATE),this.writeByte(un.ADAPTIVE),this.writeByte(hn.NO_INTERLACE),this.writeCrc(17)}},{key:"encodeIEND",value:function(){this.writeUint32(0),this.writeChars("IEND"),this.writeCrc(4)}},{key:"encodeIDAT",value:function(t){this.writeUint32(t.length),this.writeChars("IDAT"),this.writeBytes(t),this.writeCrc(t.length+4)}},{key:"encodeData",value:function(){for(var t=this._png,e=t.width,r=t.height,i=t.channels,a=t.depth,o=t.data,s=i*e,u=(new n).setBigEndian(),h=0,f=0;f<r;f++)if(u.writeByte(0),8===a)h=On(o,u,s,h);else{if(16!==a)throw new Error("unreachable");h=Rn(o,u,s,h)}var c=u.toArray(),l=$e(c,this._zlibOptions);this.encodeIDAT(l)}},{key:"_checkData",value:function(t){var e=function(t){var e=t.channels,n=void 0===e?4:e,r=t.depth,i=void 0===r?8:r;if(4!==n&&3!==n&&2!==n&&1!==n)throw new RangeError("unsupported number of channels: ".concat(n));if(8!==i&&16!==i)throw new RangeError("unsupported bit depth: ".concat(i));var a={channels:n,depth:i,colorType:on.UNKNOWN};switch(n){case 4:a.colorType=on.TRUECOLOUR_ALPHA;break;case 3:a.colorType=on.TRUECOLOUR;break;case 1:a.colorType=on.GREYSCALE;break;case 2:a.colorType=on.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return a}(t),n=e.colorType,r=e.channels,i=e.depth,a={width:En(t.width,"width"),height:En(t.height,"height"),channels:r,data:t.data,depth:i,text:{}};this._colorType=n;var o=a.width*a.height*r;if(a.data.length!==o)throw new RangeError("wrong data size. Found ".concat(a.data.length,", expected ").concat(o));return a}},{key:"writeCrc",value:function(t){this.writeUint32(fn(new Uint8Array(this.buffer,this.byteOffset+this.offset-t,t),t))}}]),r}(n);function En(t,e){if(Number.isInteger(t)&&t>0)return t;throw new TypeError("".concat(e," must be a positive integer"))}function On(t,e,n,r){for(var i=0;i<n;i++)e.writeByte(t[r++]);return r}function Rn(t,e,n,r){for(var i=0;i<n;i++)e.writeUint16(t[r++]);return r}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"}(mn||(mn={}));var An=function(t,e,n){return new xn({width:t,height:e,data:n},void 0).encode()},Un=function(t){return function(t,e){return new pn(t,void 0).decode()}(t)}}();var Wh=Hh.P,Gh=Hh.m;function Kh(t,e,n){if((s=t)&&s.hasOwnProperty("type")&&s.hasOwnProperty("data")){var r=Kh(t.data,e,n);return yu(r,"\n")?" #!"+t.type+r:r+" #!"+t.type}if(t&&"object"===tu(t)){var i=Array.isArray(t);if(0==Object.keys(t).length)return i?"[]":"{}";var a="\n";for(var o in t)Object.hasOwnProperty.call(t,o)&&(a+=_u(e,n+1),i?a+="- "+Kh(t[o],e,n+1):yu(o,": ")?(a+=Kh(o,e,n+1),a+=": "+Kh(t[o],e,n+1)):a+=o+": "+Kh(t[o],e,n+1),a+="\n");return a}if("string"==typeof t)return JSON.stringify(t);if(null==t)return"null";if(!!t==t||+t==t)return JSON.stringify(t);throw new Error("Non-implemented parsing for "+t);var s}function Yh(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n="";return"number"==typeof e?n=_u(" ",Math.min(10,e)):"string"==typeof e&&(n=e.slice(0,10)),Kh(t,n,-1)}var Jh=function(){function t(e,n,r){ru(this,t),this.startingLine=r||0,this.lineIndex=-1;for(var i=[],a=0;a<e.length;a++){""!==e[a].trim()&&i.push([e[a],a])}this.lines=i,this.indentString=n||this.findIndentString()}return au(t,[{key:"getLineNumber",value:function(){return this.startingLine+this.lineIndex}},{key:"nextGroup",value:function(){for(var e=[],n=this.indentLevel(this.lineIndex+1);!this.finished()&&this.indentLevel(this.lineIndex+1)>=n;)e.push(this.next());return new t(e,this.indentString,this.getLineNumber()-e.length)}},{key:"next",value:function(){if(this.finished())throw new Error("Trying to next finished generator");return this.lineIndex++,this.getLine()}},{key:"peek",value:function(){return this.getLine(this.lineIndex+1)}},{key:"finished",value:function(){return this.lineIndex==this.lines.length-1}},{key:"getLine",value:function(t){return(t=void 0!==t?t:this.lineIndex)>=this.lines.length?null:this.lines[t][0]}},{key:"findIndentString",value:function(){for(var t=0,e=this.lines;t<e.length;t++){var n=e[t][0];if(n.trim()&&n.replace(/^\s+/,"")!=n)return n.match(/^(\s+)/)[1]}return""}},{key:"indentLevel",value:function(t){(t=void 0!==t?t:this.lineIndex)<0&&(t=0);for(var e=0,n=this.getLine(t);wu(n,this.indentString);)n=n.slice(this.indentString.length),e++;return e}}]),t}();function $h(t,e){var n;for(t.indentLevel();!t.finished();){var r=t.next().trim(),i=r.match(/^(.*?):(?: |$)/),a=r.match(/#!([\w<,>]+)/),o=void 0,s=void 0,u=void 0;wu(r,'"')&&(i=r.match(/^"(.*?)":(?: |$)/)),a&&(u=a[1],r=r.replace(a[0],"")),i?(n||(n={}),o=i[1],s=r.replace(i[0],"").trim()):wu(r,"-")&&(n||(n=[]),s=r.slice(1).trim()),s=s?qh(s,u):$h(t.nextGroup(),u),Array.isArray(n)?n.push(s):n[o]=s}return e&&(n={type:e,data:n}),n}function qh(t,e){return t=JSON.parse(t),e&&(t={type:e,data:t}),t}function Qh(t){var e=t.replace(/\t/g,"\t").split("\n");return $h(new Jh(e))}function tf(t){var e;if(Array.isArray(t)){e=[];for(var n=0;n<t.length;n++){var r=t[n];e.push(tf(r))}return e}if(t&&"object"===tu(t)){e={};for(var i=Object.keys(t),a=0;a<i.length;a++){var o=i[a],s=t[o];e[o]=tf(s)}return e}return t}function ef(t){switch(t){case"Boolean":case"Int32":case"UInt32":case"Single":case"Double":case"Char":case"String":case"":case"Vector2":case"Vector3":case"Vector4":case"Rectangle":case"Rect":return!0;default:return!1}}function nf(t){switch(t){case"Texture2D":case"TBin":case"Effect":case"BmFont":return!0;default:return!1}}function rf(t){if(!t||"object"!==tu(t))return t;if("object"===tu(t)&&t.hasOwnProperty("data")){var e=t,n=e.type,r=e.data;if(ef(n))return tf(r);if(nf(n))return r=tf(r),"Texture2D"===n?r.export="Texture2D.png":"Effect"===n?r.export="Effect.cso":"TBin"===n?r.export="TBin.tbin":"BmFont"===n&&(r.export="BmFont.xml"),r;if(wu(n,"Nullable"))return null===r||null===r.data?null:rf(r.data);t=tf(r)}var i;if(Array.isArray(t)){i=[];for(var a=0,o=t;a<o.length;a++){var s=o[a];i.push(rf(s))}return i}if(t&&"object"===tu(t)){i={};for(var u=Object.keys(t),h=0;h<u.length;h++){var f=u[h],c=t[f];i[f]=rf(c)}return i}return null}function af(t){var e={},n=t.header,r=n.compressed;n.formatVersion;var i=n.hidef,a=n.target,o=tf(t.readers);e.xnbData={target:a,compressed:!!r,hiDef:i,readerData:o,numSharedResources:0};var s=tf(t.content),u=nh.simplifyType(o[0].type),h=nh.getReaderTypeList(u);"SpriteFont"===h[0]&&(h=["SpriteFont","Texture2D","List<Rectangle>","Rectangle","List<Rectangle>","Rectangle","List<Char>","Char",null,"List<Vector3>","Vector3","Nullable<Char>","Char",null],s.verticalSpacing=s.verticalLineSpacing,delete s.verticalLineSpacing);var f=function(t,e){var n=[],r=[],i=function t(i,a){var o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=e[s];if(ef(u))return{converted:{type:u,data:i},traversed:s};if(null===u)return{converted:i,traversed:s};if(wu(u,"Nullable")){var h,f,c=u.split(":"),l=c[0],d=c[1],p=void 0===d?1:d;if(p=+p,null===i)h=null,f=s+p;else if("object"!==tu(i)||i&&0!==Object.keys(i).length){var v=t(i,[].concat(a),s+1);h=v.converted,f=v.traversed}else h={type:e[s+1],data:tf(i)},f=s+p;return{converted:{type:l,data:{data:h}},traversed:f}}if(nf(u))return"Texture2D"===u?(n.push({path:a.join(".")}),{converted:{type:u,data:{format:i.format}},traversed:s}):("TBin"===u&&r.push({path:a.join(".")}),{converted:{type:u,data:{}},traversed:s});o=Array.isArray(i)?[]:{};for(var _=s,y=!0,w=!wu(u,"Dictionary")&&!wu(u,"Array")&&!wu(u,"List"),g=Object.keys(i),b=0;b<g.length;b++){var m=g[b];i[m];var k=void 0;k=wu(u,"Dictionary")?s+2:wu(u,"Array")||wu(u,"List")?s+1:_+1;var x=t(i[m],[].concat(a,[m]),k),E=x.converted,O=x.traversed;o[m]=E,w?_=O:y&&(_=O,y=!1)}return{converted:{type:u,data:o},traversed:_}}(t,[]);return{converted:i.converted,extractedImages:n,extractedMaps:r}}(s,h),c=f.converted,l=f.extractedImages,d=f.extractedMaps;return e.content=c,l.length>0&&(e.extractedImages=l),d.length>0&&(e.extractedMaps=d),e}function of(t){var e={},n=t.xnbData,r=n.compressed,i=n.readerData,a=n.hiDef,o=n.target;return e.header={target:o,formatVersion:5,compressed:r?"a"===o||"i"===o?64:128:0,hidef:a},e.readers=tf(i),e.content=rf(t.content),"SpriteFont"===nh.simplifyType(e.readers[0].type)&&(e.content.verticalLineSpacing=e.content.verticalSpacing,delete e.content.verticalSpacing),e}function sf(t,e){if(t&&"object"==tu(t)){if(t.hasOwnProperty(e))return{parent:t,value:t[e]};for(var n=Object.keys(t),r=0;r<n.length;r++){var i=t[n[r]];if(i||"object"==tu(i)){var a=sf(i,e);if(a)return a}}return null}}function uf(t){var e=t.match(/(.*)\.([^\s.]+)$/);return null===e?[t,null]:[e[1],e[2]]}function hf(t){switch(t){case"JSON":return"json";case"yaml":return"yaml";case"Texture2D":return"png";case"Effect":return"cso";case"TBin":return"tbin";case"BmFont":return"xml"}return"bin"}function ff(t){switch(t){case"JSON":return"application/json";case"yaml":return"text/plain";case"Texture2D":return"image/png";case"Effect":return"application/x-cso";case"BmFont":return"application/xml"}return"application/octet-stream"}function cf(t,e){return"function"==typeof Blob?{data:new Blob([t],{type:ff(e)}),extension:hf(e)}:{data:t,extension:hf(e)}}function lf(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=sf(t,"export");if(n){var r=n.value,i=r.type,a=r.data;return"Texture2D"===i&&(a=Gh(r.width,r.height,new Uint8Array(a))),cf(a,i)}if(e){var o=JSON.stringify(t,null,4);return cf(o,"JSON")}return null}function df(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.yaml,r=void 0!==n&&n,i=e.contentOnly,a=void 0!==i&&i,o=e.fileName,s=void 0===o?null:o;if(r&&a&&(r=!1),!t.hasOwnProperty("content"))throw new th("Invalid object!");var u=[],h=t.content,f=lf(h,a);if(null!==f&&u.push(f),a)return u;var c=JSON.stringify(t,(function(t,e){return"export"===t?"string"==typeof s&&""!==s?"".concat(s,".").concat(hf(e.type)):"".concat(e.type,".").concat(hf(e.type)):e}),4),l=c;return r&&(l=Yh(af(t))),u.unshift(cf(l,r?"yaml":"JSON")),u}function pf(t){var e=t.toLowerCase();return"none"===e?0:"lz4"===e?64:null}function vf(t){return _f.apply(this,arguments)}function _f(){return(_f=nu(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("function"==typeof Blob&&e instanceof Blob)){t.next=4;break}return t.abrupt("return",e.text());case 4:if(!("function"==typeof Buffer&&e instanceof Buffer)){t.next=8;break}return t.abrupt("return",e.toString());case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function yf(t){return wf.apply(this,arguments)}function wf(){return(wf=nu(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("function"==typeof Blob&&e instanceof Blob)){t.next=4;break}return t.abrupt("return",e.arrayBuffer());case 4:if(!("function"==typeof Buffer&&e instanceof Buffer)){t.next=6;break}return t.abrupt("return",e.buffer);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function gf(t,e){return bf.apply(this,arguments)}function bf(){return bf=nu(regeneratorRuntime.mark((function t(e,n){var r,i,a,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("png"!==e){t.next=7;break}return t.next=3,yf(n.png);case 3:return r=t.sent,4===(i=Wh(new Uint8Array(r))).channel&&8===i.depth&&void 0===i.palette||(i.data=Zh(i)),t.abrupt("return",{type:"Texture2D",data:i.data,width:i.width,height:i.height});case 7:if("cso"!==e){t.next=12;break}return t.next=10,yf(n.cso);case 10:return a=t.sent,t.abrupt("return",{type:"Effect",data:a});case 12:if("tbin"!==e){t.next=17;break}return t.next=15,yf(n.tbin);case 15:return o=t.sent,t.abrupt("return",{type:"TBin",data:o});case 17:if("xml"!==e){t.next=22;break}return t.next=20,vf(n.xml);case 20:return s=t.sent,t.abrupt("return",{type:"BmFont",data:s});case 22:case"end":return t.stop()}}),t)}))),bf.apply(this,arguments)}function mf(t){return kf.apply(this,arguments)}function kf(){return kf=nu(regeneratorRuntime.mark((function t(e){var n,r,i,a,o,s,u,h,f,c,l,d,p=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=p.length>1&&void 0!==p[1]?p[1]:{},r=n.compression,i=void 0===r?"default":r,a=e.json||e.yaml){t.next=5;break}throw new th("There is no JSON or YAML file to pack!");case 5:return t.next=7,vf(a);case 7:if(o=t.sent,s=null,s=e.json?JSON.parse(o):of(Qh(o)),null!==(u=pf(i))&&(s.header.compressed=u),s.hasOwnProperty("content")){t.next=14;break}throw new th("".concat(a.name,' does not have "content".'));case 14:if(!(h=sf(s.content,"export"))){t.next=21;break}return f=h.parent,c=h.value,l=uf(c),d=l[1],t.next=20,gf(d,e);case 20:f.export=t.sent;case 21:return t.abrupt("return",s);case 22:case"end":return t.stop()}}),t)}))),kf.apply(this,arguments)}function xf(t){var e=uf(t)[1],n=function(t){return"png"===t?"Microsoft.Xna.Framework.Content.Texture2DReader, Microsoft.Xna.Framework.Graphics, Version=4.0.0.0, Culture=neutral, PublicKeyToken=842cf8be1de50553":"tbin"===t?"xTile.Pipeline.TideReader, xTile":"xml"===t?"BmFont.XmlSourceReader, BmFont, Version=2012.1.7.0, Culture=neutral, PublicKeyToken=null":void 0}(e),r={export:t};"png"===e&&(r.format=0);var i={header:{target:"w",formatVersion:5,hidef:!0,compressed:!0},readers:[{type:n,version:0}],content:r};return JSON.stringify(i)}function Ef(t){return Of.apply(this,arguments)}function Of(){return(Of=nu(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"==typeof window){t.next=8;break}if(n=uf(e.name),"xnb"===n[1]){t.next=4;break}return t.abrupt("return",new Error("Invalid XNB File!"));case 4:return t.next=6,e.arrayBuffer();case 6:return r=t.sent,t.abrupt("return",Rf(r));case 8:return t.abrupt("return",Rf(e.buffer));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Rf(t){return(new Ch).load(t)}function Af(t){var e=lf(t.content,!0),n=e.data,r=e.extension;return new Ph(n,r)}function Uf(t){for(var e={},n={},r=0;r<t.length;r++){var i=t[r],a=uf(i.name),o=a[0],s=a[1];if(null!==s){void 0===e[o]&&(e[o]={},"json"!==s&&"yaml"!==s&&(n[o]=i.name));var u=e[o];"function"==typeof Blob&&i instanceof Blob?u[s]=i:u[s]=i.data,"json"!==s&&"yaml"!==s||delete n[o]}}for(var h=0,f=Object.keys(n);h<f.length;h++){var c=f[h];e[c].json=xf(n[c])}return e}function Sf(t){return(new Ch).convert(t)}t.XnbContent=Ph,t.XnbData=Nh,t.addReaders=function(t){return nh.addReaders(t)},t.bufferToContents=function(t){return Af((new Ch).load(t))},t.bufferToXnb=Rf,t.pack=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Uf(t),r=[],i=Object.keys(n),a=0;a<i.length;a++){var o=i[a],s=n[o];r.push(mf(s,e).then(Sf).then((function(t){return"function"==typeof Blob?{name:o,data:new Blob([t],{type:"application/octet-stream"})}:{name:o,data:new Uint8Array(t)}})))}return bu(r).then((function(t){return!0===e.debug?t:t.filter((function(t){var e=t.status;return t.value,"fulfilled"===e})).map((function(t){return t.value}))}))},t.setReaders=function(t){return nh.setReaders(t)},t.unpackToContent=function(t){return Ef(t).then(Af)},t.unpackToFiles=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.yaml,r=void 0!==n&&n,i=e.contentOnly,a=void 0!==i&&i,o=e.fileName,s=void 0===o?null:o;"undefined"!=typeof window&&null===s&&(s=t.name);var u=uf(s),h=u[0],f=function(t){return df(t,{yaml:r,contentOnly:a,fileName:h})};return Ef(t).then(f)},t.unpackToXnbData=Ef,t.xnbDataToContent=Af,t.xnbDataToFiles=df,Object.defineProperty(t,"__esModule",{value:!0})}));

/** 
 * xnb.js 1.2.0
 * made by Lybell( https://github.com/lybell-art/ )
 * This library is based on the XnbCli made by Leonblade.
 * 
 * xnb.js is licensed under the LGPL 3.0 License.
 * 
 * LZ4 decoder license : ICS
 * Original code : https://github.com/Benzinga/lz4js/
 *
 * LZX decoder license : LGPL 2.1
 * -----------------------------------------------------------------------------
 * This file is heavily based on MonoGame's implementation of their LzxDecoder attributed to Ali Scissons
 * which is derived from libmspack by Stuart Cole.
 *
 * (C) 2003-2004 Stuart Caie.
 * (C) 2011 Ali Scissons.
 * (C) 2017 James Stine.
 *
 * The LZX method was created by Johnathan Forbes and Tomi Poutanen, adapted by Microsoft Corporation.
 * 
 * GNU LESSER GENERAL PUBLIC LICENSE version 2.1
 * LzxDecoder is free software; you can redistribute it and/or modify it under
 * the terms of the GNU Lesser General Public License (LGPL) version 2.1 
 *
 * MICROSOFT PUBLIC LICENSE
 * This source code a derivative on LzxDecoder and is subject to the terms of the Microsoft Public License (Ms-PL). 
 *	
 * Redistribution and use in source and binary forms, with or without modification, 
 * is permitted provided that redistributions of the source code retain the above 
 * copyright notices and this file header. 
 *	
 * Additional copyright notices should be appended to the list above. 
 * 
 * For details, see <http://www.opensource.org/licenses/ms-pl.html>.
 *
 *
 * I made the mistake of not including this license years ago. Big thanks to everyone involved and license has now been
 * acknowleded properly as it should have been back in 2017.
 *
 * Resources:
 *
 * cabextract/libmspack - http://http://www.cabextract.org.uk/
 * MonoGame LzxDecoder.cs - https://github.com/MonoGame/MonoGame/blob/master/MonoGame.Framework/Content/LzxDecoder.cs
 * -----------------------------------------------------------------------------
 *
 * Libsquish license : MIT
 * -----------------------------------------------------------------------------
 *		Copyright (c) 2006 Simon Brown               si@sjbrown.co.uk
 *		Permission is hereby granted, free of charge, to any person obtaining
 *		a copy of this software and associated documentation files (the 
 *		"Software"), to	deal in the Software without restriction, including
 *		without limitation the rights to use, copy, modify, merge, publish,
 *		distribute, sublicense, and/or sell copies of the Software, and to 
 *		permit persons to whom the Software is furnished to do so, subject to 
 *		the following conditions:
 *		The above copyright notice and this permission notice shall be included
 *		in all copies or substantial portions of the Software.
 *		THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 *		OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF 
 *		MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 *		IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY 
 *		CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, 
 *		TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE 
 *		SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *		
 *	--------------------------------------------------------------------------
*/

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).XNB={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=function(t){return t&&t.Math==Math&&t},n=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||function(){return this}()||Function("return this")(),i={},a=function(t){try{return!!t()}catch(t){return!0}},o=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),s=!a((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),u=s,h=Function.prototype.call,c=u?h.bind(h):function(){return h.apply(h,arguments)},f={},l={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,v=d&&!l.call({1:2},1);f.f=v?function(t){var e=d(this,t);return!!e&&e.enumerable}:l;var p,y,w=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},_=s,g=Function.prototype,b=g.bind,m=g.call,k=_&&b.bind(m,m),x=_?function(t){return t&&k(t)}:function(t){return t&&function(){return m.apply(t,arguments)}},E=x,A=E({}.toString),T=E("".slice),R=function(t){return T(A(t),8,-1)},O=x,S=a,U=R,I=n.Object,L=O("".split),B=S((function(){return!I("z").propertyIsEnumerable(0)}))?function(t){return"String"==U(t)?L(t,""):I(t)}:I,z=n.TypeError,P=function(t){if(null==t)throw z("Can't call method on "+t);return t},N=B,C=P,M=function(t){return N(C(t))},D=function(t){return"function"==typeof t},j=D,F=function(t){return"object"==typeof t?null!==t:j(t)},V=n,Z=D,X=function(t){return Z(t)?t:void 0},W=function(t,e){return arguments.length<2?X(V[t]):V[t]&&V[t][e]},H=x({}.isPrototypeOf),G=W("navigator","userAgent")||"",Y=n,K=G,J=Y.process,q=Y.Deno,$=J&&J.versions||q&&q.version,Q=$&&$.v8;Q&&(y=(p=Q.split("."))[0]>0&&p[0]<4?1:+(p[0]+p[1])),!y&&K&&(!(p=K.match(/Edge\/(\d+)/))||p[1]>=74)&&(p=K.match(/Chrome\/(\d+)/))&&(y=+p[1]);var tt=y,et=tt,rt=a,nt=!!Object.getOwnPropertySymbols&&!rt((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&et&&et<41})),it=nt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,at=W,ot=D,st=H,ut=it,ht=n.Object,ct=ut?function(t){return"symbol"==typeof t}:function(t){var e=at("Symbol");return ot(e)&&st(e.prototype,ht(t))},ft=n.String,lt=function(t){try{return ft(t)}catch(t){return"Object"}},dt=D,vt=lt,pt=n.TypeError,yt=function(t){if(dt(t))return t;throw pt(vt(t)+" is not a function")},wt=yt,_t=function(t,e){var r=t[e];return null==r?void 0:wt(r)},gt=c,bt=D,mt=F,kt=n.TypeError,xt={exports:{}},Et=n,At=Object.defineProperty,Tt=function(t,e){try{At(Et,t,{value:e,configurable:!0,writable:!0})}catch(r){Et[t]=e}return e},Rt=Tt,Ot="__core-js_shared__",St=n[Ot]||Rt(Ot,{}),Ut=St;(xt.exports=function(t,e){return Ut[t]||(Ut[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.22.4",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.4/LICENSE",source:"https://github.com/zloirock/core-js"});var It=P,Lt=n.Object,Bt=function(t){return Lt(It(t))},zt=Bt,Pt=x({}.hasOwnProperty),Nt=Object.hasOwn||function(t,e){return Pt(zt(t),e)},Ct=x,Mt=0,Dt=Math.random(),jt=Ct(1..toString),Ft=function(t){return"Symbol("+(void 0===t?"":t)+")_"+jt(++Mt+Dt,36)},Vt=n,Zt=xt.exports,Xt=Nt,Wt=Ft,Ht=nt,Gt=it,Yt=Zt("wks"),Kt=Vt.Symbol,Jt=Kt&&Kt.for,qt=Gt?Kt:Kt&&Kt.withoutSetter||Wt,$t=function(t){if(!Xt(Yt,t)||!Ht&&"string"!=typeof Yt[t]){var e="Symbol."+t;Ht&&Xt(Kt,t)?Yt[t]=Kt[t]:Yt[t]=Gt&&Jt?Jt(e):qt(e)}return Yt[t]},Qt=c,te=F,ee=ct,re=_t,ne=function(t,e){var r,n;if("string"===e&&bt(r=t.toString)&&!mt(n=gt(r,t)))return n;if(bt(r=t.valueOf)&&!mt(n=gt(r,t)))return n;if("string"!==e&&bt(r=t.toString)&&!mt(n=gt(r,t)))return n;throw kt("Can't convert object to primitive value")},ie=$t,ae=n.TypeError,oe=ie("toPrimitive"),se=function(t,e){if(!te(t)||ee(t))return t;var r,n=re(t,oe);if(n){if(void 0===e&&(e="default"),r=Qt(n,t,e),!te(r)||ee(r))return r;throw ae("Can't convert object to primitive value")}return void 0===e&&(e="number"),ne(t,e)},ue=ct,he=function(t){var e=se(t,"string");return ue(e)?e:e+""},ce=F,fe=n.document,le=ce(fe)&&ce(fe.createElement),de=function(t){return le?fe.createElement(t):{}},ve=de,pe=!o&&!a((function(){return 7!=Object.defineProperty(ve("div"),"a",{get:function(){return 7}}).a})),ye=o,we=c,_e=f,ge=w,be=M,me=he,ke=Nt,xe=pe,Ee=Object.getOwnPropertyDescriptor;i.f=ye?Ee:function(t,e){if(t=be(t),e=me(e),xe)try{return Ee(t,e)}catch(t){}if(ke(t,e))return ge(!we(_e.f,t,e),t[e])};var Ae={},Te=o&&a((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Re=n,Oe=F,Se=Re.String,Ue=Re.TypeError,Ie=function(t){if(Oe(t))return t;throw Ue(Se(t)+" is not an object")},Le=o,Be=pe,ze=Te,Pe=Ie,Ne=he,Ce=n.TypeError,Me=Object.defineProperty,De=Object.getOwnPropertyDescriptor,je="enumerable",Fe="configurable",Ve="writable";Ae.f=Le?ze?function(t,e,r){if(Pe(t),e=Ne(e),Pe(r),"function"==typeof t&&"prototype"===e&&"value"in r&&Ve in r&&!r.writable){var n=De(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:Fe in r?r.configurable:n.configurable,enumerable:je in r?r.enumerable:n.enumerable,writable:!1})}return Me(t,e,r)}:Me:function(t,e,r){if(Pe(t),e=Ne(e),Pe(r),Be)try{return Me(t,e,r)}catch(t){}if("get"in r||"set"in r)throw Ce("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var Ze=Ae,Xe=w,We=o?function(t,e,r){return Ze.f(t,e,Xe(1,r))}:function(t,e,r){return t[e]=r,t},He={exports:{}},Ge=o,Ye=Nt,Ke=Function.prototype,Je=Ge&&Object.getOwnPropertyDescriptor,qe=Ye(Ke,"name"),$e={EXISTS:qe,PROPER:qe&&"something"===function(){}.name,CONFIGURABLE:qe&&(!Ge||Ge&&Je(Ke,"name").configurable)},Qe=D,tr=St,er=x(Function.toString);Qe(tr.inspectSource)||(tr.inspectSource=function(t){return er(t)});var rr,nr,ir,ar=tr.inspectSource,or=D,sr=ar,ur=n.WeakMap,hr=or(ur)&&/native code/.test(sr(ur)),cr=xt.exports,fr=Ft,lr=cr("keys"),dr=function(t){return lr[t]||(lr[t]=fr(t))},vr={},pr=hr,yr=n,wr=x,_r=F,gr=We,br=Nt,mr=St,kr=dr,xr=vr,Er="Object already initialized",Ar=yr.TypeError,Tr=yr.WeakMap;if(pr||mr.state){var Rr=mr.state||(mr.state=new Tr),Or=wr(Rr.get),Sr=wr(Rr.has),Ur=wr(Rr.set);rr=function(t,e){if(Sr(Rr,t))throw new Ar(Er);return e.facade=t,Ur(Rr,t,e),e},nr=function(t){return Or(Rr,t)||{}},ir=function(t){return Sr(Rr,t)}}else{var Ir=kr("state");xr[Ir]=!0,rr=function(t,e){if(br(t,Ir))throw new Ar(Er);return e.facade=t,gr(t,Ir,e),e},nr=function(t){return br(t,Ir)?t[Ir]:{}},ir=function(t){return br(t,Ir)}}var Lr={set:rr,get:nr,has:ir,enforce:function(t){return ir(t)?nr(t):rr(t,{})},getterFor:function(t){return function(e){var r;if(!_r(e)||(r=nr(e)).type!==t)throw Ar("Incompatible receiver, "+t+" required");return r}}},Br=a,zr=D,Pr=Nt,Nr=Ae.f,Cr=$e.CONFIGURABLE,Mr=ar,Dr=Lr.enforce,jr=Lr.get,Fr=!Br((function(){return 8!==Nr((function(){}),"length",{value:8}).length})),Vr=String(String).split("String"),Zr=He.exports=function(t,e,r){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!Pr(t,"name")||Cr&&t.name!==e)&&Nr(t,"name",{value:e,configurable:!0}),Fr&&r&&Pr(r,"arity")&&t.length!==r.arity&&Nr(t,"length",{value:r.arity});var n=Dr(t);return Pr(n,"source")||(n.source=Vr.join("string"==typeof e?e:"")),t};Function.prototype.toString=Zr((function(){return zr(this)&&jr(this).source||Mr(this)}),"toString");var Xr=n,Wr=D,Hr=We,Gr=He.exports,Yr=Tt,Kr=function(t,e,r,n){var i=!!n&&!!n.unsafe,a=!!n&&!!n.enumerable,o=!!n&&!!n.noTargetGet,s=n&&void 0!==n.name?n.name:e;return Wr(r)&&Gr(r,s,n),t===Xr?(a?t[e]=r:Yr(e,r),t):(i?!o&&t[e]&&(a=!0):delete t[e],a?t[e]=r:Hr(t,e,r),t)},Jr={},qr=Math.ceil,$r=Math.floor,Qr=function(t){var e=+t;return e!=e||0===e?0:(e>0?$r:qr)(e)},tn=Qr,en=Math.max,rn=Math.min,nn=Qr,an=Math.min,on=function(t){return t>0?an(nn(t),9007199254740991):0},sn=function(t){return on(t.length)},un=M,hn=function(t,e){var r=tn(t);return r<0?en(r+e,0):rn(r,e)},cn=sn,fn=function(t){return function(e,r,n){var i,a=un(e),o=cn(a),s=hn(n,o);if(t&&r!=r){for(;o>s;)if((i=a[s++])!=i)return!0}else for(;o>s;s++)if((t||s in a)&&a[s]===r)return t||s||0;return!t&&-1}},ln={includes:fn(!0),indexOf:fn(!1)},dn=Nt,vn=M,pn=ln.indexOf,yn=vr,wn=x([].push),_n=function(t,e){var r,n=vn(t),i=0,a=[];for(r in n)!dn(yn,r)&&dn(n,r)&&wn(a,r);for(;e.length>i;)dn(n,r=e[i++])&&(~pn(a,r)||wn(a,r));return a},gn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype");Jr.f=Object.getOwnPropertyNames||function(t){return _n(t,gn)};var bn={};bn.f=Object.getOwnPropertySymbols;var mn=W,kn=Jr,xn=bn,En=Ie,An=x([].concat),Tn=mn("Reflect","ownKeys")||function(t){var e=kn.f(En(t)),r=xn.f;return r?An(e,r(t)):e},Rn=Nt,On=Tn,Sn=i,Un=Ae,In=a,Ln=D,Bn=/#|\.prototype\./,zn=function(t,e){var r=Nn[Pn(t)];return r==Mn||r!=Cn&&(Ln(e)?In(e):!!e)},Pn=zn.normalize=function(t){return String(t).replace(Bn,".").toLowerCase()},Nn=zn.data={},Cn=zn.NATIVE="N",Mn=zn.POLYFILL="P",Dn=zn,jn=n,Fn=i.f,Vn=We,Zn=Kr,Xn=Tt,Wn=function(t,e,r){for(var n=On(e),i=Un.f,a=Sn.f,o=0;o<n.length;o++){var s=n[o];Rn(t,s)||r&&Rn(r,s)||i(t,s,a(e,s))}},Hn=Dn,Gn=function(t,e){var r,n,i,a,o,s=t.target,u=t.global,h=t.stat;if(r=u?jn:h?jn[s]||Xn(s,{}):(jn[s]||{}).prototype)for(n in e){if(a=e[n],i=t.noTargetGet?(o=Fn(r,n))&&o.value:r[n],!Hn(u?n:s+(h?".":"#")+n,t.forced)&&void 0!==i){if(typeof a==typeof i)continue;Wn(a,i)}(t.sham||i&&i.sham)&&Vn(a,"sham",!0),Zn(r,n,a,t)}},Yn="process"==R(n.process),Kn=n,Jn=D,qn=Kn.String,$n=Kn.TypeError,Qn=x,ti=Ie,ei=function(t){if("object"==typeof t||Jn(t))return t;throw $n("Can't set "+qn(t)+" as a prototype")},ri=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Qn(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return ti(r),ei(n),e?t(r,n):r.__proto__=n,r}}():void 0),ni=Ae.f,ii=Nt,ai=$t("toStringTag"),oi=W,si=Ae,ui=o,hi=$t("species"),ci=H,fi=n.TypeError,li={};li[$t("toStringTag")]="z";var di=n,vi="[object z]"===String(li),pi=D,yi=R,wi=$t("toStringTag"),_i=di.Object,gi="Arguments"==yi(function(){return arguments}()),bi=vi?yi:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=_i(t),wi))?r:gi?yi(e):"Object"==(n=yi(e))&&pi(e.callee)?"Arguments":n},mi=x,ki=a,xi=D,Ei=bi,Ai=ar,Ti=function(){},Ri=[],Oi=W("Reflect","construct"),Si=/^\s*(?:class|function)\b/,Ui=mi(Si.exec),Ii=!Si.exec(Ti),Li=function(t){if(!xi(t))return!1;try{return Oi(Ti,Ri,t),!0}catch(t){return!1}},Bi=function(t){if(!xi(t))return!1;switch(Ei(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ii||!!Ui(Si,Ai(t))}catch(t){return!0}};Bi.sham=!0;var zi,Pi,Ni,Ci,Mi=!Oi||ki((function(){var t;return Li(Li.call)||!Li(Object)||!Li((function(){t=!0}))||t}))?Bi:Li,Di=Mi,ji=lt,Fi=n.TypeError,Vi=Ie,Zi=function(t){if(Di(t))return t;throw Fi(ji(t)+" is not a constructor")},Xi=$t("species"),Wi=function(t,e){var r,n=Vi(t).constructor;return void 0===n||null==(r=Vi(n)[Xi])?e:Zi(r)},Hi=s,Gi=Function.prototype,Yi=Gi.apply,Ki=Gi.call,Ji="object"==typeof Reflect&&Reflect.apply||(Hi?Ki.bind(Yi):function(){return Ki.apply(Yi,arguments)}),qi=yt,$i=s,Qi=x(x.bind),ta=function(t,e){return qi(t),void 0===e?t:$i?Qi(t,e):function(){return t.apply(e,arguments)}},ea=W("document","documentElement"),ra=x([].slice),na=n.TypeError,ia=/(?:ipad|iphone|ipod).*applewebkit/i.test(G),aa=n,oa=Ji,sa=ta,ua=D,ha=Nt,ca=a,fa=ea,la=ra,da=de,va=function(t,e){if(t<e)throw na("Not enough arguments");return t},pa=ia,ya=Yn,wa=aa.setImmediate,_a=aa.clearImmediate,ga=aa.process,ba=aa.Dispatch,ma=aa.Function,ka=aa.MessageChannel,xa=aa.String,Ea=0,Aa={},Ta="onreadystatechange";try{zi=aa.location}catch(t){}var Ra=function(t){if(ha(Aa,t)){var e=Aa[t];delete Aa[t],e()}},Oa=function(t){return function(){Ra(t)}},Sa=function(t){Ra(t.data)},Ua=function(t){aa.postMessage(xa(t),zi.protocol+"//"+zi.host)};wa&&_a||(wa=function(t){va(arguments.length,1);var e=ua(t)?t:ma(t),r=la(arguments,1);return Aa[++Ea]=function(){oa(e,void 0,r)},Pi(Ea),Ea},_a=function(t){delete Aa[t]},ya?Pi=function(t){ga.nextTick(Oa(t))}:ba&&ba.now?Pi=function(t){ba.now(Oa(t))}:ka&&!pa?(Ci=(Ni=new ka).port2,Ni.port1.onmessage=Sa,Pi=sa(Ci.postMessage,Ci)):aa.addEventListener&&ua(aa.postMessage)&&!aa.importScripts&&zi&&"file:"!==zi.protocol&&!ca(Ua)?(Pi=Ua,aa.addEventListener("message",Sa,!1)):Pi=Ta in da("script")?function(t){fa.appendChild(da("script")).onreadystatechange=function(){fa.removeChild(this),Ra(t)}}:function(t){setTimeout(Oa(t),0)});var Ia,La,Ba,za,Pa,Na,Ca,Ma,Da={set:wa,clear:_a},ja=n,Fa=/ipad|iphone|ipod/i.test(G)&&void 0!==ja.Pebble,Va=/web0s(?!.*chrome)/i.test(G),Za=n,Xa=ta,Wa=i.f,Ha=Da.set,Ga=ia,Ya=Fa,Ka=Va,Ja=Yn,qa=Za.MutationObserver||Za.WebKitMutationObserver,$a=Za.document,Qa=Za.process,to=Za.Promise,eo=Wa(Za,"queueMicrotask"),ro=eo&&eo.value;ro||(Ia=function(){var t,e;for(Ja&&(t=Qa.domain)&&t.exit();La;){e=La.fn,La=La.next;try{e()}catch(t){throw La?za():Ba=void 0,t}}Ba=void 0,t&&t.enter()},Ga||Ja||Ka||!qa||!$a?!Ya&&to&&to.resolve?((Ca=to.resolve(void 0)).constructor=to,Ma=Xa(Ca.then,Ca),za=function(){Ma(Ia)}):Ja?za=function(){Qa.nextTick(Ia)}:(Ha=Xa(Ha,Za),za=function(){Ha(Ia)}):(Pa=!0,Na=$a.createTextNode(""),new qa(Ia).observe(Na,{characterData:!0}),za=function(){Na.data=Pa=!Pa}));var no=ro||function(t){var e={fn:t,next:void 0};Ba&&(Ba.next=e),La||(La=e,za()),Ba=e},io=n,ao=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},oo=function(){this.head=null,this.tail=null};oo.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var so=oo,uo=n.Promise,ho="object"==typeof window&&"object"!=typeof Deno,co=n,fo=uo,lo=D,vo=Dn,po=ar,yo=$t,wo=ho,_o=tt;fo&&fo.prototype;var go=yo("species"),bo=!1,mo=lo(co.PromiseRejectionEvent),ko=vo("Promise",(function(){var t=po(fo),e=t!==String(fo);if(!e&&66===_o)return!0;if(_o>=51&&/native code/.test(t))return!1;var r=new fo((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(r.constructor={})[go]=n,!(bo=r.then((function(){}))instanceof n)||!e&&wo&&!mo})),xo={CONSTRUCTOR:ko,REJECTION_EVENT:mo,SUBCLASSING:bo},Eo={},Ao=yt,To=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=Ao(e),this.reject=Ao(r)};Eo.f=function(t){return new To(t)};var Ro,Oo,So,Uo=Gn,Io=Yn,Lo=n,Bo=c,zo=Kr,Po=ri,No=function(t,e,r){t&&!r&&(t=t.prototype),t&&!ii(t,ai)&&ni(t,ai,{configurable:!0,value:e})},Co=function(t){var e=oi(t),r=si.f;ui&&e&&!e[hi]&&r(e,hi,{configurable:!0,get:function(){return this}})},Mo=yt,Do=D,jo=F,Fo=function(t,e){if(ci(e,t))return t;throw fi("Incorrect invocation")},Vo=Wi,Zo=Da.set,Xo=no,Wo=function(t,e){var r=io.console;r&&r.error&&(1==arguments.length?r.error(t):r.error(t,e))},Ho=ao,Go=so,Yo=Lr,Ko=uo,Jo=Eo,qo="Promise",$o=xo.CONSTRUCTOR,Qo=xo.REJECTION_EVENT,ts=xo.SUBCLASSING,es=Yo.getterFor(qo),rs=Yo.set,ns=Ko&&Ko.prototype,is=Ko,as=ns,os=Lo.TypeError,ss=Lo.document,us=Lo.process,hs=Jo.f,cs=hs,fs=!!(ss&&ss.createEvent&&Lo.dispatchEvent),ls="unhandledrejection",ds=function(t){var e;return!(!jo(t)||!Do(e=t.then))&&e},vs=function(t,e){var r,n,i,a=e.value,o=1==e.state,s=o?t.ok:t.fail,u=t.resolve,h=t.reject,c=t.domain;try{s?(o||(2===e.rejection&&gs(e),e.rejection=1),!0===s?r=a:(c&&c.enter(),r=s(a),c&&(c.exit(),i=!0)),r===t.promise?h(os("Promise-chain cycle")):(n=ds(r))?Bo(n,r,u,h):u(r)):h(a)}catch(t){c&&!i&&c.exit(),h(t)}},ps=function(t,e){t.notified||(t.notified=!0,Xo((function(){for(var r,n=t.reactions;r=n.get();)vs(r,t);t.notified=!1,e&&!t.rejection&&ws(t)})))},ys=function(t,e,r){var n,i;fs?((n=ss.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),Lo.dispatchEvent(n)):n={promise:e,reason:r},!Qo&&(i=Lo["on"+t])?i(n):t===ls&&Wo("Unhandled promise rejection",r)},ws=function(t){Bo(Zo,Lo,(function(){var e,r=t.facade,n=t.value;if(_s(t)&&(e=Ho((function(){Io?us.emit("unhandledRejection",n,r):ys(ls,r,n)})),t.rejection=Io||_s(t)?2:1,e.error))throw e.value}))},_s=function(t){return 1!==t.rejection&&!t.parent},gs=function(t){Bo(Zo,Lo,(function(){var e=t.facade;Io?us.emit("rejectionHandled",e):ys("rejectionhandled",e,t.value)}))},bs=function(t,e,r){return function(n){t(e,n,r)}},ms=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,ps(t,!0))},ks=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw os("Promise can't be resolved itself");var n=ds(e);n?Xo((function(){var r={done:!1};try{Bo(n,e,bs(ks,r,t),bs(ms,r,t))}catch(e){ms(r,e,t)}})):(t.value=e,t.state=1,ps(t,!1))}catch(e){ms({done:!1},e,t)}}};if($o&&(as=(is=function(t){Fo(this,as),Mo(t),Bo(Ro,this);var e=es(this);try{t(bs(ks,e),bs(ms,e))}catch(t){ms(e,t)}}).prototype,(Ro=function(t){rs(this,{type:qo,done:!1,notified:!1,parent:!1,reactions:new Go,rejection:!1,state:0,value:void 0})}).prototype=zo(as,"then",(function(t,e){var r=es(this),n=hs(Vo(this,is));return r.parent=!0,n.ok=!Do(t)||t,n.fail=Do(e)&&e,n.domain=Io?us.domain:void 0,0==r.state?r.reactions.add(n):Xo((function(){vs(n,r)})),n.promise})),Oo=function(){var t=new Ro,e=es(t);this.promise=t,this.resolve=bs(ks,e),this.reject=bs(ms,e)},Jo.f=hs=function(t){return t===is||undefined===t?new Oo(t):cs(t)},Do(Ko)&&ns!==Object.prototype)){So=ns.then,ts||zo(ns,"then",(function(t,e){var r=this;return new is((function(t,e){Bo(So,r,t,e)})).then(t,e)}),{unsafe:!0});try{delete ns.constructor}catch(t){}Po&&Po(ns,as)}Uo({global:!0,wrap:!0,forced:$o},{Promise:is}),No(is,qo,!1),Co(qo);var xs={},Es=xs,As=$t("iterator"),Ts=Array.prototype,Rs=bi,Os=_t,Ss=xs,Us=$t("iterator"),Is=function(t){if(null!=t)return Os(t,Us)||Os(t,"@@iterator")||Ss[Rs(t)]},Ls=c,Bs=yt,zs=Ie,Ps=lt,Ns=Is,Cs=n.TypeError,Ms=c,Ds=Ie,js=_t,Fs=ta,Vs=c,Zs=Ie,Xs=lt,Ws=function(t){return void 0!==t&&(Es.Array===t||Ts[As]===t)},Hs=sn,Gs=H,Ys=function(t,e){var r=arguments.length<2?Ns(t):e;if(Bs(r))return zs(Ls(r,t));throw Cs(Ps(t)+" is not iterable")},Ks=Is,Js=function(t,e,r){var n,i;Ds(t);try{if(!(n=js(t,"return"))){if("throw"===e)throw r;return r}n=Ms(n,t)}catch(t){i=!0,n=t}if("throw"===e)throw r;if(i)throw n;return Ds(n),r},qs=n.TypeError,$s=function(t,e){this.stopped=t,this.result=e},Qs=$s.prototype,tu=function(t,e,r){var n,i,a,o,s,u,h,c=r&&r.that,f=!(!r||!r.AS_ENTRIES),l=!(!r||!r.IS_ITERATOR),d=!(!r||!r.INTERRUPTED),v=Fs(e,c),p=function(t){return n&&Js(n,"normal",t),new $s(!0,t)},y=function(t){return f?(Zs(t),d?v(t[0],t[1],p):v(t[0],t[1])):d?v(t,p):v(t)};if(l)n=t;else{if(!(i=Ks(t)))throw qs(Xs(t)+" is not iterable");if(Ws(i)){for(a=0,o=Hs(t);o>a;a++)if((s=y(t[a]))&&Gs(Qs,s))return s;return new $s(!1)}n=Ys(t,i)}for(u=n.next;!(h=Vs(u,n)).done;){try{s=y(h.value)}catch(t){Js(n,"throw",t)}if("object"==typeof s&&s&&Gs(Qs,s))return s}return new $s(!1)};function eu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ru(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?eu(Object(r),!0).forEach((function(e){hu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function nu(t){return nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(t)}function iu(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function au(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){iu(a,n,i,o,s,"next",t)}function s(t){iu(a,n,i,o,s,"throw",t)}o(void 0)}))}}function ou(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function su(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function uu(t,e,r){return e&&su(t.prototype,e),r&&su(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lu(t,e)}function fu(t){return fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fu(t)}function lu(t,e){return lu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},lu(t,e)}function du(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function vu(t,e,r){return vu=du()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&lu(i,r.prototype),i},vu.apply(null,arguments)}function pu(t){var e="function"==typeof Map?new Map:void 0;return pu=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return vu(t,arguments,fu(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),lu(n,t)},pu(t)}function yu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wu(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return yu(t)}function _u(t){var e=du();return function(){var r,n=fu(t);if(e){var i=fu(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return wu(this,r)}}function gu(t,e){if(t&&"function"==typeof t.repeat)return t.repeat(e);if("string"==typeof t){for(var r="",n=0;n<e;n++)r+=t;return r}if(t instanceof Array){for(r=[],n=0;n<e;n++)r.concat(t);return r}throw new Error("Invalid Data!")}function bu(t,e){return t&&"function"==typeof t.includes?t.includes(e):-1!==t.indexOf(e)}function mu(t,e){if(t&&"function"==typeof t.startsWith)return t.startsWith(e);if("string"!=typeof t||"string"!=typeof e)throw new Error("Invalid Data!");return new RegExp("^"+e).test(t)}function ku(t,e){if(!t||"object"!==nu(t))throw new Error("Invalid Data!");for(var r=[],n=t.length,i=0;i<n;i++)r[i]=e(t[i],i);return r}function xu(t){return t<0?Math.ceil(t):Math.floor(t)}var Eu=void 0!==Promise.allSettled?Promise.allSettled.bind(Promise):function(t){var e=t.map((function(t){return t.then((function(t){return{status:"fulfilled",value:t}})).catch((function(t){return{status:"rejected",reason:t}}))}));return Promise.all(e)},Au=$t("iterator"),Tu=!1;try{var Ru=0,Ou={next:function(){return{done:!!Ru++}},return:function(){Tu=!0}};Ou[Au]=function(){return this},ku(Ou,(function(){throw 2}))}catch(t){}var Su=uo,Uu=function(t,e){if(!e&&!Tu)return!1;var r=!1;try{var n={};n[Au]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},Iu=xo.CONSTRUCTOR||!Uu((function(t){Su.all(t).then(void 0,(function(){}))})),Lu=c,Bu=yt,zu=Eo,Pu=ao,Nu=tu;Gn({target:"Promise",stat:!0,forced:Iu},{all:function(t){var e=this,r=zu.f(e),n=r.resolve,i=r.reject,a=Pu((function(){var r=Bu(e.resolve),a=[],o=0,s=1;Nu(t,(function(t){var u=o++,h=!1;s++,Lu(r,e,t).then((function(t){h||(h=!0,a[u]=t,--s||n(a))}),i)})),--s||n(a)}));return a.error&&i(a.value),r.promise}});var Cu=Gn,Mu=xo.CONSTRUCTOR,Du=uo,ju=W,Fu=D,Vu=Kr,Zu=Du&&Du.prototype;if(Cu({target:"Promise",proto:!0,forced:Mu,real:!0},{catch:function(t){return this.then(void 0,t)}}),Fu(Du)){var Xu=ju("Promise").prototype.catch;Zu.catch!==Xu&&Vu(Zu,"catch",Xu,{unsafe:!0})}var Wu=c,Hu=yt,Gu=Eo,Yu=ao,Ku=tu;Gn({target:"Promise",stat:!0,forced:Iu},{race:function(t){var e=this,r=Gu.f(e),n=r.reject,i=Yu((function(){var i=Hu(e.resolve);Ku(t,(function(t){Wu(i,e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}});var Ju=c,qu=Eo;Gn({target:"Promise",stat:!0,forced:xo.CONSTRUCTOR},{reject:function(t){var e=qu.f(this);return Ju(e.reject,void 0,t),e.promise}});var $u=Ie,Qu=F,th=Eo,eh=Gn,rh=xo.CONSTRUCTOR,nh=function(t,e){if($u(t),Qu(e)&&e.constructor===t)return e;var r=th.f(t);return(0,r.resolve)(e),r.promise};W("Promise"),eh({target:"Promise",stat:!0,forced:rh},{resolve:function(t){return nh(this,t)}});!function(t){var e=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),o=new O(n||[]);return a._invoke=function(t,e,r){var n=f;return function(i,a){if(n===d)throw new Error("Generator is already running");if(n===v){if("throw"===i)throw a;return U()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=A(o,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var u=c(t,e,r);if("normal"===u.type){if(n=r.done?v:l,u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=v,r.method="throw",r.arg=u.arg)}}}(t,r,o),a}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var f="suspendedStart",l="suspendedYield",d="executing",v="completed",p={};function y(){}function w(){}function _(){}var g={};u(g,a,(function(){return this}));var b=Object.getPrototypeOf,m=b&&b(b(S([])));m&&m!==r&&n.call(m,a)&&(g=m);var k=_.prototype=y.prototype=Object.create(g);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=c(t[i],t,a);if("throw"!==u.type){var h=u.arg,f=h.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(f).then((function(t){h.value=t,o(h)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var i;this._invoke=function(t,n){function a(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(a,a):a()}}function A(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,A(t,r),"throw"===r.method))return p;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=c(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,p;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,p):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function S(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}return{next:U}}function U(){return{value:e,done:!0}}return w.prototype=_,u(k,"constructor",_),u(_,"constructor",w),w.displayName=u(_,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},x(E.prototype),u(E.prototype,o,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,a){void 0===a&&(a=Promise);var o=new E(h(e,r,n,i),a);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(k),u(k,s,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),h=n.call(o,"finallyLoc");if(u&&h){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;R(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:S(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}({exports:{}});var ih,ah,oh,sh="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,uh=!a((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),hh=n,ch=Nt,fh=D,lh=Bt,dh=uh,vh=dr("IE_PROTO"),ph=hh.Object,yh=ph.prototype,wh=dh?ph.getPrototypeOf:function(t){var e=lh(t);if(ch(e,vh))return e[vh];var r=e.constructor;return fh(r)&&e instanceof r?r.prototype:e instanceof ph?yh:null},_h=sh,gh=o,bh=n,mh=D,kh=F,xh=Nt,Eh=bi,Ah=lt,Th=We,Rh=Kr,Oh=Ae.f,Sh=H,Uh=wh,Ih=ri,Lh=$t,Bh=Ft,zh=bh.Int8Array,Ph=zh&&zh.prototype,Nh=bh.Uint8ClampedArray,Ch=Nh&&Nh.prototype,Mh=zh&&Uh(zh),Dh=Ph&&Uh(Ph),jh=Object.prototype,Fh=bh.TypeError,Vh=Lh("toStringTag"),Zh=Bh("TYPED_ARRAY_TAG"),Xh=Bh("TYPED_ARRAY_CONSTRUCTOR"),Wh=_h&&!!Ih&&"Opera"!==Eh(bh.opera),Hh=!1,Gh={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Yh={BigInt64Array:8,BigUint64Array:8},Kh=function(t){if(!kh(t))return!1;var e=Eh(t);return xh(Gh,e)||xh(Yh,e)};for(ih in Gh)(oh=(ah=bh[ih])&&ah.prototype)?Th(oh,Xh,ah):Wh=!1;for(ih in Yh)(oh=(ah=bh[ih])&&ah.prototype)&&Th(oh,Xh,ah);if((!Wh||!mh(Mh)||Mh===Function.prototype)&&(Mh=function(){throw Fh("Incorrect invocation")},Wh))for(ih in Gh)bh[ih]&&Ih(bh[ih],Mh);if((!Wh||!Dh||Dh===jh)&&(Dh=Mh.prototype,Wh))for(ih in Gh)bh[ih]&&Ih(bh[ih].prototype,Dh);if(Wh&&Uh(Ch)!==Dh&&Ih(Ch,Dh),gh&&!xh(Dh,Vh))for(ih in Hh=!0,Oh(Dh,Vh,{get:function(){return kh(this)?this[Zh]:void 0}}),Gh)bh[ih]&&Th(bh[ih],Zh,ih);var Jh={NATIVE_ARRAY_BUFFER_VIEWS:Wh,TYPED_ARRAY_CONSTRUCTOR:Xh,TYPED_ARRAY_TAG:Hh&&Zh,aTypedArray:function(t){if(Kh(t))return t;throw Fh("Target is not a typed array")},aTypedArrayConstructor:function(t){if(mh(t)&&(!Ih||Sh(Mh,t)))return t;throw Fh(Ah(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r,n){if(gh){if(r)for(var i in Gh){var a=bh[i];if(a&&xh(a.prototype,t))try{delete a.prototype[t]}catch(r){try{a.prototype[t]=e}catch(t){}}}Dh[t]&&!r||Rh(Dh,t,r?e:Wh&&Ph[t]||e,n)}},exportTypedArrayStaticMethod:function(t,e,r){var n,i;if(gh){if(Ih){if(r)for(n in Gh)if((i=bh[n])&&xh(i,t))try{delete i[t]}catch(t){}if(Mh[t]&&!r)return;try{return Rh(Mh,t,r?e:Wh&&Mh[t]||e)}catch(t){}}for(n in Gh)!(i=bh[n])||i[t]&&!r||Rh(i,t,e)}},isView:function(t){if(!kh(t))return!1;var e=Eh(t);return"DataView"===e||xh(Gh,e)||xh(Yh,e)},isTypedArray:Kh,TypedArray:Mh,TypedArrayPrototype:Dh},qh=R,$h=n,Qh=Array.isArray||function(t){return"Array"==qh(t)},tc=Mi,ec=F,rc=$t("species"),nc=$h.Array,ic=function(t){var e;return Qh(t)&&(e=t.constructor,(tc(e)&&(e===nc||Qh(e.prototype))||ec(e)&&null===(e=e[rc]))&&(e=void 0)),void 0===e?nc:e},ac=ta,oc=B,sc=Bt,uc=sn,hc=function(t,e){return new(ic(t))(0===e?0:e)},cc=x([].push),fc=function(t){var e=1==t,r=2==t,n=3==t,i=4==t,a=6==t,o=7==t,s=5==t||a;return function(u,h,c,f){for(var l,d,v=sc(u),p=oc(v),y=ac(h,c),w=uc(p),_=0,g=f||hc,b=e?g(u,w):r||o?g(u,0):void 0;w>_;_++)if((s||_ in p)&&(d=y(l=p[_],_,v),t))if(e)b[_]=d;else if(d)switch(t){case 3:return!0;case 5:return l;case 6:return _;case 2:cc(b,l)}else switch(t){case 4:return!1;case 7:cc(b,l)}return a?-1:n||i?i:b}},lc={forEach:fc(0),map:fc(1),filter:fc(2),some:fc(3),every:fc(4),find:fc(5),findIndex:fc(6),filterReject:fc(7)},dc=Wi,vc=Jh.TYPED_ARRAY_CONSTRUCTOR,pc=Jh.aTypedArrayConstructor,yc=lc.map,wc=function(t){return pc(dc(t,t[vc]))},_c=Jh.aTypedArray;(0,Jh.exportTypedArrayMethod)("map",(function(t){return yc(_c(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(wc(t))(e)}))}));var gc=o,bc=$e.EXISTS,mc=x,kc=Ae.f,xc=Function.prototype,Ec=mc(xc.toString),Ac=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Tc=mc(Ac.exec);gc&&!bc&&kc(xc,"name",{configurable:!0,get:function(){try{return Tc(Ac,Ec(this))[1]}catch(t){return""}}});var Rc=function(t){cu(r,t);var e=_u(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ou(this,r),(t=e.call(this,n)).name="XnbError",t.message=n,Error.captureStackTrace(yu(t),r),t}return uu(r)}(pu(Error));function Oc(t){for(var e=[],r=[],n=0;n<t.length;n++){var i=t[n];if("["===i)e.push(n);else if("]"===i){var a=e.pop();if(void 0===a)throw new Error("Invalid Bracket Form!");0===e.length&&r.push(t.slice(a+1,n))}}return r}var Sc=function(){function t(){ou(this,t)}return uu(t,null,[{key:"setReaders",value:function(e){t.readers=ru({},e)}},{key:"addReaders",value:function(e){t.readers=ru(ru({},t.readers),e)}},{key:"makeSimplied",value:function(e,r){var n=e.split(/`|,/)[0];if(r.isTypeOf(n)){if(r.hasSubType()){var i=t.parseSubtypes(e).map(t.simplifyType.bind(t));return"".concat(r.type(),"<").concat(i.join(","),">")}return r.type()}return null}},{key:"simplifyType",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(e){var r=e.split(/`|,/)[0];if(function(t,e){if("function"==typeof t.endsWith)return t.endsWith(e);if("string"!=typeof t||"string"!=typeof e)throw new Error("Invalid Data!");return new RegExp(e+"$").test(t)}(r,"[]"))return"Array<".concat(simplifyType(r.slice(0,-2)),">");if("Microsoft.Xna.Framework.Content.ReflectiveReader"===r){var n=t.parseSubtypes(e).map(t.simplifyType.bind(t));return"".concat(n)}for(var i=0,a=Object.values(t.readers);i<a.length;i++){var o=a[i],s=t.makeSimplied(e,o);if(null!==s)return s}throw new Rc('Non-implemented type found, cannot resolve type "'.concat(r,'", "').concat(e,'".'))}))},{key:"parseSubtypes",value:function(t){var e=t.slice(t.search("`")+1);return e[0],e=Oc(e)[0],Oc(e)}},{key:"getTypeInfo",value:function(t){var e=t.match(/[^<]+/)[0],r=t.match(/<(.+)>/);return r=r?r[1].split(",").map((function(t){return t.trim()})):[],{type:e,subtypes:r}}},{key:"getReaderTypeList",value:function(e){return t.getReader(e).parseTypeList()}},{key:"getReader",value:function(e){var r=t.getTypeInfo(e),n=r.type,i=r.subtypes;if(i=i.map(t.getReader.bind(t)),t.readers.hasOwnProperty("".concat(n,"Reader")))return vu(t.readers["".concat(n,"Reader")],i);throw new Rc('Invalid reader type "'.concat(e,'" passed, unable to resolve!'))}},{key:"getReaderFromRaw",value:function(e){var r=t.simplifyType(e);return t.getReader(r)}}]),t}();hu(Sc,"readers",{});var Uc=[192,224,240],Ic=128,Lc=63,Bc=[55296,56320],zc=1023;function Pc(t){return t<128?[t]:t<2048?[Uc[0]|t>>6,Ic|t&Lc]:t<65536?[Uc[1]|t>>12,Ic|t>>6&Lc,Ic|t&Lc]:[Uc[2]|t>>18,Ic|t>>12&Lc,Ic|t>>6&Lc,Ic|t&Lc]}function Nc(t){return t<65535?[t]:[Bc[0]|(t-=65536)>>10&zc,Bc[1]|t&zc]}function Cc(t){var e;if("number"==typeof t&&(t=[t]),null===(e=t)||void 0===e||!e.length)throw new Error("Invalid codeset!");var r=t.length;return 1===r?t[0]:2===r?((t[0]^Uc[0])<<6)+(t[1]^Ic):3===r?((t[0]^Uc[1])<<12)+((t[1]^Ic)<<6)+(t[2]^Ic):((t[0]^Uc[2])<<18)+((t[1]^Ic)<<12)+((t[2]^Ic)<<6)+(t[3]^Ic)}function Mc(t){var e;if("number"==typeof t&&(t=[t]),null===(e=t)||void 0===e||!e.length)throw new Error("Invalid codeset!");return 1===t.length?t[0]:((t[0]&zc)<<10)+(t[1]&zc)+65536}function Dc(t){return function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];e.push.apply(e,Pc(n))}return e}(function(t){for(var e=ku({length:t.length},(function(e,r){return t.charCodeAt(r)})),r=[],n=0;n<t.length;){var i=e[n];(Bc[0]&i)!==Bc[0]?(r.push(i),n++):(r.push(Mc(e.slice(n,n+2))),n+=2)}return r}(t))}function jc(t){return function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];e.push.apply(e,Nc(n))}for(var i=32768,a="",o=0;o<e.length/i;o++)a+=String.fromCharCode.apply(String,e.slice(o*i,(o+1)*i));return a}(function(t){for(var e=t instanceof ArrayBuffer?new Uint8Array(t):t,r=[],n=0;n<e.length;){var i=e[n];0==(128&i)?(r.push(i),n++):i<Uc[1]?(r.push(Cc(e.slice(n,n+2))),n+=2):i<Uc[2]?(r.push(Cc(e.slice(n,n+3))),n+=3):(r.push(Cc(e.slice(n,n+4))),n+=4)}return r}(t))}var Fc=function(){function t(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ou(this,t),this._endianus=r,this._buffer=e.slice(),this._dataView=new DataView(this._buffer),this._offset=0,this._bitOffset=0}return uu(t,[{key:"seek",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._offset,r=this._offset;if(this._offset=Math.max(e+parseInt(t),0),this._offset<0||this._offset>this.buffer.length)throw new RangeError("Buffer seek out of bounds! ".concat(this._offset," ").concat(this.buffer.length));return this._offset-r}},{key:"bytePosition",get:function(){return parseInt(this._offset)},set:function(t){this._offset=t}},{key:"bitPosition",get:function(){return parseInt(this._bitOffset)},set:function(t){t<0&&(t=16-t),this._bitOffset=t%16;var e=(t-Math.abs(t)%16)/16*2;this.seek(e)}},{key:"size",get:function(){return this.buffer.byteLength}},{key:"buffer",get:function(){return this._buffer}},{key:"copyFrom",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.byteLength,i=new Uint8Array(t),a=this.buffer.byteLength<n+e,o=this.buffer,s=this._dataView;if(a){o=new ArrayBuffer(this.buffer.byteLength+(n+e-this.buffer.byteLength)),s=new DataView(o);for(var u=0;u<this.buffer.byteLength;u++)s.setUint8(u,this._dataView.getUint8(u))}for(var h=r,c=e;h<n;h++,c++)s.setUint8(c,i[h]);a&&(this._buffer=o,this._dataView=s)}},{key:"read",value:function(t){var e=this.buffer.slice(this._offset,this._offset+t);return this.seek(t),e}},{key:"readByte",value:function(){return this.readUInt()}},{key:"readInt",value:function(){var t=this._dataView.getInt8(this._offset);return this.seek(1),t}},{key:"readUInt",value:function(){var t=this._dataView.getUint8(this._offset);return this.seek(1),t}},{key:"readUInt16",value:function(){var t=this._dataView.getUint16(this._offset,this._endianus);return this.seek(2),t}},{key:"readUInt32",value:function(){var t=this._dataView.getUint32(this._offset,this._endianus);return this.seek(4),t}},{key:"readInt16",value:function(){var t=this._dataView.getInt16(this._offset,this._endianus);return this.seek(2),t}},{key:"readInt32",value:function(){var t=this._dataView.getInt32(this._offset,this._endianus);return this.seek(4),t}},{key:"readSingle",value:function(){var t=this._dataView.getFloat32(this._offset,this._endianus);return this.seek(4),t}},{key:"readDouble",value:function(){var t=this._dataView.getFloat32(this._offset,this._endianus);return this.seek(8),t}},{key:"readString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=[];if(this._offset,-1===t)for(;0!=this.peekByte(1);)e.push(this.readByte());else for(var r=0;r<t;r++)e.push(this.readByte());return jc(e)}},{key:"peek",value:function(t){var e=this.read(t);return this.seek(-t),e}},{key:"peekByte",value:function(){return this.peekUInt()}},{key:"peekInt",value:function(){return this._dataView.getInt8(this._offset)}},{key:"peekUInt",value:function(){return this._dataView.getUint8(this._offset)}},{key:"peekUInt16",value:function(){return this._dataView.getUint16(this._offset,this._endianus)}},{key:"peekUInt32",value:function(){return this._dataView.getUint32(this._offset,this._endianus)}},{key:"peekInt16",value:function(){return this._dataView.getInt16(this._offset,this._endianus)}},{key:"peekInt32",value:function(){return this._dataView.getInt32(this._offset,this._endianus)}},{key:"peekSingle",value:function(){return this._dataView.getFloat32(this._offset,this._endianus)}},{key:"peekDouble",value:function(){return this._dataView.getFloat64(this._offset,this._endianus)}},{key:"peekString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=[],r=this._offset;if(0===t)for(;0!=this.peekByte(1);)e.push(this.readByte());else for(var n=0;n<t;n++)e.push(this.readByte());return this.bytePosition=r,jc(e)}},{key:"read7BitNumber",value:function(){var t,e=0,r=0;do{e|=(127&(t=this.readByte()))<<r,r+=7}while(128&t);return e}},{key:"readLZXBits",value:function(t){for(var e=t,r=0;e>0;){var n=this._dataView.getUint16(this._offset,!0),i=Math.min(Math.max(e,0),16-this.bitPosition),a=16-this.bitPosition-i,o=(n&Math.pow(2,i)-1<<a)>>a;e-=i,this.bitPosition+=i,r|=o<<e}return r}},{key:"peekLZXBits",value:function(t){var e=this.bitPosition,r=this.bytePosition,n=this.readLZXBits(t);return this.bitPosition=e,this.bytePosition=r,n}},{key:"readLZXInt16",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.readByte(),r=this.readByte();return t||this.seek(-2),e<<8|r}},{key:"align",value:function(){this.bitPosition>0&&(this.bitPosition+=16-this.bitPosition)}}]),t}(),Vc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2048;ou(this,t),this._buffer=new ArrayBuffer(e),this._dataView=new DataView(this._buffer),this.bytePosition=0}return uu(t,[{key:"buffer",get:function(){return this._buffer}},{key:"reconnectDataView",value:function(){this._dataView=new DataView(this._buffer)}},{key:"trim",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._buffer=this.buffer.slice(0,this.bytePosition),t||this.reconnectDataView()}},{key:"alloc",value:function(t){if(this._buffer.byteLength<=this.bytePosition+t){for(var e=new ArrayBuffer(this._buffer.byteLength+t),r=new DataView(e),n=0;n<this.buffer.byteLength;n++)r.setUint8(n,this._dataView.getUint8(n));this._buffer=e,this._dataView=r}return this}},{key:"concat",value:function(t){var e=new Uint8Array(t),r=this.bytePosition+e.length;this.alloc(e.length);for(var n=this.bytePosition;n<r;n++)this._dataView.setUint8(n,e[n-this.bytePosition]);this.bytePosition=r,this.trim()}},{key:"write",value:function(t){var e=new Uint8Array(t),r=this.bytePosition+e.length;this.alloc(e.length);for(var n=this.bytePosition;n<r;n++)this._dataView.setUint8(n,e[n-this.bytePosition]);this.bytePosition=r}},{key:"writeString",value:function(t){var e=Dc(t);this.write(e)}},{key:"writeByte",value:function(t){this.alloc(1)._dataView.setUint8(this.bytePosition,t),this.bytePosition++}},{key:"writeInt",value:function(t){this.alloc(1)._dataView.setInt8(this.bytePosition,t),this.bytePosition++}},{key:"writeUInt",value:function(t){this.alloc(1)._dataView.setUint8(this.bytePosition,t),this.bytePosition++}},{key:"writeInt16",value:function(t){this.alloc(2)._dataView.setInt16(this.bytePosition,t,!0),this.bytePosition+=2}},{key:"writeUInt16",value:function(t){this.alloc(2)._dataView.setUint16(this.bytePosition,t,!0),this.bytePosition+=2}},{key:"writeInt32",value:function(t){this.alloc(4)._dataView.setInt32(this.bytePosition,t,!0),this.bytePosition+=4}},{key:"writeUInt32",value:function(t){this.alloc(4)._dataView.setUint32(this.bytePosition,t,!0),this.bytePosition+=4}},{key:"writeSingle",value:function(t){this.alloc(4)._dataView.setFloat32(this.bytePosition,t,!0),this.bytePosition+=4}},{key:"writeDouble",value:function(t){this.alloc(8)._dataView.setFloat64(this.bytePosition,t,!0),this.bytePosition+=8}},{key:"write7BitNumber",value:function(t){this.alloc(2);do{var e=127&t;(t>>=7)&&(e|=128),this._dataView.setUint8(this.bytePosition,e),this.bytePosition++}while(t)}}]),t}(),Zc=256,Xc=0,Wc=1,Hc=2,Gc=3,Yc=656,Kc=function(){function t(e){if(ou(this,t),this.window_size=1<<e,e<15||e>21)throw new Rc("Window size out of range!");if(!t.extra_bits.length)for(var r=0,n=0;r<=50;r+=2)t.extra_bits[r]=t.extra_bits[r+1]=n,0!=r&&n<17&&n++;if(!t.position_base.length)for(var i=0,a=0;i<=50;i++)t.position_base[i]=a,a+=1<<t.extra_bits[i];var o=21==e?50:20==e?42:e<<1;this.R0=this.R1=this.R2=1,this.main_elements=Zc+(o<<3),this.header_read=!1,this.block_remaining=0,this.block_type=Xc,this.window_posn=0,this.pretree_table=[],this.pretree_len=[],this.aligned_table=[],this.aligned_len=[],this.length_table=[],this.length_len=[],this.maintree_table=[],this.maintree_len=[];for(var s=0;s<Yc;s++)this.maintree_len[s]=0;for(var u=0;u<249;u++)this.length_len[u]=0;this.win=[]}return uu(t,[{key:"decompress",value:function(e,r,n){if(!this.header_read){if(0!=e.readLZXBits(1))throw new Rc("Intel E8 Call found, invalid for XNB files.");this.header_read=!0}for(var i=r;i>0;){if(0==this.block_remaining){this.block_type=e.readLZXBits(3);var a=e.readLZXBits(16),o=e.readLZXBits(8);switch(this.block_remaining=a<<8|o,this.block_type){case Hc:for(var s=0;s<8;s++)this.aligned_len[s]=e.readLZXBits(3);this.aligned_table=this.decodeTable(8,7,this.aligned_len);case Wc:this.readLengths(e,this.maintree_len,0,256),this.readLengths(e,this.maintree_len,256,this.main_elements),this.maintree_table=this.decodeTable(Yc,12,this.maintree_len),this.readLengths(e,this.length_len,0,249),this.length_table=this.decodeTable(250,12,this.length_len);break;case Gc:e.align(),this.R0=e.readInt32(),this.R1=e.readInt32(),this.R2=e.readInt32();break;default:throw new Rc("Invalid Blocktype Found: ".concat(this.block_type))}}for(var u=this.block_remaining;(u=this.block_remaining)>0&&i>0;){if(u>i&&(u=i),i-=u,this.block_remaining-=u,this.window_posn&=this.window_size-1,this.window_posn+u>this.window_size)throw new Rc("Cannot run outside of window frame.");switch(this.block_type){case Hc:for(;u>0;){var h=this.readHuffSymbol(e,this.maintree_table,this.maintree_len,Yc,12);if(h<Zc)this.win[this.window_posn++]=h,u--;else{var c=7&(h-=Zc);7==c&&(c+=this.readHuffSymbol(e,this.length_table,this.length_len,250,12)),c+=2;var f=h>>3;if(f>2){var l=t.extra_bits[f];if(f=t.position_base[f]-2,l>3)l-=3,f+=e.readLZXBits(l)<<3,f+=this.readHuffSymbol(e,this.aligned_table,this.aligned_len,8,7);else 3==l?f+=this.readHuffSymbol(e,this.aligned_table,this.aligned_len,8,7):l>0?f+=e.readLZXBits(l):f=1;this.R2=this.R1,this.R1=this.R0,this.R0=f}else 0===f?f=this.R0:1==f?(f=this.R1,this.R1=this.R0,this.R0=f):(f=this.R2,this.R2=this.R0,this.R0=f);var d=this.window_posn,v=void 0;if(u-=c,this.window_posn>=f)v=d-f;else{v=d+(this.window_size-f);var p=f-this.window_posn;if(p<c){for(c-=p,this.window_posn+=p;p-- >0;)this.win[d++]=this.win[v++];v=0}}for(this.window_posn+=c;c-- >0;)this.win[d++]=this.win[v++]}}break;case Wc:for(;u>0;){var y=this.readHuffSymbol(e,this.maintree_table,this.maintree_len,Yc,12);if(y<Zc)this.win[this.window_posn++]=y,u--;else{var w=7&(y-=Zc);7==w&&(w+=this.readHuffSymbol(e,this.length_table,this.length_len,250,12)),w+=2;var _=y>>3;if(_>2){if(3!=_){var g=t.extra_bits[_],b=e.readLZXBits(g);_=t.position_base[_]-2+b}else _=1;this.R2=this.R1,this.R1=this.R0,this.R0=_}else 0===_?_=this.R0:1==_?(_=this.R1,this.R1=this.R0,this.R0=_):(_=this.R2,this.R2=this.R0,this.R0=_);var m=this.window_posn,k=void 0;if(u-=w,this.window_posn>=_)k=m-_;else{k=m+(this.window_size-_);var x=_-this.window_posn;if(x<w){for(w-=x,this.window_posn+=x;x-- >0;)this.win[m++]=this.win[k++];k=0}}for(this.window_posn+=w;w-- >0;)this.win[m++]=this.win[k++]}}break;case Gc:if(e.bytePosition+u>n)throw new Rc("Overrun!"+n+" "+e.bytePosition+" "+u);for(var E=0;E<u;E++)this.win[window_posn+E]=e.buffer[e.bytePosition+E];e.bytePosition+=u,this.window_posn+=u;break;default:throw new Rc("Invalid blocktype specified!")}}}if(0!=i)throw new Rc("EOF reached with data left to go.");e.align();var A=(0==this.window_posn?this.window_size:this.window_posn)-r;return this.win.slice(A,A+r)}},{key:"readLengths",value:function(t,e,r,n){for(var i=0;i<20;i++)this.pretree_len[i]=t.readLZXBits(4);this.pretree_table=this.decodeTable(20,6,this.pretree_len);for(var a=r;a<n;){var o=this.readHuffSymbol(t,this.pretree_table,this.pretree_len,20,6);if(17==o)for(var s=t.readLZXBits(4)+4;0!=s--;)e[a++]=0;else if(18==o)for(var u=t.readLZXBits(5)+20;0!=u--;)e[a++]=0;else if(19==o){var h=t.readLZXBits(1)+4;for(o=this.readHuffSymbol(t,this.pretree_table,this.pretree_len,20,6),(o=e[a]-o)<0&&(o+=17);0!=h--;)e[a++]=o}else(o=e[a]-o)<0&&(o+=17),e[a++]=o}return e}},{key:"decodeTable",value:function(t,e,r){for(var n=[],i=0,a=1<<e,o=a>>1,s=1;s<=e;s++){for(var u=0;u<t;u++)if(r[u]==s){var h=i;if((i+=o)>a)throw new Rc("Overrun table!");for(var c=o;c-- >0;)n[h++]=u}o>>=1}if(i==a)return n;for(var f=i;f<a;f++)n[f]=65535;var l=a>>1<t?t:a>>1;i<<=16,a<<=16,o=32768;for(var d=e+1;d<=16;d++){for(var v=0;v<t;v++)if(r[v]==d){for(var p=i>>16,y=0;y<d-e;y++)65535==n[p]&&(n[l<<1]=65535,n[1+(l<<1)]=65535,n[p]=l++),p=n[p]<<1,i>>15-y&1&&p++;if(n[p]=v,(i+=o)>a)throw new Rc("Overrun table during decoding.")}o>>=1}if(i==a)return n;throw new Rc("Decode table did not reach table mask.")}},{key:"readHuffSymbol",value:function(t,e,r,n,i){var a=t.peekLZXBits(32)>>>0,o=e[t.peekLZXBits(i)];if(o>=n){var s=1<<32-i;do{if(o<<=1,o|=0!=(a&(s>>=1))?1:0,0==s)return 0}while((o=e[o])>=n)}return t.bitPosition+=r[o],o}},{key:"RRR",set:function(t){if(this.R0!=t&&this.R1!=t&&this.R2!=t)this.R2=this.R1,this.R1=this.R0,this.R0=t;else if(this.R1==t){var e=this.R1;this.R1=this.R0,this.R0=e}else if(this.R2==t){var r=this.R2;this.R2=this.R0,this.R0=r}}}]),t}();Kc.position_base=[],Kc.extra_bits=[];var Jc=function(){function t(){ou(this,t)}return uu(t,null,[{key:"decompress",value:function(t,e,r){for(var n,i,a=0,o=new Kc(16),s=new Vc(r);a<e;){if(255==t.readByte()?(i=t.readLZXInt16(),n=t.readLZXInt16(),a+=5):(t.seek(-1),n=t.readLZXInt16(this.buffer),i=32768,a+=2),0==n||0==i)break;if(n>65536||i>65536)throw new Rc("Invalid size read in compression content.");s.write(o.decompress(t,i,n)),a+=n}return console.log("File has been successfully decompressed!"),s.trim(),s.buffer}}]),t}(),qc=function(){function t(){ou(this,t)}return uu(t,null,[{key:"hashU32",value:function(t){return-1252372727^(t=(t=(t=(t=-949894596^(t=(t|=0)+2127912214+(t<<12)|0)^t>>>19)+374761393+(t<<5)|0)+-744332180^t<<9)+-42973499+(t<<3)|0)^t>>>16|0}},{key:"readU64",value:function(t,e){var r=0;return r|=t[e++]<<0,r|=t[e++]<<8,r|=t[e++]<<16,r|=t[e++]<<24,r|=t[e++]<<32,r|=t[e++]<<40,r|=t[e++]<<48,r|=t[e++]<<56}},{key:"readU32",value:function(t,e){var r=0;return r|=t[e++]<<0,r|=t[e++]<<8,r|=t[e++]<<16,r|=t[e++]<<24}},{key:"writeU32",value:function(t,e,r){t[e++]=r>>0&255,t[e++]=r>>8&255,t[e++]=r>>16&255,t[e++]=r>>24&255}},{key:"imul",value:function(t,e){var r=65535&t,n=65535&e;return r*n+((t>>>16)*n+r*(e>>>16)<<16)|0}}]),t}(),$c=65536,Qc=15;!function(t){try{new Uint8Array(t)}catch(n){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e}}(5<<20);var tf=function(){try{return new Uint32Array($c)}catch(r){for(var t=new Array($c),e=0;e<$c;e++)t[e]=0;return t}}();function ef(t,e){return function(t){for(var e=0;e<$c;e++)tf[e]=0}(),function(t,e,r,n,i){var a,o,s,u,h,c,f,l;if(c=0,f=n+r,o=r,n>=13)for(var d=67;r+4<f-5;){var v=qc.readU32(t,r),p=qc.hashU32(v)>>>0;if(a=i[p=(p>>16^p)>>>0&65535]-1,i[p]=r+1,a<0||r-a>>>16>0||qc.readU32(t,a)!==v)r+=d++>>6;else{for(d=67,h=r-o,u=r-a,a+=4,s=r+=4;r<f-5&&t[r]===t[a];)r++,a++;var y=(s=r-s)<15?s:15;if(h>=Qc){for(e[c++]=240+y,l=h-Qc;l>=255;l-=255)e[c++]=255;e[c++]=l}else e[c++]=(h<<4)+y;for(var w=0;w<h;w++)e[c++]=t[o+w];if(e[c++]=u,e[c++]=u>>8,s>=15){for(l=s-15;l>=255;l-=255)e[c++]=255;e[c++]=l}o=r}}if(0===o)return 0;if((h=f-o)>=Qc){for(e[c++]=240,l=h-Qc;l>=255;l-=255)e[c++]=255;e[c++]=l}else e[c++]=h<<4;for(r=o;r<f;)e[c++]=t[r++];return c}(t,e,0,t.length,tf)}var rf=[55296,56320];function nf(t){var e;if("number"==typeof t&&(t=[t]),null===(e=t)||void 0===e||!e.length)throw new Error("Invalid codeset!");return 1===t.length?t[0]:((1023&t[0])<<10)+(1023&t[1])+65536}function af(t){var e=function(t){for(var e=ku({length:t.length},(function(e,r){return t.charCodeAt(r)})),r=[],n=0;n<t.length;){var i=e[n];(rf[0]&i)!==rf[0]?(r.push(i),n++):(r.push(nf(e.slice(n,n+2))),n+=2)}return r}(t);return e.reduce((function(t,e){return e<128?t+1:e<2048?t+2:e<65536?t+3:t+4}),0)}var of=function(){function t(){ou(this,t)}return uu(t,[{key:"read",value:function(t){var e=t.read7BitNumber();return t.readString(e)}},{key:"write",value:function(t,e){var r=af(e);t.write7BitNumber(r),t.writeString(e)}}]),t}(),sf=function(){function t(e){ou(this,t),this.readers=e}return uu(t,[{key:"read",value:function(t){var e=t.read7BitNumber()-1;if(null==this.readers[e])throw new Rc("Invalid reader index ".concat(e));return this.readers[e].read(t,this)}},{key:"write",value:function(t,e){this.readers[0].write(t,e,this)}},{key:"getIndex",value:function(t){for(var e=0,r=this.readers.length;e<r;e++)if(t.toString()===this.readers[e].toString())return e}}]),t}(),uf=function(){function t(e,r,n){ou(this,t);var i=e.target,a=e.formatVersion,o=e.hidef,s=e.compressed;this.header={target:i,formatVersion:a,hidef:o,compressed:s},this.readers=r,this.content=n}return uu(t,[{key:"target",get:function(){var t;switch(null===(t=this.header)||void 0===t?void 0:t.target){case"w":return"Microsoft Windows";case"m":return"Windows Phone 7";case"x":return"Xbox 360";case"a":return"Android";case"i":return"iOS";default:return"Unknown"}}},{key:"formatVersion",get:function(){var t;switch(null===(t=this.header)||void 0===t?void 0:t.formatVersion){case 3:return"XNA Game Studio 3.0";case 4:return"XNA Game Studio 3.1";case 5:return"XNA Game Studio 4.0";default:return"Unknown"}}},{key:"hidef",get:function(){var t;return!(null===(t=this.header)||void 0===t||!t.hidef)}},{key:"compressed",get:function(){var t;return!(null===(t=this.header)||void 0===t||!t.compressed)}},{key:"contentType",get:function(){var t=this.content.export;return void 0!==t?t.type:"JSON"}},{key:"rawContent",get:function(){var t=this.content.export;return void 0!==t?t.data:JSON.stringify(this.content,(function(t,e){return"export"===t?e.type:e}),4)}},{key:"stringify",value:function(){return JSON.stringify({header:this.header,readers:this.readers,content:this.content},null,4)}},{key:"toString",value:function(){return this.stringify()}}]),t}();var hf=uu((function t(e,r){ou(this,t),this.type=function(t){switch(t){case"json":return"JSON";case"yaml":return"yaml";case"png":return"Texture2D";case"cso":return"Effect";case"tbin":return"TBin";case"xml":return"BmFont"}return"Others"}(r),this.content=e})),cf=64,ff=128,lf=14,df=function(){function t(){ou(this,t),this.target="",this.formatVersion=0,this.hidef=!1,this.compressed=!1,this.compressionType=0,this.buffer=null,this.fileSize=0,this.readers=[],this.sharedResources=[]}return uu(t,[{key:"load",value:function(t){if(this.buffer=new Fc(t),this._validateHeader(),console.info("XNB file validated successfully!"),this.fileSize=this.buffer.readUInt32(),this.buffer.size!=this.fileSize)throw new Rc("XNB file has been truncated!");if(this.compressed){var e=this.buffer.readUInt32();if(this.compressionType==ff){var r=this.fileSize-lf,n=Jc.decompress(this.buffer,r,e);this.buffer.copyFrom(n,lf,0,e),this.buffer.bytePosition=lf}else if(this.compressionType==cf){var i=this.buffer.buffer.slice(lf),a=new Uint8Array(i),o=new Uint8Array(e);!function(t,e){var r,n,i,a,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-2*s,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=void 0!==e.copyWithin&&void 0!==e.fill;for(i=s+u;s<i;){var f=t[s++],l=f>>4;if(l>0){if(15===l)for(;l+=t[s],255===t[s++];);for(a=s+l;s<a;)e[h++]=t[s++]}if(s>=i)break;if(r=15&f,n=t[s++]|t[s++]<<8,15===r)for(;r+=t[s],255===t[s++];);if(r+=4,c&&1===n)e.fill(0|e[h-1],h,h+r),h+=r;else if(c&&n>r&&r>31)e.copyWithin(h,h-n,h-n+r),h+=r;else for(a=(o=h-n)+r;o<a;)e[h++]=0|e[o++]}}(a,o),this.buffer.copyFrom(o,lf,0,e),this.buffer.bytePosition=lf}}for(var s=this.buffer.read7BitNumber(),u=new of,h=[],c=0;c<s;c++){var f=u.read(this.buffer),l=this.buffer.readInt32(),d=Sc.getReaderFromRaw(f);this.readers.push(d),h.push({type:f,version:l})}var v=this.buffer.read7BitNumber();if(0!=v)throw new Rc("Unexpected (".concat(v,") shared resources."));var p=new sf(this.readers).read(this.buffer);return console.log("Successfuly read XNB file!"),new uf({target:this.target,formatVersion:this.formatVersion,hidef:this.hidef,compressed:this.compressed},h,p)}},{key:"convert",value:function(t){var e=new Vc,r=new of,n=t.header,i=n.target,a=n.formatVersion,o=n.hidef,s=n.compressed;this.target=i,this.formatVersion=a,this.hidef=o;var u="a"==this.target||"i"==this.target||0!=(s&cf);this.compressed=!!u,e.writeString("XNB"),e.writeString(this.target),e.writeByte(this.formatVersion),e.writeByte(this.hidef|(this.compressed&&u?cf:0)),e.writeUInt32(0),u&&e.writeUInt32(0),e.write7BitNumber(t.readers.length);for(var h=0,c=t.readers;h<c.length;h++){var f=c[h];this.readers.push(Sc.getReaderFromRaw(f.type)),r.write(e,f.type),e.writeUInt32(f.version)}if(e.write7BitNumber(0),new sf(this.readers).write(e,t.content),e.trim(),u){var l=e.buffer.slice(lf),d=new Uint8Array(l),v=function(t){return t+t/255+16|0}(d.length),p=new Uint8Array(v);return v=ef(d,p),p=p.slice(0,v),e.bytePosition=6,e.writeUInt32(lf+v),e.writeUInt32(d.length),e.concat(p),e.buffer.slice(0,lf+v)}var y=e.bytePosition;return e.bytePosition=6,e.writeUInt32(y,6),e.buffer}},{key:"_validateHeader",value:function(){if(null==this.buffer)throw new Rc("Buffer is null");var t=this.buffer.readString(3);if("XNB"!=t)throw new Rc('Invalid file magic found, expecting "XNB", found "'.concat(t,'"'));this.target=this.buffer.readString(1).toLowerCase(),this.formatVersion=this.buffer.readByte();var e=this.buffer.readByte(1);this.hidef=0!=(1&e),this.compressed=e&ff||0!=(e&cf),this.compressionType=0!=(e&ff)?ff:e&cf?cf:0}}]),t}();function vf(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.r,i=r.g,a=void 0===i?n:i,o=r.b,s=void 0===o?n:o,u=r.a,h=void 0===u?255:u;return t[4*e+0]=n,t[4*e+1]=a,t[4*e+2]=s,t[4*e+3]=h,[n,a,s,h]}function pf(t){t.width,t.height;var e=t.channels,r=t.depth,n=t.data;return t.palette?function(t,e,r){for(var n=new Uint8Array(t),i=8*n.length/e,a=new Uint8Array(4*i),o=0,s=0;s<i;s++){var u=Math.floor(o/8),h=8-o%8-e,c=r[16===e?n[u]<<8|n[u+1]:n[u]>>h&Math.pow(2,e)-1];a[4*s]=c[0],a[4*s+1]=c[1],a[4*s+2]=c[2],a[4*s+3]=c[3],o+=e}return a}(n,r,t.palette):(16===r&&(n=function(t){for(var e=new Uint16Array(t),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e[n]>>8;return r}(n)),e<4&&(n=function(t,e){var r=t.length/e,n=new Uint8Array(4*r);if(4===e)return t;if(1===e)for(var i=0;i<r;i++)vf(n,i,{r:t[i]});else if(2===e)for(var a=0;a<r;a++)vf(n,a,{r:t[2*a],a:t[2*a+1]});else if(3===e)for(var o=0;o<r;o++)vf(n,o,{r:t[3*o],g:t[3*o+1],b:t[3*o+2]});return n}(n,e)),n)}var yf={396:function(){!function(t){if(t.TextEncoder&&t.TextDecoder)return!1;function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8";if("utf-8"!==t)throw new RangeError("Failed to construct 'TextEncoder': The encoding label provided ('".concat(t,"') is invalid."))}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fatal:!1};if("utf-8"!==t)throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('".concat(t,"') is invalid."));if(e.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stream:!1};if(e.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");for(var r=0,n=t.length,i=0,a=Math.max(32,n+(n>>1)+7),o=new Uint8Array(a>>3<<3);r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319){if(r<n){var u=t.charCodeAt(r);56320==(64512&u)&&(++r,s=((1023&s)<<10)+(1023&u)+65536)}if(s>=55296&&s<=56319)continue}if(i+4>o.length){a+=8,a=(a*=1+r/t.length*2)>>3<<3;var h=new Uint8Array(a);h.set(o),o=h}if(0!=(4294967168&s)){if(0==(4294965248&s))o[i++]=s>>6&31|192;else if(0==(4294901760&s))o[i++]=s>>12&15|224,o[i++]=s>>6&63|128;else{if(0!=(4292870144&s))continue;o[i++]=s>>18&7|240,o[i++]=s>>12&63|128,o[i++]=s>>6&63|128}o[i++]=63&s|128}else o[i++]=s}return o.slice(0,i)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1}),r.prototype.decode=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stream:!1};if(e.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");for(var r=new Uint8Array(t),n=0,i=r.length,a=[];n<i;){var o=r[n++];if(0===o)break;if(0==(128&o))a.push(o);else if(192==(224&o)){var s=63&r[n++];a.push((31&o)<<6|s)}else if(224==(240&o)){var u=63&r[n++],h=63&r[n++];a.push((31&o)<<12|u<<6|h)}else if(240==(248&o)){var c=(7&o)<<18|(63&r[n++])<<12|(63&r[n++])<<6|63&r[n++];c>65535&&(c-=65536,a.push(c>>>10&1023|55296),c=56320|1023&c),a.push(c)}}return String.fromCharCode.apply(null,a)},t.TextEncoder=e,t.TextDecoder=r}("undefined"!=typeof window?window:"undefined"!=typeof self?self:this)}},wf={};function _f(t){var e=wf[t];if(void 0!==e)return e.exports;var r=wf[t]={exports:{}};return yf[t].call(r.exports,r,r.exports,_f),r.exports}_f.d=function(t,e){for(var r in e)_f.o(e,r)&&!_f.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},_f.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var gf={};!function(){_f.d(gf,{P:function(){return Rr},m:function(){return Tr}}),_f(396);var t=new TextDecoder("utf-8"),e=new TextEncoder,r=function(){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8192,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ou(this,r);var n=!1;"number"==typeof t?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);var i=e.offset?e.offset>>>0:0,a=t.byteLength-i,o=i;(ArrayBuffer.isView(t)||t instanceof r)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),this.lastWrittenByte=n?a:0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}return uu(r,[{key:"available",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+t<=this.length}},{key:"isLittleEndian",value:function(){return this.littleEndian}},{key:"setLittleEndian",value:function(){return this.littleEndian=!0,this}},{key:"isBigEndian",value:function(){return!this.littleEndian}},{key:"setBigEndian",value:function(){return this.littleEndian=!1,this}},{key:"skip",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=t,this}},{key:"seek",value:function(t){return this.offset=t,this}},{key:"mark",value:function(){return this._mark=this.offset,this}},{key:"reset",value:function(){return this.offset=this._mark,this}},{key:"pushMark",value:function(){return this._marks.push(this.offset),this}},{key:"popMark",value:function(){var t=this._marks.pop();if(void 0===t)throw new Error("Mark stack empty");return this.seek(t),this}},{key:"rewind",value:function(){return this.offset=0,this}},{key:"ensureAvailable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(t)){var e=2*(this.offset+t),r=new Uint8Array(e);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=this.byteLength=e,this._data=new DataView(this.buffer)}return this}},{key:"readBoolean",value:function(){return 0!==this.readUint8()}},{key:"readInt8",value:function(){return this._data.getInt8(this.offset++)}},{key:"readUint8",value:function(){return this._data.getUint8(this.offset++)}},{key:"readByte",value:function(){return this.readUint8()}},{key:"readBytes",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=new Uint8Array(t),r=0;r<t;r++)e[r]=this.readByte();return e}},{key:"readInt16",value:function(){var t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}},{key:"readUint16",value:function(){var t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}},{key:"readInt32",value:function(){var t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}},{key:"readUint32",value:function(){var t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}},{key:"readFloat32",value:function(){var t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}},{key:"readFloat64",value:function(){var t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}},{key:"readBigInt64",value:function(){var t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}},{key:"readBigUint64",value:function(){var t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}},{key:"readChar",value:function(){return String.fromCharCode(this.readInt8())}},{key:"readChars",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="",r=0;r<t;r++)e+=this.readChar();return e}},{key:"readUtf8",value:function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e=this.readBytes(r),t.decode(e)}},{key:"writeBoolean",value:function(t){return this.writeUint8(t?255:0),this}},{key:"writeInt8",value:function(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}},{key:"writeUint8",value:function(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}},{key:"writeByte",value:function(t){return this.writeUint8(t)}},{key:"writeBytes",value:function(t){this.ensureAvailable(t.length);for(var e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}},{key:"writeInt16",value:function(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}},{key:"writeUint16",value:function(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}},{key:"writeInt32",value:function(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeUint32",value:function(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeFloat32",value:function(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeFloat64",value:function(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}},{key:"writeBigInt64",value:function(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}},{key:"writeBigUint64",value:function(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}},{key:"writeChar",value:function(t){return this.writeUint8(t.charCodeAt(0))}},{key:"writeChars",value:function(t){for(var e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}},{key:"writeUtf8",value:function(t){return this.writeBytes(function(t){return e.encode(t)}(t))}},{key:"toArray",value:function(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}},{key:"_updateLastWrittenByte",value:function(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}]),r}();function n(t){for(var e=t.length;--e>=0;)t[e]=0}var i=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),a=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),o=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),s=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u=new Array(576);n(u);var h=new Array(60);n(h);var c=new Array(512);n(c);var f=new Array(256);n(f);var l=new Array(29);n(l);var d,v,p,y=new Array(30);function w(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function _(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}n(y);var g=function(t){return t<256?c[t]:c[256+(t>>>7)]},b=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},m=function(t,e,r){t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,b(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},k=function(t,e,r){m(t,r[2*e],r[2*e+1])},x=function(t,e){var r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},E=function(t,e,r){var n,i,a=new Array(16),o=0;for(n=1;n<=15;n++)a[n]=o=o+r[n-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=x(a[s]++,s))}},A=function(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},T=function(t){t.bi_valid>8?b(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},R=function(t,e,r,n){var i=2*e,a=2*r;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]},O=function(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&R(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!R(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},S=function(t,e,r){var n,o,s,u,h=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*h]<<8|t.pending_buf[t.d_buf+2*h+1],o=t.pending_buf[t.l_buf+h],h++,0===n?k(t,o,e):(s=f[o],k(t,s+256+1,e),0!==(u=i[s])&&(o-=l[s],m(t,o,u)),n--,s=g(n),k(t,s,r),0!==(u=a[s])&&(n-=y[s],m(t,n,u)))}while(h<t.last_lit);k(t,256,e)},U=function(t,e){var r,n,i,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<u;r++)0!==a[2*r]?(t.heap[++t.heap_len]=h=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)a[2*(i=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=o[2*i+1]);for(e.max_code=h,r=t.heap_len>>1;r>=1;r--)O(t,a,r);i=u;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],O(t,a,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,a[2*i]=a[2*r]+a[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,a[2*r+1]=a[2*n+1]=i,t.heap[1]=i++,O(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,n,i,a,o,s,u=e.dyn_tree,h=e.max_code,c=e.stat_desc.static_tree,f=e.stat_desc.has_stree,l=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,v=e.stat_desc.max_length,p=0;for(a=0;a<=15;a++)t.bl_count[a]=0;for(u[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<573;r++)(a=u[2*u[2*(n=t.heap[r])+1]+1]+1)>v&&(a=v,p++),u[2*n+1]=a,n>h||(t.bl_count[a]++,o=0,n>=d&&(o=l[n-d]),s=u[2*n],t.opt_len+=s*(a+o),f&&(t.static_len+=s*(c[2*n+1]+o)));if(0!==p){do{for(a=v-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[v]--,p-=2}while(p>0);for(a=v;0!==a;a--)for(n=t.bl_count[a];0!==n;)(i=t.heap[--r])>h||(u[2*i+1]!==a&&(t.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),n--)}}(t,e),E(a,h,t.bl_count)},I=function(t,e,r){var n,i,a=-1,o=e[1],s=0,u=7,h=4;for(0===o&&(u=138,h=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=e[2*(n+1)+1],++s<u&&i===o||(s<h?t.bl_tree[2*i]+=s:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,a=i,0===o?(u=138,h=3):i===o?(u=6,h=3):(u=7,h=4))},L=function(t,e,r){var n,i,a=-1,o=e[1],s=0,u=7,h=4;for(0===o&&(u=138,h=3),n=0;n<=r;n++)if(i=o,o=e[2*(n+1)+1],!(++s<u&&i===o)){if(s<h)do{k(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==a&&(k(t,i,t.bl_tree),s--),k(t,16,t.bl_tree),m(t,s-3,2)):s<=10?(k(t,17,t.bl_tree),m(t,s-3,3)):(k(t,18,t.bl_tree),m(t,s-11,7));s=0,a=i,0===o?(u=138,h=3):i===o?(u=6,h=3):(u=7,h=4)}},B=!1,z=function(t,e,r,n){m(t,0+(n?1:0),3),function(t,e,r,n){T(t),b(t,r),b(t,~r),t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r}(t,e,r)},P=function(t){B||(function(){var t,e,r,n,s,_=new Array(16);for(r=0,n=0;n<28;n++)for(l[n]=r,t=0;t<1<<i[n];t++)f[r++]=n;for(f[r-1]=n,s=0,n=0;n<16;n++)for(y[n]=s,t=0;t<1<<a[n];t++)c[s++]=n;for(s>>=7;n<30;n++)for(y[n]=s<<7,t=0;t<1<<a[n]-7;t++)c[256+s++]=n;for(e=0;e<=15;e++)_[e]=0;for(t=0;t<=143;)u[2*t+1]=8,t++,_[8]++;for(;t<=255;)u[2*t+1]=9,t++,_[9]++;for(;t<=279;)u[2*t+1]=7,t++,_[7]++;for(;t<=287;)u[2*t+1]=8,t++,_[8]++;for(E(u,287,_),t=0;t<30;t++)h[2*t+1]=5,h[2*t]=x(t,5);d=new w(u,i,257,286,15),v=new w(h,a,0,30,15),p=new w(new Array(0),o,0,19,7)}(),B=!0),t.l_desc=new _(t.dyn_ltree,d),t.d_desc=new _(t.dyn_dtree,v),t.bl_desc=new _(t.bl_tree,p),t.bi_buf=0,t.bi_valid=0,A(t)},N=z,C=function(t,e,r,n){var i,a,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),U(t,t.l_desc),U(t,t.d_desc),o=function(t){var e;for(I(t,t.dyn_ltree,t.l_desc.max_code),I(t,t.dyn_dtree,t.d_desc.max_code),U(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*s[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=i&&(i=a)):i=a=r+5,r+4<=i&&-1!==e?z(t,e,r,n):4===t.strategy||a===i?(m(t,2+(n?1:0),3),S(t,u,h)):(m(t,4+(n?1:0),3),function(t,e,r,n){var i;for(m(t,e-257,5),m(t,r-1,5),m(t,n-4,4),i=0;i<n;i++)m(t,t.bl_tree[2*s[i]+1],3);L(t,t.dyn_ltree,e-1),L(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),S(t,t.dyn_ltree,t.dyn_dtree)),A(t),n&&T(t)},M=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(f[r]+256+1)]++,t.dyn_dtree[2*g(e)]++),t.last_lit===t.lit_bufsize-1},D=function(t){m(t,2,3),k(t,256,u),function(t){16===t.bi_valid?(b(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)},j=function(t,e,r,n){for(var i=65535&t|0,a=t>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{a=a+(i=i+e[n++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0},F=new Uint32Array(function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}()),V=function(t,e,r,n){var i=F,a=n+r;t^=-1;for(var o=n;o<a;o++)t=t>>>8^i[255&(t^e[o])];return-1^t},Z={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},X={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},W=P,H=N,G=C,Y=M,K=D,J=X.Z_NO_FLUSH,q=X.Z_PARTIAL_FLUSH,$=X.Z_FULL_FLUSH,Q=X.Z_FINISH,tt=X.Z_BLOCK,et=X.Z_OK,rt=X.Z_STREAM_END,nt=X.Z_STREAM_ERROR,it=X.Z_DATA_ERROR,at=X.Z_BUF_ERROR,ot=X.Z_DEFAULT_COMPRESSION,st=X.Z_FILTERED,ut=X.Z_HUFFMAN_ONLY,ht=X.Z_RLE,ct=X.Z_FIXED,ft=X.Z_UNKNOWN,lt=X.Z_DEFLATED,dt=258,vt=262,pt=103,yt=113,wt=666,_t=function(t,e){return t.msg=Z[e],e},gt=function(t){return(t<<1)-(t>4?9:0)},bt=function(t){for(var e=t.length;--e>=0;)t[e]=0},mt=function(t,e,r){return(e<<t.hash_shift^r)&t.hash_mask},kt=function(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},xt=function(t,e){G(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,kt(t.strm)},Et=function(t,e){t.pending_buf[t.pending++]=e},At=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Tt=function(t,e,r,n){var i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=j(t.adler,e,i,r):2===t.state.wrap&&(t.adler=V(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},Rt=function(t,e){var r,n,i=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-vt?t.strstart-(t.w_size-vt):0,h=t.window,c=t.w_mask,f=t.prev,l=t.strstart+dt,d=h[a+o-1],v=h[a+o];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(h[(r=e)+o]===v&&h[r+o-1]===d&&h[r]===h[a]&&h[++r]===h[a+1]){a+=2,r++;do{}while(h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&a<l);if(n=dt-(l-a),a=l-dt,n>o){if(t.match_start=e,o=n,n>=s)break;d=h[a+o-1],v=h[a+o]}}}while((e=f[e&c])>u&&0!=--i);return o<=t.lookahead?o:t.lookahead},Ot=function(t){var e,r,n,i,a,o=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=o+(o-vt)){t.window.set(t.window.subarray(o,o+o),0),t.match_start-=o,t.strstart-=o,t.block_start-=o,e=r=t.hash_size;do{n=t.head[--e],t.head[e]=n>=o?n-o:0}while(--r);e=r=o;do{n=t.prev[--e],t.prev[e]=n>=o?n-o:0}while(--r);i+=o}if(0===t.strm.avail_in)break;if(r=Tt(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=r,t.lookahead+t.insert>=3)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=mt(t,t.ins_h,t.window[a+1]);t.insert&&(t.ins_h=mt(t,t.ins_h,t.window[a+3-1]),t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<vt&&0!==t.strm.avail_in)},St=function(t,e){for(var r,n;;){if(t.lookahead<vt){if(Ot(t),t.lookahead<vt&&e===J)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=mt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-vt&&(t.match_length=Rt(t,r)),t.match_length>=3)if(n=Y(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=mt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=mt(t,t.ins_h,t.window[t.strstart+1]);else n=Y(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(xt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Q?(xt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(xt(t,!1),0===t.strm.avail_out)?1:2},Ut=function(t,e){for(var r,n,i;;){if(t.lookahead<vt){if(Ot(t),t.lookahead<vt&&e===J)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=mt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-vt&&(t.match_length=Rt(t,r),t.match_length<=5&&(t.strategy===st||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=Y(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=mt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(xt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=Y(t,0,t.window[t.strstart-1]))&&xt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Y(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Q?(xt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(xt(t,!1),0===t.strm.avail_out)?1:2};function It(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}var Lt=[new It(0,0,0,0,(function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Ot(t),0===t.lookahead&&e===J)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,xt(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-vt&&(xt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Q?(xt(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(xt(t,!1),t.strm.avail_out),1)})),new It(4,4,8,4,St),new It(4,5,16,8,St),new It(4,6,32,32,St),new It(4,4,16,16,Ut),new It(8,16,32,32,Ut),new It(8,16,128,128,Ut),new It(8,32,128,256,Ut),new It(32,128,258,1024,Ut),new It(32,258,258,4096,Ut)];function Bt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=lt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),bt(this.dyn_ltree),bt(this.dyn_dtree),bt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),bt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),bt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var zt=function(t){var e,r=function(t){if(!t||!t.state)return _t(t,nt);t.total_in=t.total_out=0,t.data_type=ft;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:yt,t.adler=2===e.wrap?0:1,e.last_flush=J,W(e),et}(t);return r===et&&((e=t.state).window_size=2*e.w_size,bt(e.head),e.max_lazy_match=Lt[e.level].max_lazy,e.good_match=Lt[e.level].good_length,e.nice_match=Lt[e.level].nice_length,e.max_chain_length=Lt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),r},Pt=function(t,e,r,n,i,a){if(!t)return nt;var o=1;if(e===ot&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>9||r!==lt||n<8||n>15||e<0||e>9||a<0||a>ct)return _t(t,nt);8===n&&(n=9);var s=new Bt;return t.state=s,s.strm=t,s.wrap=o,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=a,s.method=r,zt(t)},Nt=function(t,e){var r,n;if(!t||!t.state||e>tt||e<0)return t?_t(t,nt):nt;var i=t.state;if(!t.output||!t.input&&0!==t.avail_in||i.status===wt&&e!==Q)return _t(t,0===t.avail_out?at:nt);i.strm=t;var a=i.last_flush;if(i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,Et(i,31),Et(i,139),Et(i,8),i.gzhead?(Et(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Et(i,255&i.gzhead.time),Et(i,i.gzhead.time>>8&255),Et(i,i.gzhead.time>>16&255),Et(i,i.gzhead.time>>24&255),Et(i,9===i.level?2:i.strategy>=ut||i.level<2?4:0),Et(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Et(i,255&i.gzhead.extra.length),Et(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=V(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(Et(i,0),Et(i,0),Et(i,0),Et(i,0),Et(i,0),Et(i,9===i.level?2:i.strategy>=ut||i.level<2?4:0),Et(i,3),i.status=yt);else{var o=lt+(i.w_bits-8<<4)<<8;o|=(i.strategy>=ut||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(o|=32),o+=31-o%31,i.status=yt,At(i,o),0!==i.strstart&&(At(i,t.adler>>>16),At(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(t.adler=V(t.adler,i.pending_buf,i.pending-r,r)),kt(t),r=i.pending,i.pending!==i.pending_buf_size));)Et(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(t.adler=V(t.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=V(t.adler,i.pending_buf,i.pending-r,r)),kt(t),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Et(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(t.adler=V(t.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=V(t.adler,i.pending_buf,i.pending-r,r)),kt(t),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Et(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(t.adler=V(t.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.status=pt)}else i.status=pt;if(i.status===pt&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&kt(t),i.pending+2<=i.pending_buf_size&&(Et(i,255&t.adler),Et(i,t.adler>>8&255),t.adler=0,i.status=yt)):i.status=yt),0!==i.pending){if(kt(t),0===t.avail_out)return i.last_flush=-1,et}else if(0===t.avail_in&&gt(e)<=gt(a)&&e!==Q)return _t(t,at);if(i.status===wt&&0!==t.avail_in)return _t(t,at);if(0!==t.avail_in||0!==i.lookahead||e!==J&&i.status!==wt){var s=i.strategy===ut?function(t,e){for(var r;;){if(0===t.lookahead&&(Ot(t),0===t.lookahead)){if(e===J)return 1;break}if(t.match_length=0,r=Y(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(xt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Q?(xt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(xt(t,!1),0===t.strm.avail_out)?1:2}(i,e):i.strategy===ht?function(t,e){for(var r,n,i,a,o=t.window;;){if(t.lookahead<=dt){if(Ot(t),t.lookahead<=dt&&e===J)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&((n=o[i=t.strstart-1])===o[++i]&&n===o[++i]&&n===o[++i])){a=t.strstart+dt;do{}while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<a);t.match_length=dt-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=Y(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=Y(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(xt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Q?(xt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(xt(t,!1),0===t.strm.avail_out)?1:2}(i,e):Lt[i.level].func(i,e);if(3!==s&&4!==s||(i.status=wt),1===s||3===s)return 0===t.avail_out&&(i.last_flush=-1),et;if(2===s&&(e===q?K(i):e!==tt&&(H(i,0,0,!1),e===$&&(bt(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),kt(t),0===t.avail_out))return i.last_flush=-1,et}return e!==Q?et:i.wrap<=0?rt:(2===i.wrap?(Et(i,255&t.adler),Et(i,t.adler>>8&255),Et(i,t.adler>>16&255),Et(i,t.adler>>24&255),Et(i,255&t.total_in),Et(i,t.total_in>>8&255),Et(i,t.total_in>>16&255),Et(i,t.total_in>>24&255)):(At(i,t.adler>>>16),At(i,65535&t.adler)),kt(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?et:rt)},Ct=function(t){if(!t||!t.state)return nt;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==pt&&e!==yt&&e!==wt?_t(t,nt):(t.state=null,e===yt?_t(t,it):et)},Mt=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},Dt=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=nu(r))throw new TypeError(r+"must be non-object");for(var n in r)Mt(r,n)&&(t[n]=r[n])}}return t},jt=function(t){for(var e=0,r=0,n=t.length;r<n;r++)e+=t[r].length;for(var i=new Uint8Array(e),a=0,o=0,s=t.length;a<s;a++){var u=t[a];i.set(u,o),o+=u.length}return i},Ft=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Ft=!1}for(var Vt=new Uint8Array(256),Zt=0;Zt<256;Zt++)Vt[Zt]=Zt>=252?6:Zt>=248?5:Zt>=240?4:Zt>=224?3:Zt>=192?2:1;Vt[254]=Vt[254]=1;var Xt=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);var e,r,n,i,a,o=t.length,s=0;for(i=0;i<o;i++)55296==(64512&(r=t.charCodeAt(i)))&&i+1<o&&(56320==(64512&(n=t.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(s),a=0,i=0;a<s;i++)55296==(64512&(r=t.charCodeAt(i)))&&i+1<o&&(56320==(64512&(n=t.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|63&r):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|63&r):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|63&r);return e},Wt=function(t,e){var r,n,i=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));var a=new Array(2*i);for(n=0,r=0;r<i;){var o=t[r++];if(o<128)a[n++]=o;else{var s=Vt[o];if(s>4)a[n++]=65533,r+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&r<i;)o=o<<6|63&t[r++],s--;s>1?a[n++]=65533:o<65536?a[n++]=o:(o-=65536,a[n++]=55296|o>>10&1023,a[n++]=56320|1023&o)}}}return function(t,e){if(e<65534&&t.subarray&&Ft)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));for(var r="",n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r}(a,n)},Ht=function(t,e){(e=e||t.length)>t.length&&(e=t.length);for(var r=e-1;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+Vt[t[r]]>e?r:e},Gt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Yt=Object.prototype.toString,Kt=X.Z_NO_FLUSH,Jt=X.Z_SYNC_FLUSH,qt=X.Z_FULL_FLUSH,$t=X.Z_FINISH,Qt=X.Z_OK,te=X.Z_STREAM_END,ee=X.Z_DEFAULT_COMPRESSION,re=X.Z_DEFAULT_STRATEGY,ne=X.Z_DEFLATED;function ie(t){this.options=Dt({level:ee,method:ne,chunkSize:16384,windowBits:15,memLevel:8,strategy:re},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Gt,this.strm.avail_out=0;var r=Pt(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Qt)throw new Error(Z[r]);if(e.header&&function(t,e){t&&t.state&&(2!==t.state.wrap||(t.state.gzhead=e))}(this.strm,e.header),e.dictionary){var n;if(n="string"==typeof e.dictionary?Xt(e.dictionary):"[object ArrayBuffer]"===Yt.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=function(t,e){var r=e.length;if(!t||!t.state)return nt;var n=t.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return nt;if(1===i&&(t.adler=j(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===i&&(bt(n.head),n.strstart=0,n.block_start=0,n.insert=0);var a=new Uint8Array(n.w_size);a.set(e.subarray(r-n.w_size,r),0),e=a,r=n.w_size}var o=t.avail_in,s=t.next_in,u=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,Ot(n);n.lookahead>=3;){var h=n.strstart,c=n.lookahead-2;do{n.ins_h=mt(n,n.ins_h,n.window[h+3-1]),n.prev[h&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=h,h++}while(--c);n.strstart=h,n.lookahead=2,Ot(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=s,t.input=u,t.avail_in=o,n.wrap=i,et}(this.strm,n),r!==Qt)throw new Error(Z[r]);this._dict_set=!0}}function ae(t,e){var r=new ie(e);if(r.push(t,!0),r.err)throw r.msg||Z[r.err];return r.result}ie.prototype.push=function(t,e){var r,n,i=this.strm,a=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?$t:Kt,"string"==typeof t?i.input=Xt(t):"[object ArrayBuffer]"===Yt.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(a),i.next_out=0,i.avail_out=a),(n===Jt||n===qt)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if((r=Nt(i,n))===te)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=Ct(this.strm),this.onEnd(r),this.ended=!0,r===Qt;if(0!==i.avail_out){if(n>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},ie.prototype.onData=function(t){this.chunks.push(t)},ie.prototype.onEnd=function(t){t===Qt&&(this.result=jt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var oe=ae,se=function(t,e){var r,n,i,a,o,s,u,h,c,f,l,d,v,p,y,w,_,g,b,m,k,x,E,A,T=t.state;r=t.next_in,E=t.input,n=r+(t.avail_in-5),i=t.next_out,A=t.output,a=i-(e-t.avail_out),o=i+(t.avail_out-257),s=T.dmax,u=T.wsize,h=T.whave,c=T.wnext,f=T.window,l=T.hold,d=T.bits,v=T.lencode,p=T.distcode,y=(1<<T.lenbits)-1,w=(1<<T.distbits)-1;t:do{d<15&&(l+=E[r++]<<d,d+=8,l+=E[r++]<<d,d+=8),_=v[l&y];e:for(;;){if(l>>>=g=_>>>24,d-=g,0===(g=_>>>16&255))A[i++]=65535&_;else{if(!(16&g)){if(0==(64&g)){_=v[(65535&_)+(l&(1<<g)-1)];continue e}if(32&g){T.mode=12;break t}t.msg="invalid literal/length code",T.mode=30;break t}b=65535&_,(g&=15)&&(d<g&&(l+=E[r++]<<d,d+=8),b+=l&(1<<g)-1,l>>>=g,d-=g),d<15&&(l+=E[r++]<<d,d+=8,l+=E[r++]<<d,d+=8),_=p[l&w];r:for(;;){if(l>>>=g=_>>>24,d-=g,!(16&(g=_>>>16&255))){if(0==(64&g)){_=p[(65535&_)+(l&(1<<g)-1)];continue r}t.msg="invalid distance code",T.mode=30;break t}if(m=65535&_,d<(g&=15)&&(l+=E[r++]<<d,(d+=8)<g&&(l+=E[r++]<<d,d+=8)),(m+=l&(1<<g)-1)>s){t.msg="invalid distance too far back",T.mode=30;break t}if(l>>>=g,d-=g,m>(g=i-a)){if((g=m-g)>h&&T.sane){t.msg="invalid distance too far back",T.mode=30;break t}if(k=0,x=f,0===c){if(k+=u-g,g<b){b-=g;do{A[i++]=f[k++]}while(--g);k=i-m,x=A}}else if(c<g){if(k+=u+c-g,(g-=c)<b){b-=g;do{A[i++]=f[k++]}while(--g);if(k=0,c<b){b-=g=c;do{A[i++]=f[k++]}while(--g);k=i-m,x=A}}}else if(k+=c-g,g<b){b-=g;do{A[i++]=f[k++]}while(--g);k=i-m,x=A}for(;b>2;)A[i++]=x[k++],A[i++]=x[k++],A[i++]=x[k++],b-=3;b&&(A[i++]=x[k++],b>1&&(A[i++]=x[k++]))}else{k=i-m;do{A[i++]=A[k++],A[i++]=A[k++],A[i++]=A[k++],b-=3}while(b>2);b&&(A[i++]=A[k++],b>1&&(A[i++]=A[k++]))}break}}break}}while(r<n&&i<o);r-=b=d>>3,l&=(1<<(d-=b<<3))-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=i<o?o-i+257:257-(i-o),T.hold=l,T.bits=d},ue=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),he=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ce=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),fe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),le=function(t,e,r,n,i,a,o,s){var u,h,c,f,l,d,v,p,y,w=s.bits,_=0,g=0,b=0,m=0,k=0,x=0,E=0,A=0,T=0,R=0,O=null,S=0,U=new Uint16Array(16),I=new Uint16Array(16),L=null,B=0;for(_=0;_<=15;_++)U[_]=0;for(g=0;g<n;g++)U[e[r+g]]++;for(k=w,m=15;m>=1&&0===U[m];m--);if(k>m&&(k=m),0===m)return i[a++]=20971520,i[a++]=20971520,s.bits=1,0;for(b=1;b<m&&0===U[b];b++);for(k<b&&(k=b),A=1,_=1;_<=15;_++)if(A<<=1,(A-=U[_])<0)return-1;if(A>0&&(0===t||1!==m))return-1;for(I[1]=0,_=1;_<15;_++)I[_+1]=I[_]+U[_];for(g=0;g<n;g++)0!==e[r+g]&&(o[I[e[r+g]]++]=g);if(0===t?(O=L=o,d=19):1===t?(O=ue,S-=257,L=he,B-=257,d=256):(O=ce,L=fe,d=-1),R=0,g=0,_=b,l=a,x=k,E=0,c=-1,f=(T=1<<k)-1,1===t&&T>852||2===t&&T>592)return 1;for(;;){v=_-E,o[g]<d?(p=0,y=o[g]):o[g]>d?(p=L[B+o[g]],y=O[S+o[g]]):(p=96,y=0),u=1<<_-E,b=h=1<<x;do{i[l+(R>>E)+(h-=u)]=v<<24|p<<16|y|0}while(0!==h);for(u=1<<_-1;R&u;)u>>=1;if(0!==u?(R&=u-1,R+=u):R=0,g++,0==--U[_]){if(_===m)break;_=e[r+o[g]]}if(_>k&&(R&f)!==c){for(0===E&&(E=k),l+=b,A=1<<(x=_-E);x+E<m&&!((A-=U[x+E])<=0);)x++,A<<=1;if(T+=1<<x,1===t&&T>852||2===t&&T>592)return 1;i[c=R&f]=k<<24|x<<16|l-a|0}}return 0!==R&&(i[l+R]=_-E<<24|64<<16|0),s.bits=k,0},de=X.Z_FINISH,ve=X.Z_BLOCK,pe=X.Z_TREES,ye=X.Z_OK,we=X.Z_STREAM_END,_e=X.Z_NEED_DICT,ge=X.Z_STREAM_ERROR,be=X.Z_DATA_ERROR,me=X.Z_MEM_ERROR,ke=X.Z_BUF_ERROR,xe=X.Z_DEFLATED,Ee=12,Ae=30,Te=function(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)};function Re(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Oe,Se,Ue=function(t){if(!t||!t.state)return ge;var e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,function(t){if(!t||!t.state)return ge;var e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,ye}(t)},Ie=!0,Le=function(t){if(Ie){Oe=new Int32Array(512),Se=new Int32Array(32);for(var e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(le(1,t.lens,0,288,Oe,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;le(2,t.lens,0,32,Se,0,t.work,{bits:5}),Ie=!1}t.lencode=Oe,t.lenbits=9,t.distcode=Se,t.distbits=5},Be=function(t,e,r,n){var i,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),(n-=i)?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},ze=Ue,Pe=function(t,e){if(!t)return ge;var r=new Re;t.state=r,r.window=null;var n=function(t,e){var r;if(!t||!t.state)return ge;var n=t.state;return e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?ge:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Ue(t))}(t,e);return n!==ye&&(t.state=null),n},Ne=function(t,e){var r,n,i,a,o,s,u,h,c,f,l,d,v,p,y,w,_,g,b,m,k,x,E,A,T=0,R=new Uint8Array(4),O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return ge;(r=t.state).mode===Ee&&(r.mode=13),o=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,n=t.input,s=t.avail_in,h=r.hold,c=r.bits,f=s,l=u,x=ye;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;c<16;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}if(2&r.wrap&&35615===h){r.check=0,R[0]=255&h,R[1]=h>>>8&255,r.check=V(r.check,R,2,0),h=0,c=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",r.mode=Ae;break}if((15&h)!==xe){t.msg="unknown compression method",r.mode=Ae;break}if(c-=4,k=8+(15&(h>>>=4)),0===r.wbits)r.wbits=k;else if(k>r.wbits){t.msg="invalid window size",r.mode=Ae;break}r.dmax=1<<r.wbits,t.adler=r.check=1,r.mode=512&h?10:Ee,h=0,c=0;break;case 2:for(;c<16;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}if(r.flags=h,(255&r.flags)!==xe){t.msg="unknown compression method",r.mode=Ae;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=Ae;break}r.head&&(r.head.text=h>>8&1),512&r.flags&&(R[0]=255&h,R[1]=h>>>8&255,r.check=V(r.check,R,2,0)),h=0,c=0,r.mode=3;case 3:for(;c<32;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}r.head&&(r.head.time=h),512&r.flags&&(R[0]=255&h,R[1]=h>>>8&255,R[2]=h>>>16&255,R[3]=h>>>24&255,r.check=V(r.check,R,4,0)),h=0,c=0,r.mode=4;case 4:for(;c<16;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}r.head&&(r.head.xflags=255&h,r.head.os=h>>8),512&r.flags&&(R[0]=255&h,R[1]=h>>>8&255,r.check=V(r.check,R,2,0)),h=0,c=0,r.mode=5;case 5:if(1024&r.flags){for(;c<16;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}r.length=h,r.head&&(r.head.extra_len=h),512&r.flags&&(R[0]=255&h,R[1]=h>>>8&255,r.check=V(r.check,R,2,0)),h=0,c=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((d=r.length)>s&&(d=s),d&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+d),k)),512&r.flags&&(r.check=V(r.check,n,d,a)),s-=d,a+=d,r.length-=d),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===s)break t;d=0;do{k=n[a+d++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k))}while(k&&d<s);if(512&r.flags&&(r.check=V(r.check,n,d,a)),s-=d,a+=d,k)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===s)break t;d=0;do{k=n[a+d++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k))}while(k&&d<s);if(512&r.flags&&(r.check=V(r.check,n,d,a)),s-=d,a+=d,k)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;c<16;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}if(h!==(65535&r.check)){t.msg="header crc mismatch",r.mode=Ae;break}h=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Ee;break;case 10:for(;c<32;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}t.adler=r.check=Te(h),h=0,c=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=s,r.hold=h,r.bits=c,_e;t.adler=r.check=1,r.mode=Ee;case Ee:if(e===ve||e===pe)break t;case 13:if(r.last){h>>>=7&c,c-=7&c,r.mode=27;break}for(;c<3;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}switch(r.last=1&h,c-=1,3&(h>>>=1)){case 0:r.mode=14;break;case 1:if(Le(r),r.mode=20,e===pe){h>>>=2,c-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=Ae}h>>>=2,c-=2;break;case 14:for(h>>>=7&c,c-=7&c;c<32;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Ae;break}if(r.length=65535&h,h=0,c=0,r.mode=15,e===pe)break t;case 15:r.mode=16;case 16:if(d=r.length){if(d>s&&(d=s),d>u&&(d=u),0===d)break t;i.set(n.subarray(a,a+d),o),s-=d,a+=d,u-=d,o+=d,r.length-=d;break}r.mode=Ee;break;case 17:for(;c<14;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}if(r.nlen=257+(31&h),h>>>=5,c-=5,r.ndist=1+(31&h),h>>>=5,c-=5,r.ncode=4+(15&h),h>>>=4,c-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Ae;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;c<3;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}r.lens[O[r.have++]]=7&h,h>>>=3,c-=3}for(;r.have<19;)r.lens[O[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,E={bits:r.lenbits},x=le(0,r.lens,0,19,r.lencode,0,r.work,E),r.lenbits=E.bits,x){t.msg="invalid code lengths set",r.mode=Ae;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;w=(T=r.lencode[h&(1<<r.lenbits)-1])>>>16&255,_=65535&T,!((y=T>>>24)<=c);){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}if(_<16)h>>>=y,c-=y,r.lens[r.have++]=_;else{if(16===_){for(A=y+2;c<A;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}if(h>>>=y,c-=y,0===r.have){t.msg="invalid bit length repeat",r.mode=Ae;break}k=r.lens[r.have-1],d=3+(3&h),h>>>=2,c-=2}else if(17===_){for(A=y+3;c<A;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}c-=y,k=0,d=3+(7&(h>>>=y)),h>>>=3,c-=3}else{for(A=y+7;c<A;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}c-=y,k=0,d=11+(127&(h>>>=y)),h>>>=7,c-=7}if(r.have+d>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Ae;break}for(;d--;)r.lens[r.have++]=k}}if(r.mode===Ae)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=Ae;break}if(r.lenbits=9,E={bits:r.lenbits},x=le(1,r.lens,0,r.nlen,r.lencode,0,r.work,E),r.lenbits=E.bits,x){t.msg="invalid literal/lengths set",r.mode=Ae;break}if(r.distbits=6,r.distcode=r.distdyn,E={bits:r.distbits},x=le(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,E),r.distbits=E.bits,x){t.msg="invalid distances set",r.mode=Ae;break}if(r.mode=20,e===pe)break t;case 20:r.mode=21;case 21:if(s>=6&&u>=258){t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=s,r.hold=h,r.bits=c,se(t,l),o=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,n=t.input,s=t.avail_in,h=r.hold,c=r.bits,r.mode===Ee&&(r.back=-1);break}for(r.back=0;w=(T=r.lencode[h&(1<<r.lenbits)-1])>>>16&255,_=65535&T,!((y=T>>>24)<=c);){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}if(w&&0==(240&w)){for(g=y,b=w,m=_;w=(T=r.lencode[m+((h&(1<<g+b)-1)>>g)])>>>16&255,_=65535&T,!(g+(y=T>>>24)<=c);){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}h>>>=g,c-=g,r.back+=g}if(h>>>=y,c-=y,r.back+=y,r.length=_,0===w){r.mode=26;break}if(32&w){r.back=-1,r.mode=Ee;break}if(64&w){t.msg="invalid literal/length code",r.mode=Ae;break}r.extra=15&w,r.mode=22;case 22:if(r.extra){for(A=r.extra;c<A;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;w=(T=r.distcode[h&(1<<r.distbits)-1])>>>16&255,_=65535&T,!((y=T>>>24)<=c);){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}if(0==(240&w)){for(g=y,b=w,m=_;w=(T=r.distcode[m+((h&(1<<g+b)-1)>>g)])>>>16&255,_=65535&T,!(g+(y=T>>>24)<=c);){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}h>>>=g,c-=g,r.back+=g}if(h>>>=y,c-=y,r.back+=y,64&w){t.msg="invalid distance code",r.mode=Ae;break}r.offset=_,r.extra=15&w,r.mode=24;case 24:if(r.extra){for(A=r.extra;c<A;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Ae;break}r.mode=25;case 25:if(0===u)break t;if(d=l-u,r.offset>d){if((d=r.offset-d)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Ae;break}d>r.wnext?(d-=r.wnext,v=r.wsize-d):v=r.wnext-d,d>r.length&&(d=r.length),p=r.window}else p=i,v=o-r.offset,d=r.length;d>u&&(d=u),u-=d,r.length-=d;do{i[o++]=p[v++]}while(--d);0===r.length&&(r.mode=21);break;case 26:if(0===u)break t;i[o++]=r.length,u--,r.mode=21;break;case 27:if(r.wrap){for(;c<32;){if(0===s)break t;s--,h|=n[a++]<<c,c+=8}if(l-=u,t.total_out+=l,r.total+=l,l&&(t.adler=r.check=r.flags?V(r.check,i,l,o-l):j(r.check,i,l,o-l)),l=u,(r.flags?h:Te(h))!==r.check){t.msg="incorrect data check",r.mode=Ae;break}h=0,c=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;c<32;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}if(h!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=Ae;break}h=0,c=0}r.mode=29;case 29:x=we;break t;case Ae:x=be;break t;case 31:return me;default:return ge}return t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=s,r.hold=h,r.bits=c,(r.wsize||l!==t.avail_out&&r.mode<Ae&&(r.mode<27||e!==de))&&Be(t,t.output,t.next_out,l-t.avail_out),f-=t.avail_in,l-=t.avail_out,t.total_in+=f,t.total_out+=l,r.total+=l,r.wrap&&l&&(t.adler=r.check=r.flags?V(r.check,i,l,t.next_out-l):j(r.check,i,l,t.next_out-l)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Ee?128:0)+(20===r.mode||15===r.mode?256:0),(0===f&&0===l||e===de)&&x===ye&&(x=ke),x},Ce=function(t){if(!t||!t.state)return ge;var e=t.state;return e.window&&(e.window=null),t.state=null,ye},Me=function(t,e){var r,n=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?ge:11===r.mode&&j(1,e,n,0)!==r.check?be:Be(t,e,n,n)?(r.mode=31,me):(r.havedict=1,ye):ge},De=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},je=Object.prototype.toString,Fe=X.Z_NO_FLUSH,Ve=X.Z_FINISH,Ze=X.Z_OK,Xe=X.Z_STREAM_END,We=X.Z_NEED_DICT,He=X.Z_STREAM_ERROR,Ge=X.Z_DATA_ERROR,Ye=X.Z_MEM_ERROR;function Ke(t){this.options=Dt({chunkSize:65536,windowBits:15,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Gt,this.strm.avail_out=0;var r=Pe(this.strm,e.windowBits);if(r!==Ze)throw new Error(Z[r]);if(this.header=new De,function(t,e){if(!t||!t.state)return ge;var r=t.state;0==(2&r.wrap)||(r.head=e,e.done=!1)}(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Xt(e.dictionary):"[object ArrayBuffer]"===je.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Me(this.strm,e.dictionary))!==Ze))throw new Error(Z[r])}function Je(t,e){var r=new Ke(e);if(r.push(t),r.err)throw r.msg||Z[r.err];return r.result}Ke.prototype.push=function(t,e){var r,n,i,a=this.strm,o=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(n=e===~~e?e:!0===e?Ve:Fe,"[object ArrayBuffer]"===je.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(o),a.next_out=0,a.avail_out=o),(r=Ne(a,n))===We&&s&&((r=Me(a,s))===Ze?r=Ne(a,n):r===Ge&&(r=We));a.avail_in>0&&r===Xe&&a.state.wrap>0&&0!==t[a.next_in];)ze(a),r=Ne(a,n);switch(r){case He:case Ge:case We:case Ye:return this.onEnd(r),this.ended=!0,!1}if(i=a.avail_out,a.next_out&&(0===a.avail_out||r===Xe))if("string"===this.options.to){var u=Ht(a.output,a.next_out),h=a.next_out-u,c=Wt(a.output,u);a.next_out=h,a.avail_out=o-h,h&&a.output.set(a.output.subarray(u,u+h),0),this.onData(c)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(r!==Ze||0!==i){if(r===Xe)return r=Ce(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},Ke.prototype.onData=function(t){this.chunks.push(t)},Ke.prototype.onEnd=function(t){t===Ze&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=jt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};for(var qe=oe,$e=Ke,Qe=Je,tr=[137,80,78,71,13,10,26,10],er=[],rr=0;rr<256;rr++){for(var nr=rr,ir=0;ir<8;ir++)1&nr?nr=3988292384^nr>>>1:nr>>>=1;er[rr]=nr}var ar,or,sr,ur;function hr(t,e){return(4294967295^function(t,e,r){for(var n=4294967295,i=0;i<r;i++)n=er[255&(n^e[i])]^n>>>8;return n}(0,t,e))>>>0}!function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.GREYSCALE=0]="GREYSCALE",t[t.TRUECOLOUR=2]="TRUECOLOUR",t[t.INDEXED_COLOUR=3]="INDEXED_COLOUR",t[t.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",t[t.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"}(ar||(ar={})),function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.DEFLATE=0]="DEFLATE"}(or||(or={})),function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.ADAPTIVE=0]="ADAPTIVE"}(sr||(sr={})),function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.NO_INTERLACE=0]="NO_INTERLACE",t[t.ADAM7=1]="ADAM7"}(ur||(ur={}));var cr=new Uint8Array(0),fr=new Uint16Array([255]),lr=255===new Uint8Array(fr.buffer)[0],dr=function(t){cu(r,t);var e=_u(r);function r(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ou(this,r),n=e.call(this,t);var a=i.checkCrc,o=void 0!==a&&a;return n._checkCrc=o,n._inflator=new $e,n._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},n._end=!1,n._hasPalette=!1,n._palette=[],n._compressionMethod=or.UNKNOWN,n._filterMethod=sr.UNKNOWN,n._interlaceMethod=ur.UNKNOWN,n._colorType=-1,n.setBigEndian(),n}return uu(r,[{key:"decode",value:function(){for(this.decodeSignature();!this._end;)this.decodeChunk();return this.decodeImage(),this._png}},{key:"decodeSignature",value:function(){for(var t=0;t<tr.length;t++)if(this.readUint8()!==tr[t])throw new Error("wrong PNG signature. Byte at ".concat(t," should be ").concat(tr[t],"."))}},{key:"decodeChunk",value:function(){var t=this.readUint32(),e=this.readChars(4),r=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case"tEXt":this.decodetEXt(t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t)}if(this.offset-r!==t)throw new Error("Length mismatch while decoding chunk ".concat(e));if(this._checkCrc){var n=this.readUint32(),i=t+4,a=hr(new Uint8Array(this.buffer,this.byteOffset+this.offset-i-4,i),i);if(a!==n)throw new Error("CRC mismatch for chunk ".concat(e,". Expected ").concat(n,", found ").concat(a))}else this.skip(4)}},{key:"decodeIHDR",value:function(){var t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=function(t){if(1!==t&&2!==t&&4!==t&&8!==t&&16!==t)throw new Error("invalid bit depth: ".concat(t));return t}(this.readUint8());var e,r=this.readUint8();switch(this._colorType=r,r){case ar.GREYSCALE:e=1;break;case ar.TRUECOLOUR:e=3;break;case ar.INDEXED_COLOUR:e=1;break;case ar.GREYSCALE_ALPHA:e=2;break;case ar.TRUECOLOUR_ALPHA:e=4;break;default:throw new Error("Unknown color type: ".concat(r))}if(this._png.channels=e,this._compressionMethod=this.readUint8(),this._compressionMethod!==or.DEFLATE)throw new Error("Unsupported compression method: ".concat(this._compressionMethod));this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}},{key:"decodePLTE",value:function(t){if(t%3!=0)throw new RangeError("PLTE field length must be a multiple of 3. Got ".concat(t));var e=t/3;this._hasPalette=!0;var r=[];this._palette=r;for(var n=0;n<e;n++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}},{key:"decodeIDAT",value:function(t){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,t)),this.skip(t)}},{key:"decodetRNS",value:function(t){if(3===this._colorType){if(t>this._palette.length)throw new Error("tRNS chunk contains more alpha values than there are palette colors (".concat(t," vs ").concat(this._palette.length,")"));for(var e=0;e<t;e++){var r=this.readByte();this._palette[e].push(r)}for(;e<this._palette.length;e++)this._palette[e].push(255)}}},{key:"decodeiCCP",value:function(t){for(var e,r="";"\0"!==(e=this.readChar());)r+=e;var n=this.readUint8();if(n!==or.DEFLATE)throw new Error("Unsupported iCCP compression method: ".concat(n));var i=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Qe(i)}}},{key:"decodetEXt",value:function(t){for(var e,r="";"\0"!==(e=this.readChar());)r+=e;this._png.text[r]=this.readChars(t-r.length-1)}},{key:"decodepHYs",value:function(){var t=this.readUint32(),e=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:e,unit:r}}},{key:"decodeImage",value:function(){if(this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));var t=this._inflator.result;if(this._filterMethod!==sr.ADAPTIVE)throw new Error("Filter method ".concat(this._filterMethod," not supported"));if(this._interlaceMethod!==ur.NO_INTERLACE)throw new Error("Interlace method ".concat(this._interlaceMethod," not supported"));this.decodeInterlaceNull(t)}},{key:"decodeInterlaceNull",value:function(t){for(var e,r,n,i=this._png.height,a=this._png.channels*this._png.depth/8,o=this._png.width*a,s=new Uint8Array(this._png.height*o),u=cr,h=0,c=0;c<i;c++){switch(e=t.subarray(h+1,h+1+o),r=s.subarray(c*o,(c+1)*o),t[h]){case 0:vr(e,r,o);break;case 1:pr(e,r,o,a);break;case 2:yr(e,r,u,o);break;case 3:wr(e,r,u,o,a);break;case 4:_r(e,r,u,o,a);break;default:throw new Error("Unsupported filter: ".concat(t[h]))}u=r,h+=o+1}if(this._hasPalette&&(this._png.palette=this._palette),16===this._png.depth){var f=new Uint16Array(s.buffer);if(lr)for(var l=0;l<f.length;l++)f[l]=(255&(n=f[l]))<<8|n>>8&255;this._png.data=f}else this._png.data=s}}]),r}(r);function vr(t,e,r){for(var n=0;n<r;n++)e[n]=t[n]}function pr(t,e,r,n){for(var i=0;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function yr(t,e,r,n){var i=0;if(0===r.length)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function wr(t,e,r,n,i){var a=0;if(0===r.length){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function _r(t,e,r,n,i){var a=0;if(0===r.length){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+gr(e[a-i],r[a],r[a-i])&255}}function gr(t,e,r){var n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),o=Math.abs(n-r);return i<=a&&i<=o?t:a<=o?e:r}var br,mr={level:3},kr=function(t){cu(n,t);var e=_u(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ou(this,n),(r=e.call(this))._colorType=ar.UNKNOWN,r._zlibOptions=ru(ru({},mr),i.zlib),r._png=r._checkData(t),r.setBigEndian(),r}return uu(n,[{key:"encode",value:function(){return this.encodeSignature(),this.encodeIHDR(),this.encodeData(),this.encodeIEND(),this.toArray()}},{key:"encodeSignature",value:function(){this.writeBytes(tr)}},{key:"encodeIHDR",value:function(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(or.DEFLATE),this.writeByte(sr.ADAPTIVE),this.writeByte(ur.NO_INTERLACE),this.writeCrc(17)}},{key:"encodeIEND",value:function(){this.writeUint32(0),this.writeChars("IEND"),this.writeCrc(4)}},{key:"encodeIDAT",value:function(t){this.writeUint32(t.length),this.writeChars("IDAT"),this.writeBytes(t),this.writeCrc(t.length+4)}},{key:"encodeData",value:function(){for(var t=this._png,e=t.width,n=t.height,i=t.channels,a=t.depth,o=t.data,s=i*e,u=(new r).setBigEndian(),h=0,c=0;c<n;c++)if(u.writeByte(0),8===a)h=Er(o,u,s,h);else{if(16!==a)throw new Error("unreachable");h=Ar(o,u,s,h)}var f=u.toArray(),l=qe(f,this._zlibOptions);this.encodeIDAT(l)}},{key:"_checkData",value:function(t){var e=function(t){var e=t.channels,r=void 0===e?4:e,n=t.depth,i=void 0===n?8:n;if(4!==r&&3!==r&&2!==r&&1!==r)throw new RangeError("unsupported number of channels: ".concat(r));if(8!==i&&16!==i)throw new RangeError("unsupported bit depth: ".concat(i));var a={channels:r,depth:i,colorType:ar.UNKNOWN};switch(r){case 4:a.colorType=ar.TRUECOLOUR_ALPHA;break;case 3:a.colorType=ar.TRUECOLOUR;break;case 1:a.colorType=ar.GREYSCALE;break;case 2:a.colorType=ar.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return a}(t),r=e.colorType,n=e.channels,i=e.depth,a={width:xr(t.width,"width"),height:xr(t.height,"height"),channels:n,data:t.data,depth:i,text:{}};this._colorType=r;var o=a.width*a.height*n;if(a.data.length!==o)throw new RangeError("wrong data size. Found ".concat(a.data.length,", expected ").concat(o));return a}},{key:"writeCrc",value:function(t){this.writeUint32(hr(new Uint8Array(this.buffer,this.byteOffset+this.offset-t,t),t))}}]),n}(r);function xr(t,e){if(Number.isInteger(t)&&t>0)return t;throw new TypeError("".concat(e," must be a positive integer"))}function Er(t,e,r,n){for(var i=0;i<r;i++)e.writeByte(t[n++]);return n}function Ar(t,e,r,n){for(var i=0;i<r;i++)e.writeUint16(t[n++]);return n}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"}(br||(br={}));var Tr=function(t,e,r){return new kr({width:t,height:e,data:r},void 0).encode()},Rr=function(t){return function(t,e){return new dr(t,void 0).decode()}(t)}}();var bf=gf.P,mf=gf.m;function kf(t,e,r){if((s=t)&&s.hasOwnProperty("type")&&s.hasOwnProperty("data")){var n=kf(t.data,e,r);return bu(n,"\n")?" #!"+t.type+n:n+" #!"+t.type}if(t&&"object"===nu(t)){var i=Array.isArray(t);if(0==Object.keys(t).length)return i?"[]":"{}";var a="\n";for(var o in t)Object.hasOwnProperty.call(t,o)&&(a+=gu(e,r+1),i?a+="- "+kf(t[o],e,r+1):bu(o,": ")?(a+=kf(o,e,r+1),a+=": "+kf(t[o],e,r+1)):a+=o+": "+kf(t[o],e,r+1),a+="\n");return a}if("string"==typeof t)return JSON.stringify(t);if(null==t)return"null";if(!!t==t||+t==t)return JSON.stringify(t);throw new Error("Non-implemented parsing for "+t);var s}function xf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r="";return"number"==typeof e?r=gu(" ",Math.min(10,e)):"string"==typeof e&&(r=e.slice(0,10)),kf(t,r,-1)}var Ef=function(){function t(e,r,n){ou(this,t),this.startingLine=n||0,this.lineIndex=-1;for(var i=[],a=0;a<e.length;a++){""!==e[a].trim()&&i.push([e[a],a])}this.lines=i,this.indentString=r||this.findIndentString()}return uu(t,[{key:"getLineNumber",value:function(){return this.startingLine+this.lineIndex}},{key:"nextGroup",value:function(){for(var e=[],r=this.indentLevel(this.lineIndex+1);!this.finished()&&this.indentLevel(this.lineIndex+1)>=r;)e.push(this.next());return new t(e,this.indentString,this.getLineNumber()-e.length)}},{key:"next",value:function(){if(this.finished())throw new Error("Trying to next finished generator");return this.lineIndex++,this.getLine()}},{key:"peek",value:function(){return this.getLine(this.lineIndex+1)}},{key:"finished",value:function(){return this.lineIndex==this.lines.length-1}},{key:"getLine",value:function(t){return(t=void 0!==t?t:this.lineIndex)>=this.lines.length?null:this.lines[t][0]}},{key:"findIndentString",value:function(){for(var t=0,e=this.lines;t<e.length;t++){var r=e[t][0];if(r.trim()&&r.replace(/^\s+/,"")!=r)return r.match(/^(\s+)/)[1]}return""}},{key:"indentLevel",value:function(t){(t=void 0!==t?t:this.lineIndex)<0&&(t=0);for(var e=0,r=this.getLine(t);mu(r,this.indentString);)r=r.slice(this.indentString.length),e++;return e}}]),t}();function Af(t,e){var r;for(t.indentLevel();!t.finished();){var n=t.next().trim(),i=n.match(/^(.*?):(?: |$)/),a=n.match(/#!([\w<,>]+)/),o=void 0,s=void 0,u=void 0;mu(n,'"')&&(i=n.match(/^"(.*?)":(?: |$)/)),a&&(u=a[1],n=n.replace(a[0],"")),i?(r||(r={}),o=i[1],s=n.replace(i[0],"").trim()):mu(n,"-")&&(r||(r=[]),s=n.slice(1).trim()),s=s?Tf(s,u):Af(t.nextGroup(),u),Array.isArray(r)?r.push(s):r[o]=s}return e&&(r={type:e,data:r}),r}function Tf(t,e){return t=JSON.parse(t),e&&(t={type:e,data:t}),t}function Rf(t){var e=t.replace(/\t/g,"\t").split("\n");return Af(new Ef(e))}function Of(t){var e;if(Array.isArray(t)){e=[];for(var r=0;r<t.length;r++){var n=t[r];e.push(Of(n))}return e}if(t&&"object"===nu(t)){e={};for(var i=Object.keys(t),a=0;a<i.length;a++){var o=i[a],s=t[o];e[o]=Of(s)}return e}return t}function Sf(t){switch(t){case"Boolean":case"Int32":case"UInt32":case"Single":case"Double":case"Char":case"String":case"":case"Vector2":case"Vector3":case"Vector4":case"Rectangle":case"Rect":return!0;default:return!1}}function Uf(t){switch(t){case"Texture2D":case"TBin":case"Effect":case"BmFont":return!0;default:return!1}}function If(t){if(!t||"object"!==nu(t))return t;if("object"===nu(t)&&t.hasOwnProperty("data")){var e=t,r=e.type,n=e.data;if(Sf(r))return Of(n);if(Uf(r))return n=Of(n),"Texture2D"===r?n.export="Texture2D.png":"Effect"===r?n.export="Effect.cso":"TBin"===r?n.export="TBin.tbin":"BmFont"===r&&(n.export="BmFont.xml"),n;if(mu(r,"Nullable"))return null===n||null===n.data?null:If(n.data);t=Of(n)}var i;if(Array.isArray(t)){i=[];for(var a=0,o=t;a<o.length;a++){var s=o[a];i.push(If(s))}return i}if(t&&"object"===nu(t)){i={};for(var u=Object.keys(t),h=0;h<u.length;h++){var c=u[h],f=t[c];i[c]=If(f)}return i}return null}function Lf(t){var e={},r=t.header,n=r.compressed;r.formatVersion;var i=r.hidef,a=r.target,o=Of(t.readers);e.xnbData={target:a,compressed:!!n,hiDef:i,readerData:o,numSharedResources:0};var s=Of(t.content),u=Sc.simplifyType(o[0].type),h=Sc.getReaderTypeList(u);"SpriteFont"===h[0]&&(h=["SpriteFont","Texture2D","List<Rectangle>","Rectangle","List<Rectangle>","Rectangle","List<Char>","Char",null,"List<Vector3>","Vector3","Nullable<Char>","Char",null],s.verticalSpacing=s.verticalLineSpacing,delete s.verticalLineSpacing);var c=function(t,e){var r=[],n=[],i=function t(i,a){var o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=e[s];if(Sf(u))return{converted:{type:u,data:i},traversed:s};if(null===u)return{converted:i,traversed:s};if(mu(u,"Nullable")){var h,c,f=u.split(":"),l=f[0],d=f[1],v=void 0===d?1:d;if(v=+v,null===i)h=null,c=s+v;else if("object"!==nu(i)||i&&0!==Object.keys(i).length){var p=t(i,[].concat(a),s+1);h=p.converted,c=p.traversed}else h={type:e[s+1],data:Of(i)},c=s+v;return{converted:{type:l,data:{data:h}},traversed:c}}if(Uf(u))return"Texture2D"===u?(r.push({path:a.join(".")}),{converted:{type:u,data:{format:i.format}},traversed:s}):("TBin"===u&&n.push({path:a.join(".")}),{converted:{type:u,data:{}},traversed:s});o=Array.isArray(i)?[]:{};for(var y=s,w=!0,_=!mu(u,"Dictionary")&&!mu(u,"Array")&&!mu(u,"List"),g=Object.keys(i),b=0;b<g.length;b++){var m=g[b];i[m];var k=void 0;k=mu(u,"Dictionary")?s+2:mu(u,"Array")||mu(u,"List")?s+1:y+1;var x=t(i[m],[].concat(a,[m]),k),E=x.converted,A=x.traversed;o[m]=E,_?y=A:w&&(y=A,w=!1)}return{converted:{type:u,data:o},traversed:y}}(t,[]);return{converted:i.converted,extractedImages:r,extractedMaps:n}}(s,h),f=c.converted,l=c.extractedImages,d=c.extractedMaps;return e.content=f,l.length>0&&(e.extractedImages=l),d.length>0&&(e.extractedMaps=d),e}function Bf(t){var e={},r=t.xnbData,n=r.compressed,i=r.readerData,a=r.hiDef,o=r.target;return e.header={target:o,formatVersion:5,compressed:n?"a"===o||"i"===o?64:128:0,hidef:a},e.readers=Of(i),e.content=If(t.content),"SpriteFont"===Sc.simplifyType(e.readers[0].type)&&(e.content.verticalLineSpacing=e.content.verticalSpacing,delete e.content.verticalSpacing),e}function zf(t,e){if(t&&"object"==nu(t)){if(t.hasOwnProperty(e))return{parent:t,value:t[e]};for(var r=Object.keys(t),n=0;n<r.length;n++){var i=t[r[n]];if(i||"object"==nu(i)){var a=zf(i,e);if(a)return a}}return null}}function Pf(t){var e=t.match(/(.*)\.([^\s.]+)$/);return null===e?[t,null]:[e[1],e[2]]}function Nf(t){switch(t){case"JSON":return"json";case"yaml":return"yaml";case"Texture2D":return"png";case"Effect":return"cso";case"TBin":return"tbin";case"BmFont":return"xml"}return"bin"}function Cf(t){switch(t){case"JSON":return"application/json";case"yaml":return"text/plain";case"Texture2D":return"image/png";case"Effect":return"application/x-cso";case"BmFont":return"application/xml"}return"application/octet-stream"}function Mf(t,e){return"function"==typeof Blob?{data:new Blob([t],{type:Cf(e)}),extension:Nf(e)}:{data:t,extension:Nf(e)}}function Df(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=zf(t,"export");if(r){var n=r.value,i=n.type,a=n.data;return"Texture2D"===i&&(a=mf(n.width,n.height,new Uint8Array(a))),Mf(a,i)}if(e){var o=JSON.stringify(t,null,4);return Mf(o,"JSON")}return null}function jf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.yaml,n=void 0!==r&&r,i=e.contentOnly,a=void 0!==i&&i,o=e.fileName,s=void 0===o?null:o;if(n&&a&&(n=!1),!t.hasOwnProperty("content"))throw new Rc("Invalid object!");var u=[],h=t.content,c=Df(h,a);if(null!==c&&u.push(c),a)return u;var f=JSON.stringify(t,(function(t,e){return"export"===t?"string"==typeof s&&""!==s?"".concat(s,".").concat(Nf(e.type)):"".concat(e.type,".").concat(Nf(e.type)):e}),4),l=f;return n&&(l=xf(Lf(t))),u.unshift(Mf(l,n?"yaml":"JSON")),u}function Ff(t){var e=t.toLowerCase();return"none"===e?0:"lz4"===e?64:null}function Vf(t){return Zf.apply(this,arguments)}function Zf(){return(Zf=au(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("function"==typeof Blob&&e instanceof Blob)){t.next=4;break}return t.abrupt("return",e.text());case 4:if(!("function"==typeof Buffer&&e instanceof Buffer)){t.next=8;break}return t.abrupt("return",e.toString());case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Xf(t){return Wf.apply(this,arguments)}function Wf(){return(Wf=au(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("function"==typeof Blob&&e instanceof Blob)){t.next=4;break}return t.abrupt("return",e.arrayBuffer());case 4:if(!("function"==typeof Buffer&&e instanceof Buffer)){t.next=6;break}return t.abrupt("return",e.buffer);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Hf(t,e){return Gf.apply(this,arguments)}function Gf(){return Gf=au(regeneratorRuntime.mark((function t(e,r){var n,i,a,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("png"!==e){t.next=7;break}return t.next=3,Xf(r.png);case 3:return n=t.sent,4===(i=bf(new Uint8Array(n))).channel&&8===i.depth&&void 0===i.palette||(i.data=pf(i)),t.abrupt("return",{type:"Texture2D",data:i.data,width:i.width,height:i.height});case 7:if("cso"!==e){t.next=12;break}return t.next=10,Xf(r.cso);case 10:return a=t.sent,t.abrupt("return",{type:"Effect",data:a});case 12:if("tbin"!==e){t.next=17;break}return t.next=15,Xf(r.tbin);case 15:return o=t.sent,t.abrupt("return",{type:"TBin",data:o});case 17:if("xml"!==e){t.next=22;break}return t.next=20,Vf(r.xml);case 20:return s=t.sent,t.abrupt("return",{type:"BmFont",data:s});case 22:case"end":return t.stop()}}),t)}))),Gf.apply(this,arguments)}function Yf(t){return Kf.apply(this,arguments)}function Kf(){return Kf=au(regeneratorRuntime.mark((function t(e){var r,n,i,a,o,s,u,h,c,f,l,d,v=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=v.length>1&&void 0!==v[1]?v[1]:{},n=r.compression,i=void 0===n?"default":n,a=e.json||e.yaml){t.next=5;break}throw new Rc("There is no JSON or YAML file to pack!");case 5:return t.next=7,Vf(a);case 7:if(o=t.sent,s=null,s=e.json?JSON.parse(o):Bf(Rf(o)),null!==(u=Ff(i))&&(s.header.compressed=u),s.hasOwnProperty("content")){t.next=14;break}throw new Rc("".concat(a.name,' does not have "content".'));case 14:if(!(h=zf(s.content,"export"))){t.next=21;break}return c=h.parent,f=h.value,l=Pf(f),d=l[1],t.next=20,Hf(d,e);case 20:c.export=t.sent;case 21:return t.abrupt("return",s);case 22:case"end":return t.stop()}}),t)}))),Kf.apply(this,arguments)}function Jf(t){var e=Pf(t)[1],r=function(t){return"png"===t?"Microsoft.Xna.Framework.Content.Texture2DReader, Microsoft.Xna.Framework.Graphics, Version=4.0.0.0, Culture=neutral, PublicKeyToken=842cf8be1de50553":"tbin"===t?"xTile.Pipeline.TideReader, xTile":"xml"===t?"BmFont.XmlSourceReader, BmFont, Version=2012.1.7.0, Culture=neutral, PublicKeyToken=null":void 0}(e),n={export:t};"png"===e&&(n.format=0);var i={header:{target:"w",formatVersion:5,hidef:!0,compressed:!0},readers:[{type:r,version:0}],content:n};return JSON.stringify(i)}function qf(t){return $f.apply(this,arguments)}function $f(){return($f=au(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"==typeof window){t.next=8;break}if(r=Pf(e.name),"xnb"===r[1]){t.next=4;break}return t.abrupt("return",new Error("Invalid XNB File!"));case 4:return t.next=6,e.arrayBuffer();case 6:return n=t.sent,t.abrupt("return",Qf(n));case 8:return t.abrupt("return",Qf(e.buffer));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Qf(t){return(new df).load(t)}function tl(t){var e=Df(t.content,!0),r=e.data,n=e.extension;return new hf(r,n)}function el(t){for(var e={},r={},n=0;n<t.length;n++){var i=t[n],a=Pf(i.name),o=a[0],s=a[1];if(null!==s){void 0===e[o]&&(e[o]={},"json"!==s&&"yaml"!==s&&(r[o]=i.name));var u=e[o];"function"==typeof Blob&&i instanceof Blob?u[s]=i:u[s]=i.data,"json"!==s&&"yaml"!==s||delete r[o]}}for(var h=0,c=Object.keys(r);h<c.length;h++){var f=c[h];e[f].json=Jf(r[f])}return e}function rl(t){return(new df).convert(t)}var nl=function(){function t(){ou(this,t)}return uu(t,[{key:"isValueType",value:function(){return!0}},{key:"type",get:function(){return this.constructor.type()}},{key:"read",value:function(t,e){throw new Error("Cannot invoke methods on abstract class.")}},{key:"write",value:function(t,e,r){throw new Error("Cannot invoke methods on abstract class.")}},{key:"writeIndex",value:function(t,e){null!=e&&t.write7BitNumber(parseInt(e.getIndex(this))+1)}},{key:"toString",value:function(){return this.type}},{key:"parseTypeList",value:function(){return this.constructor.parseTypeList()}}],[{key:"isTypeOf",value:function(t){return!1}},{key:"hasSubType",value:function(){return!1}},{key:"parseTypeList",value:function(){return[this.type()]}},{key:"type",value:function(){return this.name.slice(0,-6)}}]),t}(),il=function(t){cu(r,t);var e=_u(r);function r(){return ou(this,r),e.apply(this,arguments)}return uu(r,[{key:"read",value:function(t){return t.readUInt32()}},{key:"write",value:function(t,e,r){this.writeIndex(t,r),t.writeUInt32(e)}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.UInt32Reader":case"System.UInt32":return!0;default:return!1}}}]),r}(nl),al=function(t){cu(r,t);var e=_u(r);function r(t){var n;return ou(this,r),(n=e.call(this)).reader=t,n}return uu(r,[{key:"read",value:function(t,e){for(var r=(new il).read(t),n=[],i=0;i<r;i++){var a=this.reader.isValueType()?this.reader.read(t):e.read(t);n.push(a)}return n}},{key:"write",value:function(t,e,r){this.writeIndex(t,r),(new il).write(t,e.length,r);for(var n=0;n<e.length;n++)this.reader.write(t,e[n],this.reader.isValueType()?null:r)}},{key:"isValueType",value:function(){return!1}},{key:"type",get:function(){return"Array<".concat(this.reader.type,">")}},{key:"parseTypeList",value:function(){return[this.type].concat(this.reader.parseTypeList())}}],[{key:"isTypeOf",value:function(t){return"Microsoft.Xna.Framework.Content.ArrayReader"===t}},{key:"hasSubType",value:function(){return!0}}]),r}(nl),ol=[55296,56320];function sl(t){var e;if("number"==typeof t&&(t=[t]),null===(e=t)||void 0===e||!e.length)throw new Error("Invalid codeset!");return 1===t.length?t[0]:((1023&t[0])<<10)+(1023&t[1])+65536}function ul(t){var e=function(t){for(var e=ku({length:t.length},(function(e,r){return t.charCodeAt(r)})),r=[],n=0;n<t.length;){var i=e[n];(ol[0]&i)!==ol[0]?(r.push(i),n++):(r.push(sl(e.slice(n,n+2))),n+=2)}return r}(t);return e.reduce((function(t,e){return e<128?t+1:e<2048?t+2:e<65536?t+3:t+4}),0)}var hl=function(t){cu(r,t);var e=_u(r);function r(){return ou(this,r),e.apply(this,arguments)}return uu(r,[{key:"read",value:function(t){var e=t.read7BitNumber();return t.readString(e)}},{key:"write",value:function(t,e,r){this.writeIndex(t,r);var n=ul(e);t.write7BitNumber(n),t.writeString(e)}},{key:"isValueType",value:function(){return!1}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.StringReader":case"System.String":return!0;default:return!1}}}]),r}(nl),cl=function(t){cu(r,t);var e=_u(r);function r(){return ou(this,r),e.apply(this,arguments)}return uu(r,[{key:"read",value:function(t){var e=(new hl).read(t);return{export:{type:this.type,data:e}}}},{key:"write",value:function(t,e,r){this.writeIndex(t,r),(new hl).write(t,e.export.data,null)}},{key:"isValueType",value:function(){return!1}}],[{key:"isTypeOf",value:function(t){return"BmFont.XmlSourceReader"===t}}]),r}(nl),fl=function(t){cu(r,t);var e=_u(r);function r(){return ou(this,r),e.apply(this,arguments)}return uu(r,[{key:"read",value:function(t){return Boolean(t.readInt())}},{key:"write",value:function(t,e,r){this.writeIndex(t,r),t.writeByte(e)}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.BooleanReader":case"System.Boolean":return!0;default:return!1}}}]),r}(nl),ll=function(t){cu(r,t);var e=_u(r);function r(){return ou(this,r),e.apply(this,arguments)}return uu(r,[{key:"read",value:function(t){var e=this._getCharSize(t.peekInt());return t.readString(e)}},{key:"write",value:function(t,e,r){this.writeIndex(t,r),t.writeString(e)}},{key:"_getCharSize",value:function(t){return 1+(3841982464>>(t>>3&30)&3)}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.CharReader":case"System.Char":return!0;default:return!1}}}]),r}(nl),dl=function(t){cu(r,t);var e=_u(r);function r(t,n){var i;if(ou(this,r),null==t||null==n)throw new Error("Cannot create instance of DictionaryReader without Key and Value.");return(i=e.call(this)).key=t,i.value=n,i}return uu(r,[{key:"read",value:function(t,e){for(var r={},n=(new il).read(t),i=0;i<n;i++){var a=this.key.isValueType()?this.key.read(t):e.read(t),o=this.value.isValueType()?this.value.read(t):e.read(t);r[a]=o}return r}},{key:"write",value:function(t,e,r){this.writeIndex(t,r),t.writeUInt32(Object.keys(e).length);for(var n=0,i=Object.keys(e);n<i.length;n++){var a=i[n];this.key.write(t,a,this.key.isValueType()?null:r),this.value.write(t,e[a],this.value.isValueType()?null:r)}}},{key:"isValueType",value:function(){return!1}},{key:"type",get:function(){return"Dictionary<".concat(this.key.type,",").concat(this.value.type,">")}},{key:"parseTypeList",value:function(){return[this.type].concat(this.key.parseTypeList(),this.value.parseTypeList())}}],[{key:"isTypeOf",value:function(t){return"Microsoft.Xna.Framework.Content.DictionaryReader"===t}},{key:"hasSubType",value:function(){return!0}}]),r}(nl),vl=function(t){cu(r,t);var e=_u(r);function r(){return ou(this,r),e.apply(this,arguments)}return uu(r,[{key:"read",value:function(t){return t.readDouble()}},{key:"write",value:function(t,e,r){this.writeIndex(t,r),t.writeDouble(e)}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.DoubleReader":case"System.Double":return!0;default:return!1}}}]),r}(nl),pl=function(t){cu(r,t);var e=_u(r);function r(){return ou(this,r),e.apply(this,arguments)}return uu(r,[{key:"read",value:function(t){var e=(new il).read(t),r=t.read(e);return{export:{type:this.type,data:r}}}},{key:"write",value:function(t,e,r){this.writeIndex(t,r);var n=e.export.data;(new il).write(t,n.byteLength,null),t.concat(n)}},{key:"isValueType",value:function(){return!1}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.EffectReader":case"Microsoft.Xna.Framework.Graphics.Effect":return!0;default:return!1}}}]),r}(nl),yl=function(t){cu(r,t);var e=_u(r);function r(){return ou(this,r),e.apply(this,arguments)}return uu(r,[{key:"read",value:function(t){return t.readInt32()}},{key:"write",value:function(t,e,r){this.writeIndex(t,r),t.writeInt32(e)}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.Int32Reader":case"System.Int32":return!0;default:return!1}}}]),r}(nl),wl=function(t){cu(r,t);var e=_u(r);function r(t){var n;return ou(this,r),(n=e.call(this)).reader=t,n}return uu(r,[{key:"read",value:function(t,e){for(var r=(new il).read(t),n=[],i=0;i<r;i++){var a=this.reader.isValueType()?this.reader.read(t):e.read(t);n.push(a)}return n}},{key:"write",value:function(t,e,r){this.writeIndex(t,r),(new il).write(t,e.length,null);for(var n=Object.keys(e),i=0;i<n.length;i++){var a=e[n[i]];this.reader.write(t,a,this.reader.isValueType()?null:r)}}},{key:"isValueType",value:function(){return!1}},{key:"type",get:function(){return"List<".concat(this.reader.type,">")}},{key:"parseTypeList",value:function(){return[this.type].concat(this.reader.parseTypeList())}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.ListReader":case"System.Collections.Generic.List":return!0;default:return!1}}},{key:"hasSubType",value:function(){return!0}}]),r}(nl),_l=function(t){cu(r,t);var e=_u(r);function r(t){var n;return ou(this,r),(n=e.call(this)).reader=t,n}return uu(r,[{key:"read",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=new fl,n=t.peekByte(1);return n?null===e?(r.read(t),this.reader.read(t)):this.reader.isValueType()?this.reader.read(t):e.read(t):(r.read(t),null)}},{key:"write",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;new fl,null!==e?(null===r&&t.writeByte(1),this.reader.write(t,e,this.reader.isValueType()?null:r)):t.writeByte(0)}},{key:"isValueType",value:function(){return!1}},{key:"type",get:function(){return"Nullable<".concat(this.reader.type,">")}},{key:"parseTypeList",value:function(){var t=this.reader.parseTypeList();return["".concat(this.type,":").concat(t.length)].concat(t)}}],[{key:"isTypeOf",value:function(t){return"Microsoft.Xna.Framework.Content.NullableReader"===t}},{key:"hasSubType",value:function(){return!0}}]),r}(nl),gl=function(t){cu(r,t);var e=_u(r);function r(t){var n;return ou(this,r),(n=e.call(this)).reader=t,n}return uu(r,[{key:"read",value:function(t,e){return this.reader.read(t,e)}},{key:"write",value:function(t,e,r){this.reader.write(t,e,this.reader.isValueType()?null:r)}},{key:"isValueType",value:function(){return!1}},{key:"type",get:function(){return"".concat(this.reader.type)}},{key:"parseTypeList",value:function(){return[].concat(this.reader.parseTypeList())}}],[{key:"isTypeOf",value:function(t){return"Microsoft.Xna.Framework.Content.ReflectiveReader"===t}},{key:"hasSubType",value:function(){return!0}}]),r}(nl),bl=function(t){cu(r,t);var e=_u(r);function r(){return ou(this,r),e.apply(this,arguments)}return uu(r,[{key:"read",value:function(t){var e=new yl;return{x:e.read(t),y:e.read(t),width:e.read(t),height:e.read(t)}}},{key:"write",value:function(t,e,r){this.writeIndex(t,r);var n=new yl;n.write(t,e.x,null),n.write(t,e.y,null),n.write(t,e.width,null),n.write(t,e.height,null)}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.RectangleReader":case"Microsoft.Xna.Framework.Rectangle":return!0;default:return!1}}}]),r}(nl),ml=function(t){cu(r,t);var e=_u(r);function r(){return ou(this,r),e.apply(this,arguments)}return uu(r,[{key:"read",value:function(t){return t.readSingle()}},{key:"write",value:function(t,e,r){this.writeIndex(t,r),t.writeSingle(e)}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.SingleReader":case"System.Single":return!0;default:return!1}}}]),r}(nl),kl=256;function xl(t,e,r,n){for(var i=Array(n),a=0;a<n;a++)i[a]=Array(n);for(var o=0;o<n;o++)for(var s=0;s<n;s++)i[o][s]=1*(o===s);var u=function(t){return[[Math.cos(t),Math.sin(t)],[-Math.sin(t),Math.cos(t)]]}(r);return i[t][t]=u[0][0],i[e][e]=u[1][1],i[t][e]=u[0][1],i[e][t]=u[1][0],i}function El(t,e,r){var n=e-t;return Math.abs(n)<=1e-12?Math.PI/4:.5*Math.atan(2*r/(e-t))}function Al(t){for(var e=t.length,r=0,n=[0,1],i=0;i<e;i++)for(var a=i+1;a<e;a++)Math.abs(r)<=Math.abs(t[i][a])&&(r=Math.abs(t[i][a]),n=[i,a]);return[n,r]}function Tl(t,e){for(var r=t.length,n=Array(r),i=0;i<r;i++)n[i]=Array(r);for(var a=0;a<r;a++)for(var o=0;o<r;o++){n[a][o]=0;for(var s=0;s<r;s++)for(var u=0;u<r;u++)n[a][o]=n[a][o]+t[s][a]*e[s][u]*t[u][o]}return n}function Rl(t,e){for(var r=t.length,n=Array(r),i=0;i<r;i++)n[i]=Array(r);for(var a=0;a<r;a++)for(var o=0;o<r;o++){n[a][o]=0;for(var s=0;s<r;s++)n[a][o]=n[a][o]+t[a][s]*e[s][o]}return n}function Ol(t,e){var r=t.length;e.length;var n=ku({length:r},(function(r,n){var i=e.map((function(t){return t[n]}));return{value:t[n],vec:i}}));return n.sort((function(t,e){return e.value-t.value})),[n.map((function(t){return t.value})),n.map((function(t){return t.vec}))]}function Sl(t){var e=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-7,r=t.length,n=Array(r),i=Math.abs(e/r),a=Array(r),o=0;o<r;o++)a[o]=Array(r);for(var s=0;s<r;s++)for(var u=0;u<r;u++)a[s][u]=1*(s===u);for(var h=Al(t);Math.abs(h[1])>=Math.abs(i);){var c=h[0][0],f=h[0][1],l=xl(c,f,El(t[c][c],t[f][f],t[c][f]),r);t=Tl(l,t),a=Rl(a,l),h=Al(t)}for(var d=0;d<r;d++)n[d]=t[d][d];return Ol(n,a)}(t);return e[1][0]}var Ul=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;ou(this,t),this._values=[e,r,n]}return uu(t,[{key:"x",get:function(){return this._values[0]},set:function(t){this._values[0]=t}},{key:"y",get:function(){return this._values[1]},set:function(t){this._values[1]=t}},{key:"z",get:function(){return this._values[2]},set:function(t){this._values[2]=t}},{key:"length",get:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"lengthSq",get:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"normalized",get:function(){return 0===this.length?null:t.multScalar(this,1/this.length)}},{key:"colorInt",get:function(){return this._values.map((function(t){var e=parseInt(255*t+.5);return Math.max(Math.min(e,255),0)}))}},{key:"clone",value:function(){return new t(this.x,this.y,this.z)}},{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return this._values[0]=t,this._values[1]=e,this._values[2]=r,this}},{key:"toVec4",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Il(this.x,this.y,this.z,t)}},{key:"addVector",value:function(t){return this._values[0]+=t.x,this._values[1]+=t.y,this._values[2]+=t.z,this}},{key:"addScaledVector",value:function(t,e){return this._values[0]+=t.x*e,this._values[1]+=t.y*e,this._values[2]+=t.z*e,this}},{key:"mult",value:function(t){return this._values[0]*=t,this._values[1]*=t,this._values[2]*=t,this}},{key:"multVector",value:function(t){return this._values[0]*=t.x,this._values[1]*=t.y,this._values[2]*=t.z,this}},{key:"clamp",value:function(t,e){var r=function(r){return t>r?t:e<r?e:r};return this._values[0]=r(this._values[0]),this._values[1]=r(this._values[1]),this._values[2]=r(this._values[2]),this}},{key:"clampGrid",value:function(){var t=function(t,e){return xu((0>(r=t)?0:1<r?1:r)*e+.5)/e;var r};return this._values[0]=t(this._values[0],31),this._values[1]=t(this._values[1],63),this._values[2]=t(this._values[2],31),this}},{key:"normalize",value:function(){return this._values[0]/=this.length,this._values[1]/=this.length,this._values[2]/=this.length,this}},{key:"toString",value:function(){return"Vec3( ".concat(this._values.join(", ")," )")}}],[{key:"add",value:function(e,r){return new t(e.x+r.x,e.y+r.y,e.z+r.z)}},{key:"sub",value:function(e,r){return new t(e.x-r.x,e.y-r.y,e.z-r.z)}},{key:"dot",value:function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z}},{key:"multScalar",value:function(e,r){return new t(e.x*r,e.y*r,e.z*r)}},{key:"multVector",value:function(e,r){return new t(e.x*r.x,e.y*r.y,e.z*r.z)}},{key:"interpolate",value:function(e,r,n){var i=t.multScalar(e,1-n),a=t.multScalar(r,n);return t.add(i,a)}}]),t}(),Il=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;ou(this,t),this._values=[e,r,n,i]}return uu(t,[{key:"x",get:function(){return this._values[0]},set:function(t){this._values[0]=t}},{key:"y",get:function(){return this._values[1]},set:function(t){this._values[1]=t}},{key:"z",get:function(){return this._values[2]},set:function(t){this._values[2]=t}},{key:"w",get:function(){return this._values[3]},set:function(t){this._values[3]=t}},{key:"length",get:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"lengthSq",get:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"normalized",get:function(){return 0===this.length?null:t.multScalar(this,1/this.length)}},{key:"xyz",get:function(){return new Ul(this.x,this.y,this.z)}},{key:"splatX",get:function(){return new t(this.x)}},{key:"splatY",get:function(){return new t(this.y)}},{key:"splatZ",get:function(){return new t(this.z)}},{key:"splatW",get:function(){return new t(this.w)}},{key:"clone",value:function(){return new t(this.x,this.y,this.z,this.w)}},{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;return this._values[0]=t,this._values[1]=e,this._values[2]=r,this._values[3]=n,this}},{key:"toVec3",value:function(){return this.xyz}},{key:"addVector",value:function(t){return this._values[0]+=t.x,this._values[1]+=t.y,this._values[2]+=t.z,this._values[3]+=t.w,this}},{key:"addScaledVector",value:function(t,e){return this._values[0]+=t.x*e,this._values[1]+=t.y*e,this._values[2]+=t.z*e,this._values[3]+=t.w*e,this}},{key:"subVector",value:function(t){return this._values[0]-=t.x,this._values[1]-=t.y,this._values[2]-=t.z,this._values[3]-=t.w,this}},{key:"mult",value:function(t){return this._values[0]*=t,this._values[1]*=t,this._values[2]*=t,this._values[3]*=t,this}},{key:"multVector",value:function(t){return this._values[0]*=t.x,this._values[1]*=t.y,this._values[2]*=t.z,this._values[3]*=t.w,this}},{key:"reciprocal",value:function(){return this._values[0]=1/this._values[0],this._values[1]=1/this._values[1],this._values[2]=1/this._values[2],this._values[3]=1/this._values[3],this}},{key:"clamp",value:function(t,e){var r=function(r){return t>r?t:e<r?e:r};return this._values[0]=r(this._values[0]),this._values[1]=r(this._values[1]),this._values[2]=r(this._values[2]),this._values[3]=r(this._values[3]),this}},{key:"clampGrid",value:function(){var t=function(t){return 0>t?0:1<t?1:t},e=function(e,r){return xu(t(e)*r+.5)/r};return this._values[0]=e(this._values[0],31),this._values[1]=e(this._values[1],63),this._values[2]=e(this._values[2],31),this._values[3]=t(this._values[3]),this}},{key:"truncate",value:function(){return this._values[0]=xu(this._values[0]),this._values[1]=xu(this._values[1]),this._values[2]=xu(this._values[2]),this._values[3]=xu(this._values[3]),this}},{key:"normalize",value:function(){return this._values[0]/=this.length,this._values[1]/=this.length,this._values[2]/=this.length,this._values[3]/=this.length,this}},{key:"toString",value:function(){return"Vec4( ".concat(this._values.join(", ")," )")}}],[{key:"add",value:function(e,r){return new t(e.x+r.x,e.y+r.y,e.z+r.z,e.w+r.w)}},{key:"sub",value:function(e,r){return new t(e.x-r.x,e.y-r.y,e.z-r.z,e.w-r.w)}},{key:"dot",value:function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w}},{key:"multScalar",value:function(e,r){return new t(e.x*r,e.y*r,e.z*r,e.w*r)}},{key:"multVector",value:function(e,r){return new t(e.x*r.x,e.y*r.y,e.z*r.z,e.w*r.w)}},{key:"interpolate",value:function(e,r,n){var i=t.multScalar(e,1-n),a=t.multScalar(r,n);return t.add(i,a)}},{key:"multiplyAdd",value:function(e,r,n){return new t(e.x*r.x+n.x,e.y*r.y+n.y,e.z*r.z+n.z,e.w*r.w+n.w)}},{key:"negativeMultiplySubtract",value:function(e,r,n){return new t(n.x-e.x*r.x,n.y-e.y*r.y,n.z-e.z*r.z,n.w-e.w*r.w)}},{key:"compareAnyLessThan",value:function(t,e){return t.x<e.x||t.y<e.y||t.z<e.z||t.w<e.w}}]),t}();function Ll(t,e){var r=function(t,e){var r=0,n=t.reduce((function(t,n,i){return r+=e[i],t.addScaledVector(n,e[i]),t}),new Ul(0));n.mult(1/r);var i=t.reduce((function(t,r,i){var a=e[i],o=Ul.sub(r,n);return t[0][0]+=o.x*o.x*a,t[0][1]+=o.x*o.y*a,t[0][2]+=o.x*o.z*a,t[1][1]+=o.y*o.y*a,t[1][2]+=o.y*o.z*a,t[2][2]+=o.z*o.z*a,t}),[[0,0,0],[0,0,0],[0,0,0]]);return i[1][0]=i[0][1],i[2][0]=i[0][2],i[2][1]=i[1][2],i}(t,e);return vu(Ul,Sl(r))}var Bl=[[[0,0,0],[0,0,0]],[[0,0,1],[0,0,1]],[[0,0,2],[0,0,2]],[[0,0,3],[0,1,1]],[[0,0,4],[0,1,0]],[[1,0,3],[0,1,1]],[[1,0,2],[0,1,2]],[[1,0,1],[0,2,1]],[[1,0,0],[0,2,0]],[[1,0,1],[0,2,1]],[[1,0,2],[0,2,2]],[[1,0,3],[0,3,1]],[[1,0,4],[0,3,0]],[[2,0,3],[0,3,1]],[[2,0,2],[0,3,2]],[[2,0,1],[0,4,1]],[[2,0,0],[0,4,0]],[[2,0,1],[0,4,1]],[[2,0,2],[0,4,2]],[[2,0,3],[0,5,1]],[[2,0,4],[0,5,0]],[[3,0,3],[0,5,1]],[[3,0,2],[0,5,2]],[[3,0,1],[0,6,1]],[[3,0,0],[0,6,0]],[[3,0,1],[0,6,1]],[[3,0,2],[0,6,2]],[[3,0,3],[0,7,1]],[[3,0,4],[0,7,0]],[[4,0,4],[0,7,1]],[[4,0,3],[0,7,2]],[[4,0,2],[1,7,1]],[[4,0,1],[1,7,0]],[[4,0,0],[0,8,0]],[[4,0,1],[0,8,1]],[[4,0,2],[2,7,1]],[[4,0,3],[2,7,0]],[[4,0,4],[0,9,0]],[[5,0,3],[0,9,1]],[[5,0,2],[3,7,1]],[[5,0,1],[3,7,0]],[[5,0,0],[0,10,0]],[[5,0,1],[0,10,1]],[[5,0,2],[0,10,2]],[[5,0,3],[0,11,1]],[[5,0,4],[0,11,0]],[[6,0,3],[0,11,1]],[[6,0,2],[0,11,2]],[[6,0,1],[0,12,1]],[[6,0,0],[0,12,0]],[[6,0,1],[0,12,1]],[[6,0,2],[0,12,2]],[[6,0,3],[0,13,1]],[[6,0,4],[0,13,0]],[[7,0,3],[0,13,1]],[[7,0,2],[0,13,2]],[[7,0,1],[0,14,1]],[[7,0,0],[0,14,0]],[[7,0,1],[0,14,1]],[[7,0,2],[0,14,2]],[[7,0,3],[0,15,1]],[[7,0,4],[0,15,0]],[[8,0,4],[0,15,1]],[[8,0,3],[0,15,2]],[[8,0,2],[1,15,1]],[[8,0,1],[1,15,0]],[[8,0,0],[0,16,0]],[[8,0,1],[0,16,1]],[[8,0,2],[2,15,1]],[[8,0,3],[2,15,0]],[[8,0,4],[0,17,0]],[[9,0,3],[0,17,1]],[[9,0,2],[3,15,1]],[[9,0,1],[3,15,0]],[[9,0,0],[0,18,0]],[[9,0,1],[0,18,1]],[[9,0,2],[0,18,2]],[[9,0,3],[0,19,1]],[[9,0,4],[0,19,0]],[[10,0,3],[0,19,1]],[[10,0,2],[0,19,2]],[[10,0,1],[0,20,1]],[[10,0,0],[0,20,0]],[[10,0,1],[0,20,1]],[[10,0,2],[0,20,2]],[[10,0,3],[0,21,1]],[[10,0,4],[0,21,0]],[[11,0,3],[0,21,1]],[[11,0,2],[0,21,2]],[[11,0,1],[0,22,1]],[[11,0,0],[0,22,0]],[[11,0,1],[0,22,1]],[[11,0,2],[0,22,2]],[[11,0,3],[0,23,1]],[[11,0,4],[0,23,0]],[[12,0,4],[0,23,1]],[[12,0,3],[0,23,2]],[[12,0,2],[1,23,1]],[[12,0,1],[1,23,0]],[[12,0,0],[0,24,0]],[[12,0,1],[0,24,1]],[[12,0,2],[2,23,1]],[[12,0,3],[2,23,0]],[[12,0,4],[0,25,0]],[[13,0,3],[0,25,1]],[[13,0,2],[3,23,1]],[[13,0,1],[3,23,0]],[[13,0,0],[0,26,0]],[[13,0,1],[0,26,1]],[[13,0,2],[0,26,2]],[[13,0,3],[0,27,1]],[[13,0,4],[0,27,0]],[[14,0,3],[0,27,1]],[[14,0,2],[0,27,2]],[[14,0,1],[0,28,1]],[[14,0,0],[0,28,0]],[[14,0,1],[0,28,1]],[[14,0,2],[0,28,2]],[[14,0,3],[0,29,1]],[[14,0,4],[0,29,0]],[[15,0,3],[0,29,1]],[[15,0,2],[0,29,2]],[[15,0,1],[0,30,1]],[[15,0,0],[0,30,0]],[[15,0,1],[0,30,1]],[[15,0,2],[0,30,2]],[[15,0,3],[0,31,1]],[[15,0,4],[0,31,0]],[[16,0,4],[0,31,1]],[[16,0,3],[0,31,2]],[[16,0,2],[1,31,1]],[[16,0,1],[1,31,0]],[[16,0,0],[4,28,0]],[[16,0,1],[4,28,1]],[[16,0,2],[2,31,1]],[[16,0,3],[2,31,0]],[[16,0,4],[4,29,0]],[[17,0,3],[4,29,1]],[[17,0,2],[3,31,1]],[[17,0,1],[3,31,0]],[[17,0,0],[4,30,0]],[[17,0,1],[4,30,1]],[[17,0,2],[4,30,2]],[[17,0,3],[4,31,1]],[[17,0,4],[4,31,0]],[[18,0,3],[4,31,1]],[[18,0,2],[4,31,2]],[[18,0,1],[5,31,1]],[[18,0,0],[5,31,0]],[[18,0,1],[5,31,1]],[[18,0,2],[5,31,2]],[[18,0,3],[6,31,1]],[[18,0,4],[6,31,0]],[[19,0,3],[6,31,1]],[[19,0,2],[6,31,2]],[[19,0,1],[7,31,1]],[[19,0,0],[7,31,0]],[[19,0,1],[7,31,1]],[[19,0,2],[7,31,2]],[[19,0,3],[8,31,1]],[[19,0,4],[8,31,0]],[[20,0,4],[8,31,1]],[[20,0,3],[8,31,2]],[[20,0,2],[9,31,1]],[[20,0,1],[9,31,0]],[[20,0,0],[12,28,0]],[[20,0,1],[12,28,1]],[[20,0,2],[10,31,1]],[[20,0,3],[10,31,0]],[[20,0,4],[12,29,0]],[[21,0,3],[12,29,1]],[[21,0,2],[11,31,1]],[[21,0,1],[11,31,0]],[[21,0,0],[12,30,0]],[[21,0,1],[12,30,1]],[[21,0,2],[12,30,2]],[[21,0,3],[12,31,1]],[[21,0,4],[12,31,0]],[[22,0,3],[12,31,1]],[[22,0,2],[12,31,2]],[[22,0,1],[13,31,1]],[[22,0,0],[13,31,0]],[[22,0,1],[13,31,1]],[[22,0,2],[13,31,2]],[[22,0,3],[14,31,1]],[[22,0,4],[14,31,0]],[[23,0,3],[14,31,1]],[[23,0,2],[14,31,2]],[[23,0,1],[15,31,1]],[[23,0,0],[15,31,0]],[[23,0,1],[15,31,1]],[[23,0,2],[15,31,2]],[[23,0,3],[16,31,1]],[[23,0,4],[16,31,0]],[[24,0,4],[16,31,1]],[[24,0,3],[16,31,2]],[[24,0,2],[17,31,1]],[[24,0,1],[17,31,0]],[[24,0,0],[20,28,0]],[[24,0,1],[20,28,1]],[[24,0,2],[18,31,1]],[[24,0,3],[18,31,0]],[[24,0,4],[20,29,0]],[[25,0,3],[20,29,1]],[[25,0,2],[19,31,1]],[[25,0,1],[19,31,0]],[[25,0,0],[20,30,0]],[[25,0,1],[20,30,1]],[[25,0,2],[20,30,2]],[[25,0,3],[20,31,1]],[[25,0,4],[20,31,0]],[[26,0,3],[20,31,1]],[[26,0,2],[20,31,2]],[[26,0,1],[21,31,1]],[[26,0,0],[21,31,0]],[[26,0,1],[21,31,1]],[[26,0,2],[21,31,2]],[[26,0,3],[22,31,1]],[[26,0,4],[22,31,0]],[[27,0,3],[22,31,1]],[[27,0,2],[22,31,2]],[[27,0,1],[23,31,1]],[[27,0,0],[23,31,0]],[[27,0,1],[23,31,1]],[[27,0,2],[23,31,2]],[[27,0,3],[24,31,1]],[[27,0,4],[24,31,0]],[[28,0,4],[24,31,1]],[[28,0,3],[24,31,2]],[[28,0,2],[25,31,1]],[[28,0,1],[25,31,0]],[[28,0,0],[28,28,0]],[[28,0,1],[28,28,1]],[[28,0,2],[26,31,1]],[[28,0,3],[26,31,0]],[[28,0,4],[28,29,0]],[[29,0,3],[28,29,1]],[[29,0,2],[27,31,1]],[[29,0,1],[27,31,0]],[[29,0,0],[28,30,0]],[[29,0,1],[28,30,1]],[[29,0,2],[28,30,2]],[[29,0,3],[28,31,1]],[[29,0,4],[28,31,0]],[[30,0,3],[28,31,1]],[[30,0,2],[28,31,2]],[[30,0,1],[29,31,1]],[[30,0,0],[29,31,0]],[[30,0,1],[29,31,1]],[[30,0,2],[29,31,2]],[[30,0,3],[30,31,1]],[[30,0,4],[30,31,0]],[[31,0,3],[30,31,1]],[[31,0,2],[30,31,2]],[[31,0,1],[31,31,1]],[[31,0,0],[31,31,0]]],zl=[[[0,0,0],[0,0,0]],[[0,0,1],[0,1,1]],[[0,0,2],[0,1,0]],[[1,0,1],[0,2,1]],[[1,0,0],[0,2,0]],[[1,0,1],[0,3,1]],[[1,0,2],[0,3,0]],[[2,0,1],[0,4,1]],[[2,0,0],[0,4,0]],[[2,0,1],[0,5,1]],[[2,0,2],[0,5,0]],[[3,0,1],[0,6,1]],[[3,0,0],[0,6,0]],[[3,0,1],[0,7,1]],[[3,0,2],[0,7,0]],[[4,0,1],[0,8,1]],[[4,0,0],[0,8,0]],[[4,0,1],[0,9,1]],[[4,0,2],[0,9,0]],[[5,0,1],[0,10,1]],[[5,0,0],[0,10,0]],[[5,0,1],[0,11,1]],[[5,0,2],[0,11,0]],[[6,0,1],[0,12,1]],[[6,0,0],[0,12,0]],[[6,0,1],[0,13,1]],[[6,0,2],[0,13,0]],[[7,0,1],[0,14,1]],[[7,0,0],[0,14,0]],[[7,0,1],[0,15,1]],[[7,0,2],[0,15,0]],[[8,0,1],[0,16,1]],[[8,0,0],[0,16,0]],[[8,0,1],[0,17,1]],[[8,0,2],[0,17,0]],[[9,0,1],[0,18,1]],[[9,0,0],[0,18,0]],[[9,0,1],[0,19,1]],[[9,0,2],[0,19,0]],[[10,0,1],[0,20,1]],[[10,0,0],[0,20,0]],[[10,0,1],[0,21,1]],[[10,0,2],[0,21,0]],[[11,0,1],[0,22,1]],[[11,0,0],[0,22,0]],[[11,0,1],[0,23,1]],[[11,0,2],[0,23,0]],[[12,0,1],[0,24,1]],[[12,0,0],[0,24,0]],[[12,0,1],[0,25,1]],[[12,0,2],[0,25,0]],[[13,0,1],[0,26,1]],[[13,0,0],[0,26,0]],[[13,0,1],[0,27,1]],[[13,0,2],[0,27,0]],[[14,0,1],[0,28,1]],[[14,0,0],[0,28,0]],[[14,0,1],[0,29,1]],[[14,0,2],[0,29,0]],[[15,0,1],[0,30,1]],[[15,0,0],[0,30,0]],[[15,0,1],[0,31,1]],[[15,0,2],[0,31,0]],[[16,0,2],[1,31,1]],[[16,0,1],[1,31,0]],[[16,0,0],[0,32,0]],[[16,0,1],[2,31,0]],[[16,0,2],[0,33,0]],[[17,0,1],[3,31,0]],[[17,0,0],[0,34,0]],[[17,0,1],[4,31,0]],[[17,0,2],[0,35,0]],[[18,0,1],[5,31,0]],[[18,0,0],[0,36,0]],[[18,0,1],[6,31,0]],[[18,0,2],[0,37,0]],[[19,0,1],[7,31,0]],[[19,0,0],[0,38,0]],[[19,0,1],[8,31,0]],[[19,0,2],[0,39,0]],[[20,0,1],[9,31,0]],[[20,0,0],[0,40,0]],[[20,0,1],[10,31,0]],[[20,0,2],[0,41,0]],[[21,0,1],[11,31,0]],[[21,0,0],[0,42,0]],[[21,0,1],[12,31,0]],[[21,0,2],[0,43,0]],[[22,0,1],[13,31,0]],[[22,0,0],[0,44,0]],[[22,0,1],[14,31,0]],[[22,0,2],[0,45,0]],[[23,0,1],[15,31,0]],[[23,0,0],[0,46,0]],[[23,0,1],[0,47,1]],[[23,0,2],[0,47,0]],[[24,0,1],[0,48,1]],[[24,0,0],[0,48,0]],[[24,0,1],[0,49,1]],[[24,0,2],[0,49,0]],[[25,0,1],[0,50,1]],[[25,0,0],[0,50,0]],[[25,0,1],[0,51,1]],[[25,0,2],[0,51,0]],[[26,0,1],[0,52,1]],[[26,0,0],[0,52,0]],[[26,0,1],[0,53,1]],[[26,0,2],[0,53,0]],[[27,0,1],[0,54,1]],[[27,0,0],[0,54,0]],[[27,0,1],[0,55,1]],[[27,0,2],[0,55,0]],[[28,0,1],[0,56,1]],[[28,0,0],[0,56,0]],[[28,0,1],[0,57,1]],[[28,0,2],[0,57,0]],[[29,0,1],[0,58,1]],[[29,0,0],[0,58,0]],[[29,0,1],[0,59,1]],[[29,0,2],[0,59,0]],[[30,0,1],[0,60,1]],[[30,0,0],[0,60,0]],[[30,0,1],[0,61,1]],[[30,0,2],[0,61,0]],[[31,0,1],[0,62,1]],[[31,0,0],[0,62,0]],[[31,0,1],[0,63,1]],[[31,0,2],[0,63,0]],[[32,0,2],[1,63,1]],[[32,0,1],[1,63,0]],[[32,0,0],[16,48,0]],[[32,0,1],[2,63,0]],[[32,0,2],[16,49,0]],[[33,0,1],[3,63,0]],[[33,0,0],[16,50,0]],[[33,0,1],[4,63,0]],[[33,0,2],[16,51,0]],[[34,0,1],[5,63,0]],[[34,0,0],[16,52,0]],[[34,0,1],[6,63,0]],[[34,0,2],[16,53,0]],[[35,0,1],[7,63,0]],[[35,0,0],[16,54,0]],[[35,0,1],[8,63,0]],[[35,0,2],[16,55,0]],[[36,0,1],[9,63,0]],[[36,0,0],[16,56,0]],[[36,0,1],[10,63,0]],[[36,0,2],[16,57,0]],[[37,0,1],[11,63,0]],[[37,0,0],[16,58,0]],[[37,0,1],[12,63,0]],[[37,0,2],[16,59,0]],[[38,0,1],[13,63,0]],[[38,0,0],[16,60,0]],[[38,0,1],[14,63,0]],[[38,0,2],[16,61,0]],[[39,0,1],[15,63,0]],[[39,0,0],[16,62,0]],[[39,0,1],[16,63,1]],[[39,0,2],[16,63,0]],[[40,0,1],[17,63,1]],[[40,0,0],[17,63,0]],[[40,0,1],[18,63,1]],[[40,0,2],[18,63,0]],[[41,0,1],[19,63,1]],[[41,0,0],[19,63,0]],[[41,0,1],[20,63,1]],[[41,0,2],[20,63,0]],[[42,0,1],[21,63,1]],[[42,0,0],[21,63,0]],[[42,0,1],[22,63,1]],[[42,0,2],[22,63,0]],[[43,0,1],[23,63,1]],[[43,0,0],[23,63,0]],[[43,0,1],[24,63,1]],[[43,0,2],[24,63,0]],[[44,0,1],[25,63,1]],[[44,0,0],[25,63,0]],[[44,0,1],[26,63,1]],[[44,0,2],[26,63,0]],[[45,0,1],[27,63,1]],[[45,0,0],[27,63,0]],[[45,0,1],[28,63,1]],[[45,0,2],[28,63,0]],[[46,0,1],[29,63,1]],[[46,0,0],[29,63,0]],[[46,0,1],[30,63,1]],[[46,0,2],[30,63,0]],[[47,0,1],[31,63,1]],[[47,0,0],[31,63,0]],[[47,0,1],[32,63,1]],[[47,0,2],[32,63,0]],[[48,0,2],[33,63,1]],[[48,0,1],[33,63,0]],[[48,0,0],[48,48,0]],[[48,0,1],[34,63,0]],[[48,0,2],[48,49,0]],[[49,0,1],[35,63,0]],[[49,0,0],[48,50,0]],[[49,0,1],[36,63,0]],[[49,0,2],[48,51,0]],[[50,0,1],[37,63,0]],[[50,0,0],[48,52,0]],[[50,0,1],[38,63,0]],[[50,0,2],[48,53,0]],[[51,0,1],[39,63,0]],[[51,0,0],[48,54,0]],[[51,0,1],[40,63,0]],[[51,0,2],[48,55,0]],[[52,0,1],[41,63,0]],[[52,0,0],[48,56,0]],[[52,0,1],[42,63,0]],[[52,0,2],[48,57,0]],[[53,0,1],[43,63,0]],[[53,0,0],[48,58,0]],[[53,0,1],[44,63,0]],[[53,0,2],[48,59,0]],[[54,0,1],[45,63,0]],[[54,0,0],[48,60,0]],[[54,0,1],[46,63,0]],[[54,0,2],[48,61,0]],[[55,0,1],[47,63,0]],[[55,0,0],[48,62,0]],[[55,0,1],[48,63,1]],[[55,0,2],[48,63,0]],[[56,0,1],[49,63,1]],[[56,0,0],[49,63,0]],[[56,0,1],[50,63,1]],[[56,0,2],[50,63,0]],[[57,0,1],[51,63,1]],[[57,0,0],[51,63,0]],[[57,0,1],[52,63,1]],[[57,0,2],[52,63,0]],[[58,0,1],[53,63,1]],[[58,0,0],[53,63,0]],[[58,0,1],[54,63,1]],[[58,0,2],[54,63,0]],[[59,0,1],[55,63,1]],[[59,0,0],[55,63,0]],[[59,0,1],[56,63,1]],[[59,0,2],[56,63,0]],[[60,0,1],[57,63,1]],[[60,0,0],[57,63,0]],[[60,0,1],[58,63,1]],[[60,0,2],[58,63,0]],[[61,0,1],[59,63,1]],[[61,0,0],[59,63,0]],[[61,0,1],[60,63,1]],[[61,0,2],[60,63,0]],[[62,0,1],[61,63,1]],[[62,0,0],[61,63,0]],[[62,0,1],[62,63,1]],[[62,0,2],[62,63,0]],[[63,0,1],[63,63,1]],[[63,0,0],[63,63,0]]],Pl=[[[0,0,0],[0,0,0]],[[0,0,1],[0,1,1]],[[0,0,2],[0,1,0]],[[0,0,3],[0,1,1]],[[0,0,4],[0,2,1]],[[1,0,3],[0,2,0]],[[1,0,2],[0,2,1]],[[1,0,1],[0,3,1]],[[1,0,0],[0,3,0]],[[1,0,1],[1,2,1]],[[1,0,2],[1,2,0]],[[1,0,3],[0,4,0]],[[1,0,4],[0,5,1]],[[2,0,3],[0,5,0]],[[2,0,2],[0,5,1]],[[2,0,1],[0,6,1]],[[2,0,0],[0,6,0]],[[2,0,1],[2,3,1]],[[2,0,2],[2,3,0]],[[2,0,3],[0,7,0]],[[2,0,4],[1,6,1]],[[3,0,3],[1,6,0]],[[3,0,2],[0,8,0]],[[3,0,1],[0,9,1]],[[3,0,0],[0,9,0]],[[3,0,1],[0,9,1]],[[3,0,2],[0,10,1]],[[3,0,3],[0,10,0]],[[3,0,4],[2,7,1]],[[4,0,4],[2,7,0]],[[4,0,3],[0,11,0]],[[4,0,2],[1,10,1]],[[4,0,1],[1,10,0]],[[4,0,0],[0,12,0]],[[4,0,1],[0,13,1]],[[4,0,2],[0,13,0]],[[4,0,3],[0,13,1]],[[4,0,4],[0,14,1]],[[5,0,3],[0,14,0]],[[5,0,2],[2,11,1]],[[5,0,1],[2,11,0]],[[5,0,0],[0,15,0]],[[5,0,1],[1,14,1]],[[5,0,2],[1,14,0]],[[5,0,3],[0,16,0]],[[5,0,4],[0,17,1]],[[6,0,3],[0,17,0]],[[6,0,2],[0,17,1]],[[6,0,1],[0,18,1]],[[6,0,0],[0,18,0]],[[6,0,1],[2,15,1]],[[6,0,2],[2,15,0]],[[6,0,3],[0,19,0]],[[6,0,4],[1,18,1]],[[7,0,3],[1,18,0]],[[7,0,2],[0,20,0]],[[7,0,1],[0,21,1]],[[7,0,0],[0,21,0]],[[7,0,1],[0,21,1]],[[7,0,2],[0,22,1]],[[7,0,3],[0,22,0]],[[7,0,4],[2,19,1]],[[8,0,4],[2,19,0]],[[8,0,3],[0,23,0]],[[8,0,2],[1,22,1]],[[8,0,1],[1,22,0]],[[8,0,0],[0,24,0]],[[8,0,1],[0,25,1]],[[8,0,2],[0,25,0]],[[8,0,3],[0,25,1]],[[8,0,4],[0,26,1]],[[9,0,3],[0,26,0]],[[9,0,2],[2,23,1]],[[9,0,1],[2,23,0]],[[9,0,0],[0,27,0]],[[9,0,1],[1,26,1]],[[9,0,2],[1,26,0]],[[9,0,3],[0,28,0]],[[9,0,4],[0,29,1]],[[10,0,3],[0,29,0]],[[10,0,2],[0,29,1]],[[10,0,1],[0,30,1]],[[10,0,0],[0,30,0]],[[10,0,1],[2,27,1]],[[10,0,2],[2,27,0]],[[10,0,3],[0,31,0]],[[10,0,4],[1,30,1]],[[11,0,3],[1,30,0]],[[11,0,2],[4,24,0]],[[11,0,1],[1,31,1]],[[11,0,0],[1,31,0]],[[11,0,1],[1,31,1]],[[11,0,2],[2,30,1]],[[11,0,3],[2,30,0]],[[11,0,4],[2,31,1]],[[12,0,4],[2,31,0]],[[12,0,3],[4,27,0]],[[12,0,2],[3,30,1]],[[12,0,1],[3,30,0]],[[12,0,0],[4,28,0]],[[12,0,1],[3,31,1]],[[12,0,2],[3,31,0]],[[12,0,3],[3,31,1]],[[12,0,4],[4,30,1]],[[13,0,3],[4,30,0]],[[13,0,2],[6,27,1]],[[13,0,1],[6,27,0]],[[13,0,0],[4,31,0]],[[13,0,1],[5,30,1]],[[13,0,2],[5,30,0]],[[13,0,3],[8,24,0]],[[13,0,4],[5,31,1]],[[14,0,3],[5,31,0]],[[14,0,2],[5,31,1]],[[14,0,1],[6,30,1]],[[14,0,0],[6,30,0]],[[14,0,1],[6,31,1]],[[14,0,2],[6,31,0]],[[14,0,3],[8,27,0]],[[14,0,4],[7,30,1]],[[15,0,3],[7,30,0]],[[15,0,2],[8,28,0]],[[15,0,1],[7,31,1]],[[15,0,0],[7,31,0]],[[15,0,1],[7,31,1]],[[15,0,2],[8,30,1]],[[15,0,3],[8,30,0]],[[15,0,4],[10,27,1]],[[16,0,4],[10,27,0]],[[16,0,3],[8,31,0]],[[16,0,2],[9,30,1]],[[16,0,1],[9,30,0]],[[16,0,0],[12,24,0]],[[16,0,1],[9,31,1]],[[16,0,2],[9,31,0]],[[16,0,3],[9,31,1]],[[16,0,4],[10,30,1]],[[17,0,3],[10,30,0]],[[17,0,2],[10,31,1]],[[17,0,1],[10,31,0]],[[17,0,0],[12,27,0]],[[17,0,1],[11,30,1]],[[17,0,2],[11,30,0]],[[17,0,3],[12,28,0]],[[17,0,4],[11,31,1]],[[18,0,3],[11,31,0]],[[18,0,2],[11,31,1]],[[18,0,1],[12,30,1]],[[18,0,0],[12,30,0]],[[18,0,1],[14,27,1]],[[18,0,2],[14,27,0]],[[18,0,3],[12,31,0]],[[18,0,4],[13,30,1]],[[19,0,3],[13,30,0]],[[19,0,2],[16,24,0]],[[19,0,1],[13,31,1]],[[19,0,0],[13,31,0]],[[19,0,1],[13,31,1]],[[19,0,2],[14,30,1]],[[19,0,3],[14,30,0]],[[19,0,4],[14,31,1]],[[20,0,4],[14,31,0]],[[20,0,3],[16,27,0]],[[20,0,2],[15,30,1]],[[20,0,1],[15,30,0]],[[20,0,0],[16,28,0]],[[20,0,1],[15,31,1]],[[20,0,2],[15,31,0]],[[20,0,3],[15,31,1]],[[20,0,4],[16,30,1]],[[21,0,3],[16,30,0]],[[21,0,2],[18,27,1]],[[21,0,1],[18,27,0]],[[21,0,0],[16,31,0]],[[21,0,1],[17,30,1]],[[21,0,2],[17,30,0]],[[21,0,3],[20,24,0]],[[21,0,4],[17,31,1]],[[22,0,3],[17,31,0]],[[22,0,2],[17,31,1]],[[22,0,1],[18,30,1]],[[22,0,0],[18,30,0]],[[22,0,1],[18,31,1]],[[22,0,2],[18,31,0]],[[22,0,3],[20,27,0]],[[22,0,4],[19,30,1]],[[23,0,3],[19,30,0]],[[23,0,2],[20,28,0]],[[23,0,1],[19,31,1]],[[23,0,0],[19,31,0]],[[23,0,1],[19,31,1]],[[23,0,2],[20,30,1]],[[23,0,3],[20,30,0]],[[23,0,4],[22,27,1]],[[24,0,4],[22,27,0]],[[24,0,3],[20,31,0]],[[24,0,2],[21,30,1]],[[24,0,1],[21,30,0]],[[24,0,0],[24,24,0]],[[24,0,1],[21,31,1]],[[24,0,2],[21,31,0]],[[24,0,3],[21,31,1]],[[24,0,4],[22,30,1]],[[25,0,3],[22,30,0]],[[25,0,2],[22,31,1]],[[25,0,1],[22,31,0]],[[25,0,0],[24,27,0]],[[25,0,1],[23,30,1]],[[25,0,2],[23,30,0]],[[25,0,3],[24,28,0]],[[25,0,4],[23,31,1]],[[26,0,3],[23,31,0]],[[26,0,2],[23,31,1]],[[26,0,1],[24,30,1]],[[26,0,0],[24,30,0]],[[26,0,1],[26,27,1]],[[26,0,2],[26,27,0]],[[26,0,3],[24,31,0]],[[26,0,4],[25,30,1]],[[27,0,3],[25,30,0]],[[27,0,2],[28,24,0]],[[27,0,1],[25,31,1]],[[27,0,0],[25,31,0]],[[27,0,1],[25,31,1]],[[27,0,2],[26,30,1]],[[27,0,3],[26,30,0]],[[27,0,4],[26,31,1]],[[28,0,4],[26,31,0]],[[28,0,3],[28,27,0]],[[28,0,2],[27,30,1]],[[28,0,1],[27,30,0]],[[28,0,0],[28,28,0]],[[28,0,1],[27,31,1]],[[28,0,2],[27,31,0]],[[28,0,3],[27,31,1]],[[28,0,4],[28,30,1]],[[29,0,3],[28,30,0]],[[29,0,2],[30,27,1]],[[29,0,1],[30,27,0]],[[29,0,0],[28,31,0]],[[29,0,1],[29,30,1]],[[29,0,2],[29,30,0]],[[29,0,3],[29,30,1]],[[29,0,4],[29,31,1]],[[30,0,3],[29,31,0]],[[30,0,2],[29,31,1]],[[30,0,1],[30,30,1]],[[30,0,0],[30,30,0]],[[30,0,1],[30,31,1]],[[30,0,2],[30,31,0]],[[30,0,3],[30,31,1]],[[30,0,4],[31,30,1]],[[31,0,3],[31,30,0]],[[31,0,2],[31,30,1]],[[31,0,1],[31,31,1]],[[31,0,0],[31,31,0]]],Nl=[[[0,0,0],[0,0,0]],[[0,0,1],[0,1,0]],[[0,0,2],[0,2,0]],[[1,0,1],[0,3,1]],[[1,0,0],[0,3,0]],[[1,0,1],[0,4,0]],[[1,0,2],[0,5,0]],[[2,0,1],[0,6,1]],[[2,0,0],[0,6,0]],[[2,0,1],[0,7,0]],[[2,0,2],[0,8,0]],[[3,0,1],[0,9,1]],[[3,0,0],[0,9,0]],[[3,0,1],[0,10,0]],[[3,0,2],[0,11,0]],[[4,0,1],[0,12,1]],[[4,0,0],[0,12,0]],[[4,0,1],[0,13,0]],[[4,0,2],[0,14,0]],[[5,0,1],[0,15,1]],[[5,0,0],[0,15,0]],[[5,0,1],[0,16,0]],[[5,0,2],[1,15,0]],[[6,0,1],[0,17,0]],[[6,0,0],[0,18,0]],[[6,0,1],[0,19,0]],[[6,0,2],[3,14,0]],[[7,0,1],[0,20,0]],[[7,0,0],[0,21,0]],[[7,0,1],[0,22,0]],[[7,0,2],[4,15,0]],[[8,0,1],[0,23,0]],[[8,0,0],[0,24,0]],[[8,0,1],[0,25,0]],[[8,0,2],[6,14,0]],[[9,0,1],[0,26,0]],[[9,0,0],[0,27,0]],[[9,0,1],[0,28,0]],[[9,0,2],[7,15,0]],[[10,0,1],[0,29,0]],[[10,0,0],[0,30,0]],[[10,0,1],[0,31,0]],[[10,0,2],[9,14,0]],[[11,0,1],[0,32,0]],[[11,0,0],[0,33,0]],[[11,0,1],[2,30,0]],[[11,0,2],[0,34,0]],[[12,0,1],[0,35,0]],[[12,0,0],[0,36,0]],[[12,0,1],[3,31,0]],[[12,0,2],[0,37,0]],[[13,0,1],[0,38,0]],[[13,0,0],[0,39,0]],[[13,0,1],[5,30,0]],[[13,0,2],[0,40,0]],[[14,0,1],[0,41,0]],[[14,0,0],[0,42,0]],[[14,0,1],[6,31,0]],[[14,0,2],[0,43,0]],[[15,0,1],[0,44,0]],[[15,0,0],[0,45,0]],[[15,0,1],[8,30,0]],[[15,0,2],[0,46,0]],[[16,0,2],[0,47,0]],[[16,0,1],[1,46,0]],[[16,0,0],[0,48,0]],[[16,0,1],[0,49,0]],[[16,0,2],[0,50,0]],[[17,0,1],[2,47,0]],[[17,0,0],[0,51,0]],[[17,0,1],[0,52,0]],[[17,0,2],[0,53,0]],[[18,0,1],[4,46,0]],[[18,0,0],[0,54,0]],[[18,0,1],[0,55,0]],[[18,0,2],[0,56,0]],[[19,0,1],[5,47,0]],[[19,0,0],[0,57,0]],[[19,0,1],[0,58,0]],[[19,0,2],[0,59,0]],[[20,0,1],[7,46,0]],[[20,0,0],[0,60,0]],[[20,0,1],[0,61,0]],[[20,0,2],[0,62,0]],[[21,0,1],[8,47,0]],[[21,0,0],[0,63,0]],[[21,0,1],[1,62,0]],[[21,0,2],[1,63,0]],[[22,0,1],[10,46,0]],[[22,0,0],[2,62,0]],[[22,0,1],[2,63,0]],[[22,0,2],[3,62,0]],[[23,0,1],[11,47,0]],[[23,0,0],[3,63,0]],[[23,0,1],[4,62,0]],[[23,0,2],[4,63,0]],[[24,0,1],[13,46,0]],[[24,0,0],[5,62,0]],[[24,0,1],[5,63,0]],[[24,0,2],[6,62,0]],[[25,0,1],[14,47,0]],[[25,0,0],[6,63,0]],[[25,0,1],[7,62,0]],[[25,0,2],[7,63,0]],[[26,0,1],[16,45,0]],[[26,0,0],[8,62,0]],[[26,0,1],[8,63,0]],[[26,0,2],[9,62,0]],[[27,0,1],[16,48,0]],[[27,0,0],[9,63,0]],[[27,0,1],[10,62,0]],[[27,0,2],[10,63,0]],[[28,0,1],[16,51,0]],[[28,0,0],[11,62,0]],[[28,0,1],[11,63,0]],[[28,0,2],[12,62,0]],[[29,0,1],[16,54,0]],[[29,0,0],[12,63,0]],[[29,0,1],[13,62,0]],[[29,0,2],[13,63,0]],[[30,0,1],[16,57,0]],[[30,0,0],[14,62,0]],[[30,0,1],[14,63,0]],[[30,0,2],[15,62,0]],[[31,0,1],[16,60,0]],[[31,0,0],[15,63,0]],[[31,0,1],[24,46,0]],[[31,0,2],[16,62,0]],[[32,0,2],[16,63,0]],[[32,0,1],[17,62,0]],[[32,0,0],[25,47,0]],[[32,0,1],[17,63,0]],[[32,0,2],[18,62,0]],[[33,0,1],[18,63,0]],[[33,0,0],[27,46,0]],[[33,0,1],[19,62,0]],[[33,0,2],[19,63,0]],[[34,0,1],[20,62,0]],[[34,0,0],[28,47,0]],[[34,0,1],[20,63,0]],[[34,0,2],[21,62,0]],[[35,0,1],[21,63,0]],[[35,0,0],[30,46,0]],[[35,0,1],[22,62,0]],[[35,0,2],[22,63,0]],[[36,0,1],[23,62,0]],[[36,0,0],[31,47,0]],[[36,0,1],[23,63,0]],[[36,0,2],[24,62,0]],[[37,0,1],[24,63,0]],[[37,0,0],[32,47,0]],[[37,0,1],[25,62,0]],[[37,0,2],[25,63,0]],[[38,0,1],[26,62,0]],[[38,0,0],[32,50,0]],[[38,0,1],[26,63,0]],[[38,0,2],[27,62,0]],[[39,0,1],[27,63,0]],[[39,0,0],[32,53,0]],[[39,0,1],[28,62,0]],[[39,0,2],[28,63,0]],[[40,0,1],[29,62,0]],[[40,0,0],[32,56,0]],[[40,0,1],[29,63,0]],[[40,0,2],[30,62,0]],[[41,0,1],[30,63,0]],[[41,0,0],[32,59,0]],[[41,0,1],[31,62,0]],[[41,0,2],[31,63,0]],[[42,0,1],[32,61,0]],[[42,0,0],[32,62,0]],[[42,0,1],[32,63,0]],[[42,0,2],[41,46,0]],[[43,0,1],[33,62,0]],[[43,0,0],[33,63,0]],[[43,0,1],[34,62,0]],[[43,0,2],[42,47,0]],[[44,0,1],[34,63,0]],[[44,0,0],[35,62,0]],[[44,0,1],[35,63,0]],[[44,0,2],[44,46,0]],[[45,0,1],[36,62,0]],[[45,0,0],[36,63,0]],[[45,0,1],[37,62,0]],[[45,0,2],[45,47,0]],[[46,0,1],[37,63,0]],[[46,0,0],[38,62,0]],[[46,0,1],[38,63,0]],[[46,0,2],[47,46,0]],[[47,0,1],[39,62,0]],[[47,0,0],[39,63,0]],[[47,0,1],[40,62,0]],[[47,0,2],[48,46,0]],[[48,0,2],[40,63,0]],[[48,0,1],[41,62,0]],[[48,0,0],[41,63,0]],[[48,0,1],[48,49,0]],[[48,0,2],[42,62,0]],[[49,0,1],[42,63,0]],[[49,0,0],[43,62,0]],[[49,0,1],[48,52,0]],[[49,0,2],[43,63,0]],[[50,0,1],[44,62,0]],[[50,0,0],[44,63,0]],[[50,0,1],[48,55,0]],[[50,0,2],[45,62,0]],[[51,0,1],[45,63,0]],[[51,0,0],[46,62,0]],[[51,0,1],[48,58,0]],[[51,0,2],[46,63,0]],[[52,0,1],[47,62,0]],[[52,0,0],[47,63,0]],[[52,0,1],[48,61,0]],[[52,0,2],[48,62,0]],[[53,0,1],[56,47,0]],[[53,0,0],[48,63,0]],[[53,0,1],[49,62,0]],[[53,0,2],[49,63,0]],[[54,0,1],[58,46,0]],[[54,0,0],[50,62,0]],[[54,0,1],[50,63,0]],[[54,0,2],[51,62,0]],[[55,0,1],[59,47,0]],[[55,0,0],[51,63,0]],[[55,0,1],[52,62,0]],[[55,0,2],[52,63,0]],[[56,0,1],[61,46,0]],[[56,0,0],[53,62,0]],[[56,0,1],[53,63,0]],[[56,0,2],[54,62,0]],[[57,0,1],[62,47,0]],[[57,0,0],[54,63,0]],[[57,0,1],[55,62,0]],[[57,0,2],[55,63,0]],[[58,0,1],[56,62,1]],[[58,0,0],[56,62,0]],[[58,0,1],[56,63,0]],[[58,0,2],[57,62,0]],[[59,0,1],[57,63,1]],[[59,0,0],[57,63,0]],[[59,0,1],[58,62,0]],[[59,0,2],[58,63,0]],[[60,0,1],[59,62,1]],[[60,0,0],[59,62,0]],[[60,0,1],[59,63,0]],[[60,0,2],[60,62,0]],[[61,0,1],[60,63,1]],[[61,0,0],[60,63,0]],[[61,0,1],[61,62,0]],[[61,0,2],[61,63,0]],[[62,0,1],[62,62,1]],[[62,0,0],[62,62,0]],[[62,0,1],[62,63,0]],[[62,0,2],[63,62,0]],[[63,0,1],[63,63,1]],[[63,0,0],[63,63,0]]];function Cl(t,e){var r=parseInt(t+.5);return r<0?0:r}function Ml(t){return Cl(31*t.x)<<11|Cl(63*t.y)<<5|Cl(31*t.z)}function Dl(t,e,r,n,i){n[i+0]=255&t,n[i+1]=t>>8,n[i+2]=255&e,n[i+3]=e>>8;for(var a=0;a<4;a++)n[i+4+a]=r[4*a+0]|r[4*a+1]<<2|r[4*a+2]<<4|r[4*a+3]<<6}function jl(t,e,r,n,i){var a,o=Ml(t),s=Ml(e);if(o<=s)a=r.slice();else{var u=[s,o];o=u[0],s=u[1],a=r.map((function(t){return 0===t?1:1===t?0:t}))}Dl(o,s,a,n,i)}function Fl(t,e,r,n,i){var a,o=Ml(t),s=Ml(e);if(o<s){var u=[s,o];o=u[0],s=u[1],a=r.map((function(t){return 3&(1^t)}))}else a=o==s?new Array(16).fill(0):r.slice();Dl(o,s,a,n,i)}var Vl=function(){function t(e,r,n){ou(this,t),this.flags=n,this._count=0,this._transparent=!1,this._remap=[],this._weights=[],this._points=[];for(var i=0!=(1&this.flags),a=0!=(128&this.flags),o=0;o<16;o++){if(0!=(r&1<<o))if(i&&e[4*o+3]<128)this._remap[o]=-1,this._transparent=!0;else for(var s=0;;s++){if(s==o){var u=e[4*o]/255,h=e[4*o+1]/255,c=e[4*o+2]/255,f=(e[4*o+3]+1)/256;this._points[this._count]=new Ul(u,h,c),this._weights[this._count]=a?f:1,this._remap[o]=this._count,this._count++;break}if(0!=(r&1<<s)&&e[4*o]==e[4*s]&&e[4*o+1]==e[4*s+1]&&e[4*o+2]==e[4*s+2]&&(e[4*s+3]>=128||!i)){var l=this._remap[s],d=(e[4*o+3]+1)/256;this._weights[l]+=a?d:1,this._remap[o]=l;break}}else this._remap[o]=-1}for(var v=0;v<this._count;++v)this._weights[v]=Math.sqrt(this._weights[v])}return uu(t,[{key:"transparent",get:function(){return this._transparent}},{key:"count",get:function(){return this._count}},{key:"points",get:function(){return Object.freeze(this._points.slice())}},{key:"weights",get:function(){return Object.freeze(this._weights.slice())}},{key:"remapIndicesSingle",value:function(t,e){var r=this._remap.map((function(e){return-1===e?3:t}));e.forEach((function(t,n){return e[n]=r[n]}))}},{key:"remapIndices",value:function(t,e){var r=this._remap.map((function(e){return-1===e?3:t[e]}));e.forEach((function(t,n){return e[n]=r[n]}))}}]),t}(),Zl=function(){function t(e){ou(this,t),this.colors=e,this.flags=e.flags}return uu(t,[{key:"compress",value:function(t,e){0!=(1&this.flags)?(this.compress3(t,e),this.colors.transparent||this.compress4(t,e)):this.compress4(t,e)}},{key:"compress3",value:function(t,e){}},{key:"compress4",value:function(t,e){}}]),t}(),Xl=function(t){cu(r,t);var e=_u(r);function r(t){var n;ou(this,r),n=e.call(this,t);var i=t.points[0];return n.color=i.colorInt,n.start=new Ul(0),n.end=new Ul(0),n.index=0,n.error=1/0,n.bestError=1/0,n}return uu(r,[{key:"compressBase",value:function(t,e){if(this.computeEndPoints(t),this.error<this.bestError){var r=new Uint8Array(16);this.colors.remapIndicesSingle(this.index,r),e(this.start,this.end,r),this.bestError=this.error}}},{key:"compress3",value:function(t,e){var r=[Bl,zl,Bl];this.compressBase(r,(function(r,n,i){return jl(r,n,i,t,e)}))}},{key:"compress4",value:function(t,e){var r=[Pl,Nl,Pl];this.compressBase(r,(function(r,n,i){return Fl(r,n,i,t,e)}))}},{key:"computeEndPoints",value:function(t){this.error=1/0;for(var e=0;e<2;e++){for(var r=[],n=0,i=0;i<3;i++){var a=t[i],o=this.color[i];r[i]=a[o][e];var s=r[i][2];n+=s*s}n<this.error&&(this.start=new Ul(r[0][0]/31,r[1][0]/63,r[2][0]/31),this.end=new Ul(r[0][1]/31,r[1][1]/63,r[2][1]/31),this.index=2*e,this.error=n)}}}]),r}(Zl),Wl=function(t){cu(r,t);var e=_u(r);function r(t){var n;return ou(this,r),(n=e.call(this,t)).metric=new Ul(1),0!=(32&n.flags)&&n.metric.set(.2126,.7152,.0722),n.start=new Ul(0),n.end=new Ul(0),n.bestError=1/0,n.computePoints(),n}return uu(r,[{key:"compressBase",value:function(t,e){var r=this,n=this.colors.points,i=0,a=n.map((function(e){var n=1/0,a=t.reduce((function(t,i,a){var o=Ul.sub(e,i).multVector(r.metric).lengthSq;return o>=n?t:(n=o,a)}),0);return i+=n,a}));if(i<this.bestError){var o=new Uint8Array(16);this.colors.remapIndices(a,o),e(this.start,this.end,o),this.bestError=i}}},{key:"compress3",value:function(t,e){var r=[this.start.clone(),this.end.clone(),Ul.interpolate(this.start,this.end,.5)];this.compressBase(r,(function(r,n,i){return jl(r,n,i,t,e)}))}},{key:"compress4",value:function(t,e){var r=[this.start.clone(),this.end.clone(),Ul.interpolate(this.start,this.end,1/3),Ul.interpolate(this.start,this.end,2/3)];this.compressBase(r,(function(r,n,i){return Fl(r,n,i,t,e)}))}},{key:"computePoints",value:function(){var t=this.colors,e=t.count,r=t.points,n=t.weights;if(!(e<=0)){var i,a,o,s,u=Ll(r,n);i=a=r[0],o=s=Ul.dot(i,u);for(var h=1;h<e;h++){var c=Ul.dot(r[h],u);c<o?(i=r[h],o=c):c>s&&(a=r[h],s=c)}this.start=i.clampGrid().clone(),this.end=a.clampGrid().clone()}}}]),r}(Zl),Hl=function(t){cu(r,t);var e=_u(r);function r(t){var n;ou(this,r);(n=e.call(this,t)).iterationCount=t.flags&kl?8:1,n.bestError=1/0,n.metric=new Il(1),0!=(32&n.flags)&&n.metric.set(.2126,.7152,.0722,0);var i=n.colors,a=i.points,o=i.weights;return n.principle=Ll(a,o),n.order=new Uint8Array(128),n.pointsWeights=[],n.xSum_wSum=new Il(0),n}return uu(r,[{key:"constructOrdering",value:function(t,e){var r=this.makeOrder(t);return this.copyOrderToThisOrder(r,e),!!this.checkOrderUnique(r,e)&&(this.copyOrderWeight(r),!0)}},{key:"compress3",value:function(t,e){this.compressBase((function(t){var e=t[0],r=t[2],n=t[3],i=new Il(.5,.5,.5,1/4),a=Il.multiplyAdd(r,i,e),o=a.splatW,s=Il.multiplyAdd(r,i,n);return{ax:a,aa:o,bx:s,bb:s.splatW,ab:Il.multVector(r,i).splatW}}),(function(r,n,i){return jl(r,n,i,t,e)}),2)}},{key:"compress4",value:function(t,e){this.compressBase((function(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=new Il(1/3,1/3,1/3,1/9),o=new Il(2/3,2/3,2/3,4/9),s=new Il(2/9),u=Il.multiplyAdd(n,a,Il.multiplyAdd(r,o,e)),h=u.splatW,c=Il.multiplyAdd(r,a,Il.multiplyAdd(n,o,i));return{ax:u,aa:h,bx:c,bb:c.splatW,ab:Il.multVector(s,Il.add(r,n)).splatW}}),(function(r,n,i){return Fl(r,n,i,t,e)}),3)}},{key:"compressBase",value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;this.constructOrdering(this.principle,0);var i={start:new Il(0),end:new Il(0),error:this.bestError,iteration:0,bestI:0,bestJ:0};3===n&&(i.bestK=0);for(var a=function(e,n){var a=t(e),o=r.computeOptimalPoints(a);return o.error<i.error&&(i=ru(ru({},o),n),!0)},o=0;(this.clusterIterate(o,a,n),i.iteration==o)&&++o!=this.iterationCount;){var s=Il.sub(i.end,i.start).xyz;if(!this.constructOrdering(s,o))break}i.error<this.bestError&&this.saveBlock(i,e)}},{key:"makeOrder",value:function(t){var e=this.colors,r=e.count,n=e.points.map((function(e,r){return Ul.dot(e,t)}));return ku({length:r},(function(t,e){return e})).sort((function(t,e){return n[t]-n[e]!=0?n[t]-n[e]:t-e}))}},{key:"copyOrderToThisOrder",value:function(t,e){var r=this,n=16*e;t.forEach((function(t,e){r.order[n+e]=t}))}},{key:"checkOrderUnique",value:function(t,e){for(var r=this.colors.count,n=0;n<e;n++){for(var i=16*n,a=!0,o=0;o<r;o++)if(t[o]!==this.order[i+o]){a=!1;break}if(a)return!1}return!0}},{key:"copyOrderWeight",value:function(t){var e=this.colors,r=e.count,n=e.points,i=e.weights;this.xSum_wSum.set(0);for(var a=0;a<r;a++){var o=t[a],s=n[o].toVec4(1),u=new Il(i[o]),h=Il.multVector(s,u);this.pointsWeights[a]=h,this.xSum_wSum.addVector(h)}}},{key:"computeOptimalPoints",value:function(t){var e=t.ax,r=t.bx,n=t.aa,i=t.bb,a=t.ab,o=Il.negativeMultiplySubtract(a,a,Il.multVector(n,i)).reciprocal(),s=Il.negativeMultiplySubtract(r,a,Il.multVector(e,i)).multVector(o),u=Il.negativeMultiplySubtract(e,a,Il.multVector(r,n)).multVector(o);return s.clampGrid(),u.clampGrid(),{start:s,end:u,error:this.computeError(ru({a:s,b:u},t))}}},{key:"computeError",value:function(t){var e=t.a,r=t.b,n=t.ax,i=t.bx,a=t.aa,o=t.bb,s=t.ab,u=new Il(2),h=Il.multiplyAdd(Il.multVector(e,e),a,Il.multVector(r,r).multVector(o)),c=Il.negativeMultiplySubtract(e,n,Il.multVector(e,r).multVector(s)),f=Il.negativeMultiplySubtract(r,i,c),l=Il.multiplyAdd(u,f,h),d=Il.multVector(l,this.metric);return d.x+d.y+d.z}},{key:"saveBlock",value:function(t,e){for(var r,n=this.colors.count,i=t.start,a=t.end,o=t.iteration,s=t.error,u=t.bestI,h=t.bestJ,c=t.bestK,f=void 0===c?-1:c,l=16*o,d=new Uint8Array(16),v=0;v<n;v++)d[this.order[l+v]]=(r=v)<u?0:r<h?2:r<f?3:1;var p=new Uint8Array(16);this.colors.remapIndices(d,p),e(i.xyz,a.xyz,p),this.bestError=s}},{key:"clusterIterate",value:function(t,e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=this.colors.count,i=function(e,n,i){var a={bestI:e,bestJ:2===r?i:n,iteration:t};return 3===r&&(a.bestK=i),a},a=new Il(0),o=0;o<n;o++){for(var s=new Il(0),u=o;;){for(var h=0==u?this.pointsWeights[0].clone():new Il(0),c=0==u?1:u,f=c;;){var l=Il.sub(this.xSum_wSum,h).subVector(s).subVector(a);if(e([a,s,h,l],i(o,u,f)),f==n)break;h.addVector(this.pointsWeights[f]),f++}if(2===r)break;if(u===n)break;s.addVector(this.pointsWeights[u]),u++}a.addVector(this.pointsWeights[o])}}}]),r}(Zl);function Gl(t){var e=Math.floor(t*(15/255)+.5);return e<0?0:e>15?15:e}function Yl(t,e,r,n){var i=Kl(t,e,5),a=Kl(t,e,7);i.error<=a.error?function(t,e,r){var n=t.min,i=t.max,a=t.indices;if(n>i){ql(i,n,a.map((function(t){return 0===t?1:1===t?0:t<=5?7-t:t})),e,r)}else ql(n,i,a,e,r)}(i,r,n):function(t,e,r){var n=t.min,i=t.max,a=t.indices;if(n>i){ql(i,n,a.map((function(t){return 0===t?1:1===t?0:9-t})),e,r)}else ql(n,i,a,e,r)}(a,r,n)}function Kl(t,e,r){var n=function(t,e,r){for(var n=255,i=0,a=0;a<16;a++){if(0!=(e&1<<a)){var o=t[4*a+3];5===r?(0!==o&&o<n&&(n=o),255!==o&&o>i&&(i=o)):(o<n&&(n=o),o>i&&(i=o))}}n>i&&(n=i);i-n<r&&(i=Math.min(n+r,255));i-n<r&&(n=Math.max(i-r,0));return{min:n,max:i}}(t,e,r),i=n.min,a=n.max,o=Jl(i,a,r),s=new Uint8Array(16),u=function(t,e,r,n){for(var i=0,a=0;a<16;++a){if(0!=(e&1<<a)){for(var o=t[4*a+3],s=1/0,u=0,h=0;h<8;++h){var c=o-r[h];(c*=c)<s&&(s=c,u=h)}n[a]=u,i+=s}else n[a]=0}return i}(t,e,o,s);return{min:i,max:a,indices:s,error:u}}function Jl(t,e,r){var n=[t,e].concat(ku({length:r-1},(function(n,i){return Math.floor(((r-(i+1))*t+(i+1)*e)/r)})));return 5===r&&(n[6]=0,n[7]=255),n}function ql(t,e,r,n,i){n[i]=t,n[i+1]=e;for(var a=0,o=i+2,s=0;s<2;s++){for(var u=0,h=0;h<8;++h){u|=r[a]<<3*h,a++}for(var c=0;c<3;++c){var f=u>>8*c&255;n[o]=f,o++}}}function $l(t){var e=t>>11&31,r=t>>5&63,n=31&t;return[e<<3|e>>2,r<<2|r>>4,n<<3|n>>2,255]}function Ql(t,e,r){var n=t.map((function(t,n){return Math.floor(t*(1-r)+e[n]*r)}));return n[3]=255,n}function td(t,e,r,n){for(var i=function(t,e,r){var n=t[e]|t[e+1]<<8,i=t[e+2]|t[e+3]<<8,a=$l(n),o=$l(i);return[a,o,Ql(a,o,r&&n<=i?.5:1/3),r&&n<=i?[0,0,0,0]:Ql(a,o,2/3)]}(e,r,n),a=function(t,e){for(var r=e+4,n=new Uint8Array(16),i=0;i<4;i++){var a=t[r+i];n[4*i+0]=3&a,n[4*i+1]=a>>2&3,n[4*i+2]=a>>4&3,n[4*i+3]=a>>6&3}return n}(e,r),o=0;o<16;o++)for(var s=0;s<4;s++)t[4*o+s]=i[a[o]][s]}function ed(t){for(var e=0;e<4;e++)for(var r=0;r<4;r++)t(r,e)}function rd(t){var e=7&t,r=280&t,n=96&t;return 2!=e&&4!=e&&(e=1),16!=r&&r!=kl&&(r=8),64!=n&&(n=32),e|r|n|128&t}function nd(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.x,i=void 0===n?0:n,a=r.y,o=void 0===a?0:a,s=r.width,u=void 0===s?0:s,h=r.height,c=void 0===h?0:h,f=0;ed((function(r,n){var a=i+r,s=o+n;if(a<u&&s<c)for(var h=4*(u*s+a),l=0;l<4;l++)t[h+l]=e[f++];else f+=4}))}function id(t,e,r,n,i){var a,o=0!=(6&(i=rd(i)))?8:0,s=new Vl(t,e,i);(1===(a=s).count?new Xl(a):0!=(16&a.flags)||0==a.count?new Wl(a):new Hl(a)).compress(r,n+o),0!=(2&i)?function(t,e,r,n){for(var i=0;i<8;i++){var a=Gl(t[8*i+3]),o=Gl(t[8*i+7]);0==(e&1<<2*i)&&(a=0),0==(e&1<<2*i+1)&&(o=0),r[n+i]=a|o<<4}}(t,e,r,n):0!=(4&i)&&Yl(t,e,r,n)}function ad(t,e,r,n){td(t,e,r+(0!=(6&(n=rd(n)))?8:0),0!=(1&n)),0!=(2&n)?function(t,e,r){for(var n=0;n<8;++n){var i=e[r+n],a=15&i,o=240&i;t[8*n+3]=a|a<<4,t[8*n+7]=o|o>>4}}(t,e,r):0!=(4&n)&&function(t,e,r){for(var n=e[r+0],i=e[r+1],a=Jl(n,i,n<=i?5:7),o=new Uint8Array(16),s=0,u=2,h=0;h<2;h++){for(var c=0,f=0;f<3;f++)c|=e[r+u]<<8*f,u++;for(var l=0;l<8;l++){var d=c>>3*l&7;o[s]=d,s++}}for(var v=0;v<16;++v)t[4*v+3]=a[o[v]]}(t,e,r)}function od(t,e,r,n,i){var a=0!=(1&(i=rd(i)))?8:16,o=0;!function(t,e,r){for(var n=0;n<e;n+=4)for(var i=0;i<t;i+=4)r(i,n)}(e,r,(function(s,u){var h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.x,n=void 0===r?0:r,i=e.y,a=void 0===i?0:i,o=e.width,s=void 0===o?0:o,u=e.height,h=void 0===u?0:u,c=new Uint8Array(64),f=0,l=0;return ed((function(e,r){var i=n+e,o=a+r;if(i<s&&o<h){for(var u=4*(s*o+i),d=0;d<4;d++)c[l++]=t[u++];f|=1<<4*r+e}else l+=4})),{block:c,mask:f}}(t,{x:s,y:u,width:e,height:r});id(h.block,h.mask,n,o,i),o+=a}))}var sd=1,ud=2,hd=4;function cd(t,e,r,n){var i=t instanceof ArrayBuffer?new Uint8Array(t):t,a=function(t,e,r){return r=rd(r),Math.floor((t+3)/4)*Math.floor((e+3)/4)*(0!=(1&r)?8:16)}(e,r,n),o=new Uint8Array(a);return od(i,e,r,o,n),o}function fd(t,e,r,n){var i=t instanceof ArrayBuffer?new Uint8Array(t):t,a=new Uint8Array(e*r*4);return function(t,e,r,n,i){for(var a=0!=(1&(i=rd(i)))?8:16,o=0,s=0;s<r;s+=4)for(var u=0;u<e;u+=4){var h=new Uint8Array(64);ad(h,n,o,i),nd(t,h,{x:u,y:s,width:e,height:r}),o+=a}}(a,e,r,i,n),a}function ld(t,e,r){return t>>r&Math.pow(2,e)-1}function dd(t,e,r,n){var i=Math.round(t/255*31),a=Math.round(e/255*31),o=Math.round(r/255*31);return Math.round(n/255)<<15|i<<10|a<<5|o}var vd=function(t){cu(r,t);var e=_u(r);function r(){return ou(this,r),e.apply(this,arguments)}return uu(r,[{key:"read",value:function(t){var e=new yl,r=new il,n=e.read(t),i=r.read(t),a=r.read(t),o=r.read(t);o>1&&console.warn("Found mipcount of ".concat(o,", only the first will be used."));var s=r.read(t),u=t.read(s);if(4==n)u=fd(u,i,a,sd);else if(5==n)u=fd(u,i,a,ud);else if(6==n)u=fd(u,i,a,hd);else if(2==n)u=function(t){for(var e,r,n,i=new Uint8Array(t),a=i.length/2,o=new Uint8Array(4*a),s=0;s<a;s++){var u=(r=void 0,n=void 0,r=(e=i[2*s]|i[2*s+1]<<8)>>15&1,[(n=[ld(e,5,10),ld(e,5,5),ld(e,5,0)].map((function(t){return t<<3|t>>2})))[0],n[1],n[2],255*r]);o[4*s]=u[0],o[4*s+1]=u[1],o[4*s+2]=u[2],o[4*s+3]=u[3]}return o}(u);else if(0!=n)throw new Error("Non-implemented Texture2D format type (".concat(n,") found."));u instanceof ArrayBuffer&&(u=new Uint8Array(u));for(var h=0;h<u.length;h+=4){var c=255/u[h+3];u[h]=Math.min(Math.ceil(u[h]*c),255),u[h+1]=Math.min(Math.ceil(u[h+1]*c),255),u[h+2]=Math.min(Math.ceil(u[h+2]*c),255)}return{format:n,export:{type:this.type,data:u,width:i,height:a}}}},{key:"write",value:function(t,e,r){var n=new yl,i=new il;this.writeIndex(t,r);var a=e.export.width,o=e.export.height;n.write(t,e.format,null),i.write(t,e.export.width,null),i.write(t,e.export.height,null),i.write(t,1,null);for(var s=e.export.data,u=0;u<s.length;u+=4){var h=s[u+3]/255;s[u]=Math.floor(s[u]*h),s[u+1]=Math.floor(s[u+1]*h),s[u+2]=Math.floor(s[u+2]*h)}4===e.format?s=cd(s,a,o,sd):5===e.format?s=cd(s,a,o,ud):6===e.format?s=cd(s,a,o,hd):2===e.format&&(s=function(t){for(var e=new Uint8Array(t),r=e.length/4,n=new Uint8Array(2*r),i=0;i<r;i++){var a=dd(e[4*i],e[4*i+1],e[4*i+2],e[4*i+3]);n[2*i]=255&a,n[2*i+1]=a>>8}return n}(s)),i.write(t,s.length,null),t.concat(s)}},{key:"isValueType",value:function(){return!1}}],[{key:"isTypeOf",value:function(t){return"Microsoft.Xna.Framework.Content.Texture2DReader"===t}}]),r}(nl),pd=function(t){cu(r,t);var e=_u(r);function r(){return ou(this,r),e.apply(this,arguments)}return uu(r,[{key:"read",value:function(t){var e=new ml;return{x:e.read(t),y:e.read(t),z:e.read(t)}}},{key:"write",value:function(t,e,r){this.writeIndex(t,r);var n=new ml;n.write(t,e.x,null),n.write(t,e.y,null),n.write(t,e.z,null)}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.Vector3Reader":case"Microsoft.Xna.Framework.Vector3":return!0;default:return!1}}}]),r}(nl),yd=function(t){cu(r,t);var e=_u(r);function r(){return ou(this,r),e.apply(this,arguments)}return uu(r,[{key:"read",value:function(t,e){var r=new yl,n=new ml,i=new _l(new ll);return{texture:e.read(t),glyphs:e.read(t),cropping:e.read(t),characterMap:e.read(t),verticalLineSpacing:r.read(t),horizontalSpacing:n.read(t),kerning:e.read(t),defaultCharacter:i.read(t)}}},{key:"write",value:function(t,e,r){var n=new yl,i=new ll,a=new ml,o=new _l(i),s=new vd,u=new wl(new bl),h=new wl(i),c=new wl(new pd);this.writeIndex(t,r);try{s.write(t,e.texture,r),t.alloc(1e5),u.write(t,e.glyphs,r),u.write(t,e.cropping,r),h.write(t,e.characterMap,r),n.write(t,e.verticalLineSpacing,null),a.write(t,e.horizontalSpacing,null),c.write(t,e.kerning,r),o.write(t,e.defaultCharacter,null)}catch(t){throw t}}},{key:"isValueType",value:function(){return!1}}],[{key:"isTypeOf",value:function(t){return"Microsoft.Xna.Framework.Content.SpriteFontReader"===t}},{key:"parseTypeList",value:function(){return["SpriteFont","Texture2D","List<Rectangle>","Rectangle","List<Rectangle>","Rectangle","List<Char>","Char",null,null,"List<Vector3>","Vector3","Nullable<Char>","Char"]}}]),r}(nl),wd=function(t){cu(r,t);var e=_u(r);function r(){return ou(this,r),e.apply(this,arguments)}return uu(r,[{key:"read",value:function(t){var e=(new yl).read(t),r=t.read(e);return{export:{type:this.type,data:r}}}},{key:"write",value:function(t,e,r){this.writeIndex(t,r);var n=e.export.data;(new yl).write(t,n.byteLength,null),t.concat(n)}},{key:"isValueType",value:function(){return!1}}],[{key:"isTypeOf",value:function(t){return"xTile.Pipeline.TideReader"===t}}]),r}(nl);!function(t){cu(r,t);var e=_u(r);function r(){return ou(this,r),e.apply(this,arguments)}uu(r,[{key:"read",value:function(t){var e=new yl,r=new il,n=e.read(t),i=r.read(t),a=r.read(t),o=r.read(t);o>1&&console.warn("Found mipcount of ".concat(o,", only the first will be used."));var s=r.read(t),u=t.read(s);if(u=new Uint8Array(u),0!=n)throw new Error("Compressed texture format is not supported!");for(var h=0;h<u.length;h+=4){var c=255/u[h+3];u[h]=Math.min(Math.ceil(u[h]*c),255),u[h+1]=Math.min(Math.ceil(u[h+1]*c),255),u[h+2]=Math.min(Math.ceil(u[h+2]*c),255)}return{format:n,export:{type:this.type,data:u,width:i,height:a}}}},{key:"write",value:function(t,e,r){if(0!=e.format)throw new Error("Compressed texture format is not supported!");var n=new yl,i=new il;this.writeIndex(t,r),e.export.width,e.export.height,n.write(t,e.format,null),i.write(t,e.export.width,null),i.write(t,e.export.height,null),i.write(t,1,null);for(var a=e.export.data,o=0;o<a.length;o+=4){var s=a[o+3]/255;a[o]=Math.floor(a[o]*s),a[o+1]=Math.floor(a[o+1]*s),a[o+2]=Math.floor(a[o+2]*s)}i.write(t,a.length,null),t.concat(a)}},{key:"isValueType",value:function(){return!1}},{key:"type",get:function(){return"Texture2D"}}],[{key:"isTypeOf",value:function(t){return"Microsoft.Xna.Framework.Content.Texture2DReader"===t}},{key:"type",value:function(){return"Texture2D"}}])}(nl);var _d,gd=function(t){cu(r,t);var e=_u(r);function r(){return ou(this,r),e.apply(this,arguments)}return uu(r,[{key:"read",value:function(t){var e=new ml;return{x:e.read(t),y:e.read(t)}}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.Vector2Reader":case"Microsoft.Xna.Framework.Vector2":return!0;default:return!1}}}]),r}(nl),bd=function(t){cu(r,t);var e=_u(r);function r(){return ou(this,r),e.apply(this,arguments)}return uu(r,[{key:"read",value:function(t){var e=new ml;return{x:e.read(t),y:e.read(t),z:e.read(t),w:e.read(t)}}}],[{key:"isTypeOf",value:function(t){switch(t){case"Microsoft.Xna.Framework.Content.Vector4Reader":case"Microsoft.Xna.Framework.Vector4":return!0;default:return!1}}}]),r}(nl),md={ArrayReader:al,BaseReader:nl,BmFontReader:cl,BooleanReader:fl,CharReader:ll,DictionaryReader:dl,DoubleReader:vl,EffectReader:pl,Int32Reader:yl,ListReader:wl,NullableReader:_l,RectangleReader:bl,ReflectiveReader:gl,SingleReader:ml,SpriteFontReader:yd,StringReader:hl,TBinReader:wd,Texture2DReader:vd,UInt32Reader:il,Vector2Reader:gd,Vector3Reader:pd,Vector4Reader:bd};_d=md,Sc.setReaders(_d),t.Readers=md,t.XnbContent=hf,t.XnbData=uf,t.addReaders=function(t){return Sc.addReaders(t)},t.bufferToContents=function(t){return tl((new df).load(t))},t.bufferToXnb=Qf,t.pack=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=el(t),n=[],i=Object.keys(r),a=0;a<i.length;a++){var o=i[a],s=r[o];n.push(Yf(s,e).then(rl).then((function(t){return"function"==typeof Blob?{name:o,data:new Blob([t],{type:"application/octet-stream"})}:{name:o,data:new Uint8Array(t)}})))}return Eu(n).then((function(t){return!0===e.debug?t:t.filter((function(t){var e=t.status;return t.value,"fulfilled"===e})).map((function(t){return t.value}))}))},t.unpackToContent=function(t){return qf(t).then(tl)},t.unpackToFiles=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.yaml,n=void 0!==r&&r,i=e.contentOnly,a=void 0!==i&&i,o=e.fileName,s=void 0===o?null:o;"undefined"!=typeof window&&null===s&&(s=t.name);var u=Pf(s),h=u[0],c=function(t){return jf(t,{yaml:n,contentOnly:a,fileName:h})};return qf(t).then(c)},t.unpackToXnbData=qf,t.xnbDataToContent=tl,t.xnbDataToFiles=jf,Object.defineProperty(t,"__esModule",{value:!0})}));
